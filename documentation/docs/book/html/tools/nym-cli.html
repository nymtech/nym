<!DOCTYPE HTML>
<html lang="en" class="coal" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>NymCLI - Nym Docs</title>


        <!-- Custom HTML head -->
        
        <meta name="description" content="Nym technical documentation">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="../favicon.svg">
        <link rel="shortcut icon" href="../favicon.png">
        <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">
        <link rel="stylesheet" href="../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../highlight.css">
        <link rel="stylesheet" href="../tomorrow-night.css">
        <link rel="stylesheet" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        <link rel="stylesheet" href=".././themes/custom.css">
        <link rel="stylesheet" href=".././themes/mdbook-admonish.css">
        <link rel="stylesheet" href=".././themes/pagetoc.css">

<!--        -->
    </head>
    <body class="sidebar-visible no-js">
    <div id="body-container">
        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "coal" : "coal";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('coal')
            html.classList.add(theme);
            var body = document.querySelector('body');
            body.classList.remove('no-js')
            body.classList.add('js');
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var body = document.querySelector('body');
            var sidebar = null;
            var sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            sidebar_toggle.checked = sidebar === 'visible';
            body.classList.remove('sidebar-visible');
            body.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item affix "><li class="part-title">Summary</li><li class="chapter-item affix "><li class="part-title">Architecture</li><li class="chapter-item "><a href="../architecture/network-overview.html"><strong aria-hidden="true">1.</strong> Network Overview</a></li><li class="chapter-item "><a href="../architecture/nym-vs-others.html"><strong aria-hidden="true">2.</strong> Nym vs Other Systems</a></li><li class="chapter-item "><a href="../architecture/traffic-flow.html"><strong aria-hidden="true">3.</strong> Mixnet Traffic Flow</a></li><li class="chapter-item "><a href="../architecture/addressing-system.html"><strong aria-hidden="true">4.</strong> Addressing System</a></li><li class="chapter-item affix "><li class="part-title">Binaries</li><li class="chapter-item "><a href="../binaries/pre-built-binaries.html"><strong aria-hidden="true">5.</strong> Pre-built Binaries</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../binaries/init-and-config.html"><strong aria-hidden="true">5.1.</strong> Binary Initialisation and Configuration</a></li></ol></li><li class="chapter-item "><a href="../binaries/building-nym.html"><strong aria-hidden="true">6.</strong> Building from Source</a></li><li class="chapter-item affix "><li class="part-title">Nodes</li><li class="chapter-item "><a href="../nodes/overview.html"><strong aria-hidden="true">7.</strong> Node Types (Previously Setup Guides)</a></li><li class="chapter-item affix "><li class="part-title">Wallet</li><li class="chapter-item "><a href="../wallet/desktop-wallet.html"><strong aria-hidden="true">8.</strong> Desktop Wallet</a></li><li class="chapter-item "><a href="../wallet/cli-wallet.html"><strong aria-hidden="true">9.</strong> CLI Wallet</a></li><li class="chapter-item affix "><li class="part-title">Explorers</li><li class="chapter-item "><a href="../explorers/mixnet-explorer.html"><strong aria-hidden="true">10.</strong> Mixnet Explorer</a></li><li class="chapter-item affix "><li class="part-title">Nyx Blockchain</li><li class="chapter-item "><a href="../nyx/interacting-with-chain.html"><strong aria-hidden="true">11.</strong> Interacting with Nyx Chain and Smart Contracts</a></li><li class="chapter-item "><a href="../nyx/smart-contracts.html"><strong aria-hidden="true">12.</strong> Smart Contracts</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../nyx/mixnet-contract.html"><strong aria-hidden="true">12.1.</strong> Mixnet Contract</a></li><li class="chapter-item "><a href="../nyx/vesting-contract.html"><strong aria-hidden="true">12.2.</strong> Vesting Contract</a></li></ol></li><li class="chapter-item "><a href="../nyx/rpc-node.html"><strong aria-hidden="true">13.</strong> RPC Nodes</a></li><li class="chapter-item "><a href="../nyx/ledger-live.html"><strong aria-hidden="true">14.</strong> Ledger Live Support</a></li><li class="chapter-item affix "><li class="part-title">Coconut</li><li class="chapter-item "><a href="../coconut.html"><strong aria-hidden="true">15.</strong> Coconut</a></li><li class="chapter-item "><a href="../bandwidth-credentials.html"><strong aria-hidden="true">16.</strong> Bandwidth Credentials</a></li><li class="chapter-item affix "><li class="part-title">Tools</li><li class="chapter-item expanded "><a href="../tools/nym-cli.html" class="active"><strong aria-hidden="true">17.</strong> NymCLI</a></li><li class="chapter-item affix "><li class="spacer"></li><li class="chapter-item affix "><li class="part-title">Misc.</li><li class="chapter-item "><a href="../coc.html"><strong aria-hidden="true">18.</strong> Code of Conduct</a></li><li class="chapter-item "><a href="../licensing.html"><strong aria-hidden="true">19.</strong> Licensing</a></li><li class="chapter-item affix "><li class="spacer"></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <!-- Track and set sidebar scroll position -->
        <script>
            var sidebarScrollbox = document.querySelector('#sidebar .sidebar-scrollbox');
            sidebarScrollbox.addEventListener('click', function(e) {
                if (e.target.tagName === 'A') {
                    sessionStorage.setItem('sidebar-scroll', sidebarScrollbox.scrollTop);
                }
            }, { passive: true });
            var sidebarScrollTop = sessionStorage.getItem('sidebar-scroll');
            sessionStorage.removeItem('sidebar-scroll');
            if (sidebarScrollTop) {
                // preserve sidebar scroll position when navigating via links within sidebar
                sidebarScrollbox.scrollTop = sidebarScrollTop;
            } else {
                // scroll sidebar to current active section when navigating via "next/previous chapter" buttons
                var activeSection = document.querySelector('#sidebar .active');
                if (activeSection) {
                    activeSection.scrollIntoView({ block: 'center' });
                }
            }
        </script>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>

                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Dark</button></li>
                        </ul>

                        <!-- CUSTOM -->
                        <select id="dropdown-menu" class="icon-button">
                            <option value="https://nymtech.net/docs">Network Docs</option>
                            <option value="https://nymtech.net/learn/papers">Academic Papers</option>
                            <option value="">--------</option>
                            <option value="https://nymtech.net/developers">Dev Portal</option>
                            <option value="https://nymtech.net/docs/sdk/rust/rust.html">Rust SDK</option>
                            <option value="https://sdk.nymtech.net">Typescript SDK</option>
                            <option value="">--------</option>
                            <option value="">Setup Guides</option>
                            <option value="https://nymtech.net/operators">Operators</option>
                            <option value="https://nymtech.net/developers/nymvpn/intro.html">NymVPN Testing</option>
                        </select>

                        <script>
                            document.getElementById('dropdown-menu').addEventListener('change', function() {
                                const selected = this.options[this.selectedIndex];
                                if (selected.value !== '') {
                                    window.location.href = selected.value;
                                }
                            });
                        </script>
                        
                        <!-- END CUSTOM -->
                    </div>

                    <h1 class="menu-title"> Nym Docs</h1>

                    <div class="right-buttons">
                            <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                                <i class="fa fa-search"></i>
                            </button>
                        <a href="../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        <a href="https://github.com/nymtech/nym/documentation/" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <main>
                            <div class="sidetoc">
                                <nav class="pagetoc"></nav>
                            </div>
                            <div class="content-wrap">

                        <h1 id="nym-cli"><a class="header" href="#nym-cli">Nym-CLI</a></h1>
<h2 id="what-is-this-tool-for"><a class="header" href="#what-is-this-tool-for">What is this tool for?</a></h2>
<p>This is a CLI tool for interacting with:</p>
<ul>
<li>the Nyx blockchain (account management, querying the chain state, etc)</li>
<li>the smart contracts deployed on Nyx (bonding and un-bonding mixnodes, collecting rewards, etc)</li>
</ul>
<p>It provides a convenient wrapper around the <code>nymd</code> client, and has similar functionality to the <code>nyxd</code> binary for querying the chain or executing smart contract methods.</p>
<h2 id="building"><a class="header" href="#building">Building</a></h2>
<p>The <code>nym-cli</code> binary can be built by running <code>cargo build --release</code> in the <code>nym/tools/nym-cli</code> directory.</p>
<h3 id="usage"><a class="header" href="#usage">Usage</a></h3>
<p>You can see all available commands with:</p>
<pre><code>./nym-cli --help
</code></pre>
<details id="admonition-console-output" class="admonition admonish-example" role="note" aria-labelledby="admonition-console-output-title">
<summary class="admonition-title">
<div id="admonition-console-output-title">
<p>Console output</p>
</div>
<a class="admonition-anchor-link" href="#admonition-console-output"></a>
</summary>
<div>
<pre><code>
nym-cli
A client for interacting with Nym smart contracts and the Nyx blockchain

USAGE:
    nym-cli [OPTIONS] &lt;subcommand&gt;

OPTIONS:
        --config-env-file &lt;CONFIG_ENV_FILE&gt;
            Overrides configuration as a file of environment variables. Note: individual env vars
            take precedence over this file.

    -h, --help
            Print help information

        --mixnet-contract-address &lt;MIXNET_CONTRACT_ADDRESS&gt;
            Overrides the mixnet contract address provided either as an environment variable or in a
            config file

        --mnemonic &lt;MNEMONIC&gt;
            Provide the mnemonic for your account. You can also provide this is an env var called
            MNEMONIC.

        --nymd-url &lt;NYMD_URL&gt;
            Overrides the nymd URL provided either as an environment variable NYMD_VALIDATOR or in a
            config file

        --validator-api-url &lt;VALIDATOR_API_URL&gt;
            Overrides the validator API URL provided either as an environment variable API_VALIDATOR
            or in a config file

        --vesting-contract-address &lt;VESTING_CONTRACT_ADDRESS&gt;
            Overrides the vesting contract address provided either as an environment variable or in
            a config file

subcommands:
    account             Query and manage Nyx blockchain accounts
    block               Query chain blocks
    cosmwasm            Manage and execute WASM smart contracts
    generate-fig        Generates shell completion
    help                Print this message or the help of the given subcommand(s)
    mixnet              Manage your mixnet infrastructure, delegate stake or query the directory
    signature           Sign and verify messages
    tx                  Query for transactions
    vesting-schedule    Create and query for a vesting schedule
</code></pre>
</div>
</details>
<h2 id="example-usage"><a class="header" href="#example-usage">Example Usage</a></h2>
<p>Below we have listed some example commands for some of the features listed above.</p>
<p>If ever in doubt what you need to type, or if you want to see alternative parameters for a command, use the <code>nym-cli &lt;subcommand_name&gt; --help</code> to view all available options.</p>
<pre><code>./nym-cli account create --help
</code></pre>
<details id="admonition-console-output-1" class="admonition admonish-example" role="note" aria-labelledby="admonition-console-output-1-title">
<summary class="admonition-title">
<div id="admonition-console-output-1-title">
<p>Console output</p>
</div>
<a class="admonition-anchor-link" href="#admonition-console-output-1"></a>
</summary>
<div>
<pre><code>
Create a new mnemonic - note, this account does not appear on the chain until the account id is used in a transaction

USAGE:
    nym-cli account create [OPTIONS]

OPTIONS:
    --config-env-file &lt;CONFIG_ENV_FILE&gt;
        Overrides configuration as a file of environment variables. Note: individual env vars take precedence over this file.

-h, --help
        Print help information

    --mixnet-contract-address &lt;MIXNET_CONTRACT_ADDRESS&gt;
        Overrides the mixnet contract address provided either as an environment variable or in a
        config file

    --mnemonic &lt;MNEMONIC&gt;
        Provide the mnemonic for your account. You can also provide this is an env var called
        MNEMONIC.

    --nymd-url &lt;NYMD_URL&gt;
        Overrides the nymd URL provided either as an environment variable NYMD_VALIDATOR or in a
        config file

    --validator-api-url &lt;VALIDATOR_API_URL&gt;
        Overrides the validator API URL provided either as an environment variable API_VALIDATOR
        or in a config file

    --vesting-contract-address &lt;VESTING_CONTRACT_ADDRESS&gt;
        Overrides the vesting contract address provided either as an environment variable or in
        a config file

    --word-count &lt;WORD_COUNT&gt;
</code></pre>
</div>
</details>
<h3 id="create-account"><a class="header" href="#create-account">Create account</a></h3>
<p>Creates an account with a random Mnemonic and a new address.</p>
<pre><code>./nym-cli account create

# Result:
# 1. Mnemonic
assist jungle spoil domain saddle energy box carpet toy resist castle faith talent note outdoor inform cage lecture syrup trigger dress oppose slender museum
# 2. Address
n132tpw4kkfas7ah0vmq78dwurhxljf2f869tlf5
</code></pre>
<blockquote>
<p>NEVER share your mnemonic with anyone. Keep it stored in a safe and secure location.</p>
</blockquote>
<h3 id="check-the-current-balance-of-an-account"><a class="header" href="#check-the-current-balance-of-an-account">Check the current balance of an account</a></h3>
<p>Queries the existing balance of an account.</p>
<pre><code># Using adddress below for example purposes.
./nym-cli account balance n1hzn28p2c6pzr98r85jp3h53fy8mju5w7ndd5vh

# Result:
2022-11-10T10:28:54.009Z INFO  nym_cli_commands::validator::account::balance &gt; Getting balance for n1hzn28p2c6pzr98r85jp3h53fy8mju5w7ndd5vh...

# Balance for each token will be listed here
0.264 nym
1921.995 nyx
</code></pre>
<p>You can also query an accounts balance by using its mnemonic:</p>
<pre><code>./nym-cli account balance --mnemonic &lt;mnemonic&gt;
</code></pre>
<h3 id="send-tokens-to-an-account"><a class="header" href="#send-tokens-to-an-account">Send tokens to an account</a></h3>
<p>Sends tokens to an account using an address.</p>
<pre><code>./nym-cli account send &lt;ADDRESS&gt; &lt;AMOUNT&gt;
</code></pre>
<h3 id="get-the-current-block-height"><a class="header" href="#get-the-current-block-height">Get the current block height</a></h3>
<p>Queries the specified blockchain (Nyx chain by default) for the current block height.</p>
<pre><code>./nym-cli block current-height --mnemonic &lt;mnemonic&gt;

# Result:
Current block height:
&lt;BLOCK_HEIGHT&gt;
</code></pre>
<h3 id="query-for-a-mix-node"><a class="header" href="#query-for-a-mix-node">Query for a mix node</a></h3>
<p>Query a mix node on the mixnet.</p>
<pre><code>./nym-cli mixnet query mixnodes --mnemonic &lt;mnemonic&gt;
</code></pre>
<h3 id="bond-a-mix-node"><a class="header" href="#bond-a-mix-node">Bond a mix node</a></h3>
<p>Bonding a mix node is a process that takes a few steps due to the need to sign a transaction with your nym address for replay attack protection.</p>
<ul>
<li>generate a signature payload:</li>
</ul>
<pre><code>./nym-cli mixnet operators mixnode create-mixnode-bonding-sign-payload

# returns something like
97GEhgMrPTmQVZgHqJeqWmgQ154GLKqy8xNGtLkV8xy5xc1SuwsEnqjhtZVshBYK74n53fFkKbSrS6kxkBE3vUikbU76JZmLMFmfR7aaU2NdBnfTPPHP2nwb2hJiEueq4SvvtDtQckxv7ZJzdxyXHxUeDPhzbprxTff78U3NGNk4cg6Q2K4EFqishdaqToedsXAPvVCWNbC1iWVjEq8nJ95Eb3NJyi3KmXcNDy4i8ZXgZHu4v8F4htXq2vZUdBSbizdkNr1NRvEg6PGVQdTseyuN8JxD3yuvrqprPY2kvJaT2YiYLPgWxoQtbfwcpkX4PP1PvwuMg4W8EXhitMpM2WHqLDP5vgfDGxdDCmRS44pM8ya4hcQ4g3McHWxduGWdbCzNNEsX6oQw4LVFcWn4mhbXSgqHwNQMm2TQW6LatYZSwCczdhEwV2CXe36UGCUzozmm4nj9qfUtXqDzMrHAAS8kjbKaVNaVaRRKgauQrHnK7QGg1QpVnnaxCs14wvUb62sio8XZmMzP2SjVaRJFCyJB3UwZ6L4oXMGMXSRsiKe8ZNTaa6iX69tx54CAAHBHoiReiq7E5T2VuR5v
</code></pre>
<ul>
<li>sign this payload:</li>
</ul>
<pre><code>./nym-mixnode sign --id upgrade_test --contract-msg 97GEhgMrPTmQVZgHqJeqWmgQ154GLKqy8xNGtLkV8xy5xc1SuwsEnqjhtZVshBYK74n53fFkKbSrS6kxkBE3vUikbU76JZmLMFmfR7aaU2NdBnfTPPHP2nwb2hJiEueq4SvvtDtQckxv7ZJzdxyXHxUeDPhzbprxTff78U3NGNk4cg6Q2K4EFqishdaqToedsXAPvVCWNbC1iWVjEq8nJ95Eb3NJyi3KmXcNDy4i8ZXgZHu4v8F4htXq2vZUdBSbizdkNr1NRvEg6PGVQdTseyuN8JxD3yuvrqprPY2kvJaT2YiYLPgWxoQtbfwcpkX4PP1PvwuMg4W8EXhitMpM2WHqLDP5vgfDGxdDCmRS44pM8ya4hcQ4g3McHWxduGWdbCzNNEsX6oQw4LVFcWn4mhbXSgqHwNQMm2TQW6LatYZSwCczdhEwV2CXe36UGCUzozmm4nj9qfUtXqDzMrHAAS8kjbKaVNaVaRRKgauQrHnK7QGg1QpVnnaxCs14wvUb62sio8XZmMzP2SjVaRJFCyJB3UwZ6L4oXMGMXSRsiKe8ZNTaa6iX69tx54CAAHBHoiReiq7E5T2VuR5v
</code></pre>
<ul>
<li>bond the node using the signature:</li>
</ul>
<pre><code>./nym-cli --mnemonic &lt;mnemonic&gt; mixnet operators mixnode bond --amount 100000000 --mix-port 1789 --version "1.1.13" --host "85.163.111.99" --identity-key "B6pWscxYb8sPAdKTci8zPy5AgMzn5Zx8KpWwQNCyUSU7" --location "nym-town" --sphinx-key "o6MmKHzRewpNzVwaV37ZX9G3BfK4AmfYvsQfyoyAFRk" --signature "2TujBZfer8r5QM639Yb8coD9xH6f5eXzjAT5dD7wMom9fH8D1u36d7UpPdVaaZrWsCynmYpobwMWqiMKr5kM6CprD"
</code></pre>
<h3 id="bond-a-gateway"><a class="header" href="#bond-a-gateway">Bond a gateway</a></h3>
<p>Bonding a mix node is a process that takes a few steps due to the need to sign a transaction with your nym address for replay attack protection.</p>
<ul>
<li>generate a signature payload:</li>
</ul>
<pre><code>./nym-cli mixnet operators gateway create-gateway-bonding-sign-payload

# returns something like
97GEhgMrPTmQVZgHqJeqWmgQ154GLKqy8xNGtLkV8xy5xc1SuwsEnqjhtZVshBYK74n53fFkKbSrS6kxkBE3vUikbU76JZmLMFmfR7aaU2NdBnfTPPHP2nwb2hJiEueq4SvvtDtQckxv7ZJzdxyXHxUeDPhzbprxTff78U3NGNk4cg6Q2K4EFqishdaqToedsXAPvVCWNbC1iWVjEq8nJ95Eb3NJyi3KmXcNDy4i8ZXgZHu4v8F4htXq2vZUdBSbizdkNr1NRvEg6PGVQdTseyuN8JxD3yuvrqprPY2kvJaT2YiYLPgWxoQtbfwcpkX4PP1PvwuMg4W8EXhitMpM2WHqLDP5vgfDGxdDCmRS44pM8ya4hcQ4g3McHWxduGWdbCzNNEsX6oQw4LVFcWn4mhbXSgqHwNQMm2TQW6LatYZSwCczdhEwV2CXe36UGCUzozmm4nj9qfUtXqDzMrHAAS8kjbKaVNaVaRRKgauQrHnK7QGg1QpVnnaxCs14wvUb62sio8XZmMzP2SjVaRJFCyJB3UwZ6L4oXMGMXSRsiKe8ZNTaa6iX69tx54CAAHBHoiReiq7E5T2VuR5v
</code></pre>
<ul>
<li>sign this payload:</li>
</ul>
<pre><code>./nym-gateway sign --id upgrade_test --contract-msg 97GEhgMrPTmQVZgHqJeqWmgQ154GLKqy8xNGtLkV8xy5xc1SuwsEnqjhtZVshBYK74n53fFkKbSrS6kxkBE3vUikbU76JZmLMFmfR7aaU2NdBnfTPPHP2nwb2hJiEueq4SvvtDtQckxv7ZJzdxyXHxUeDPhzbprxTff78U3NGNk4cg6Q2K4EFqishdaqToedsXAPvVCWNbC1iWVjEq8nJ95Eb3NJyi3KmXcNDy4i8ZXgZHu4v8F4htXq2vZUdBSbizdkNr1NRvEg6PGVQdTseyuN8JxD3yuvrqprPY2kvJaT2YiYLPgWxoQtbfwcpkX4PP1PvwuMg4W8EXhitMpM2WHqLDP5vgfDGxdDCmRS44pM8ya4hcQ4g3McHWxduGWdbCzNNEsX6oQw4LVFcWn4mhbXSgqHwNQMm2TQW6LatYZSwCczdhEwV2CXe36UGCUzozmm4nj9qfUtXqDzMrHAAS8kjbKaVNaVaRRKgauQrHnK7QGg1QpVnnaxCs14wvUb62sio8XZmMzP2SjVaRJFCyJB3UwZ6L4oXMGMXSRsiKe8ZNTaa6iX69tx54CAAHBHoiReiq7E5T2VuR5v
</code></pre>
<ul>
<li>bond the node using this signature:</li>
</ul>
<pre><code>./nym-cli --mnemonic &lt;mnemonic&gt; mixnet operators gateway bond --amount 100000000 --mix-port 1789 --version "1.1.13" --host "85.163.111.99" --identity-key "B6pWscxYb8sPAdKTci8zPy5AgMzn5Zx8KpWwQNCyUSU7" --location "nym-town" --sphinx-key "o6MmKHzRewpNzVwaV37ZX9G3BfK4AmfYvsQfyoyAFRk" --signature "2TujBZfer8r5QM639Yb8coD9xH6f5eXzjAT5dD7wMom9fH8D1u36d7UpPdVaaZrWsCynmYpobwMWqiMKr5kM6CprD"
</code></pre>
<h3 id="un-bond-a-node"><a class="header" href="#un-bond-a-node">Un-bond a node</a></h3>
<p>Un-bond a mix node or gateway.</p>
<pre><code>./nym-cli mixnet operators gateway unbound --mnemonic &lt;mnemonic&gt;
</code></pre>
<blockquote>
<p>The same command can be applied with a mix node. Just replace <code>gateway</code> with <code>mixnode</code>.</p>
</blockquote>
<h3 id="upgrade-a-mix-node"><a class="header" href="#upgrade-a-mix-node">Upgrade a mix node</a></h3>
<p>Upgrade your node config.</p>
<pre><code>./nym-cli mixnet operators mixnode settings update-config --version &lt;new_version&gt;
</code></pre>
<h3 id="claim-a-vesting-reward-for-a-mixnode"><a class="header" href="#claim-a-vesting-reward-for-a-mixnode">Claim a vesting reward for a mixnode</a></h3>
<p>Claim rewards for a mix node bonded with locked tokens.</p>
<pre><code>./nym-cli mixnet operators mixnode rewards vesting-claim --mnemonic &lt;mnemonic&gt;
</code></pre>
<h3 id="claim-rewards"><a class="header" href="#claim-rewards">Claim rewards</a></h3>
<pre><code>./nym-cli mixnet operators mixnode rewards --mnemonic &lt;mnemonic&gt;
</code></pre>
<h3 id="manage-mix-node-settings"><a class="header" href="#manage-mix-node-settings">Manage Mix node Settings</a></h3>
<p>Manage your mix node settings stored in the directory.</p>
<pre><code>./nym-cli mixnet operators mixnode settings update-config --version &lt;VERSION_NUMBER&gt;
</code></pre>
<h3 id="delegate-stake"><a class="header" href="#delegate-stake">Delegate Stake</a></h3>
<p>Delegate to a mix node.</p>
<pre><code>./nym-cli mixnet delegators delegate --amount &lt;AMOUNT&gt; –mix-id &lt;MIX_ID&gt; --mnemonic &lt;mnemonic&gt;
</code></pre>
<h3 id="un-delegate-stake"><a class="header" href="#un-delegate-stake">Un-delegate Stake</a></h3>
<p>Remove stake from a mix node.</p>
<pre><code>./nym-cli mixnet delegators undelegate --mix-id &lt;MIX-ID&gt; --mnemonic &lt;mnemonic&gt;
</code></pre>
<h3 id="query-a-reward-for-a-delegator"><a class="header" href="#query-a-reward-for-a-delegator">Query a reward for a delegator</a></h3>
<p>Claim rewards accumulated during the delegation of unlocked tokens.</p>
<pre><code>./nym-cli mixnet delegators rewards claim --mix-id &lt;MIX-ID&gt; --mnemonic &lt;mnemonic&gt;
</code></pre>
<h3 id="signature-generation-sign-a-message"><a class="header" href="#signature-generation-sign-a-message">Signature Generation: Sign a message</a></h3>
<p>Sign a message.</p>
<pre><code>./nym-cli signature sign --mnemonic &lt;mnemonic&gt; &lt;MESSAGE&gt;

# Result:
{"account_id":&lt;ACCOUNT_ID&gt;,"public_key":{"@type":"/cosmos.crypto.secp256k1.PubKey","key":&lt;PUBLIC_KEY&gt;},"signature":"&lt;OUTPUT_SIGNATURE&gt;"}
</code></pre>
<h3 id="signature-generation-verify-a-signature"><a class="header" href="#signature-generation-verify-a-signature">Signature Generation: Verify a signature</a></h3>
<p>Verify a signature.</p>
<pre><code>./nym-cli signature verify  --mnemonic &lt;mnemonic&gt; &lt;PUBLIC_KEY_OR_ADDRESS&gt; &lt;SIGNATURE_AS_HEX&gt; &lt;MESSAGE&gt;
</code></pre>
<h3 id="create-a-vesting-schedule"><a class="header" href="#create-a-vesting-schedule">Create a Vesting Schedule</a></h3>
<p>Creates a vesting schedule for an account in the <a href="../nyx/vesting-contract.html">vesting smart contract</a>.</p>
<pre><code>./nym-cli vesting-schedule create --mnemonic &lt;mnemonic&gt; --address &lt;ADDRESS&gt; --amount &lt;AMOUNT&gt;
</code></pre>
<h3 id="query-a-vesting-schedule"><a class="header" href="#query-a-vesting-schedule">Query a Vesting Schedule</a></h3>
<p>Query for vesting schedule in the <a href="../nyx/vesting-contract.html">vesting smart contract</a>.</p>
<pre><code>./nym-cli vesting-schedule query --mnemonic &lt;mnemonic&gt;
</code></pre>
<h2 id="staking-on-someones-behalf-for-custodians"><a class="header" href="#staking-on-someones-behalf-for-custodians">Staking on someone’s behalf (for custodians)</a></h2>
<p>There is a limitation the staking address can only perform the following actions (and are visible via the Nym Wallet:</p>
<ul>
<li>Bond on the gateway’s or mix node’s behalf.</li>
<li>Delegate or Un-delegate (to a mix node in order to begin receiving rewards)</li>
<li>Claiming the rewards on the account</li>
</ul>
<div id="admonition-default" class="admonition admonish-note" role="note">
<div>
<p>The staking address has no ability to withdraw any coins from the parent’s account.</p>
</div>
</div>
<p>The staking address must maintain the same level of security as the parent mnemonic; while the parent mnemonic’s delegations and bonding events will be visible to the parent owner, the staking address will be the only account capable of undoing the bonding and delegating from the mix nodes or gateway.</p>
<p>Query for staking on behalf of someone else</p>
<pre><code>./nym-cli --mnemonic &lt;staking address mnemonic&gt;  mixnet delegators delegate --mix-id &lt;input&gt; --identity-key &lt;input&gt; --amount &lt;input&gt;
</code></pre>
<footer id="last-change">Last change: 2023-08-18, commit: <a href="https://github.com/nymtech/nym/documentation//commit/9652060c5">9652060c5</a></footer>
                            </div>
                        </main>
                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../bandwidth-credentials.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next prefetch" href="../coc.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../bandwidth-credentials.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next prefetch" href="../coc.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>

        <!-- Livereload script (if served using the cli tool) -->
        <script>
            const wsProtocol = location.protocol === 'https:' ? 'wss:' : 'ws:';
            const wsAddress = wsProtocol + "//" + location.host + "/" + "__livereload";
            const socket = new WebSocket(wsAddress);
            socket.onmessage = function (event) {
                if (event.data === "reload") {
                    socket.close();
                    location.reload();
                }
            };

            window.onbeforeunload = function() {
                socket.close();
            }
        </script>


        <script>
            window.playground_copyable = true;
        </script>


        <script src="../elasticlunr.min.js"></script>
        <script src="../mark.min.js"></script>
        <script src="../searcher.js"></script>

        <script src="../clipboard.min.js"></script>
        <script src="../highlight.js"></script>
        <script src="../book.js"></script>

        <!-- Custom JS scripts -->
        <script src=".././themes/pagetoc.js"></script>



    </div>
    </body>
</html>
