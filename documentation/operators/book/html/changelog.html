<!DOCTYPE HTML>
<html lang="en" class="coal" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Changelog - Nym Operators Guide</title>


        <!-- Custom HTML head -->
        
        <meta name="description" content="Everything needed to run Nym Mixnet components">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        <link rel="stylesheet" href="./themes/custom.css">
        <link rel="stylesheet" href="./themes/mdbook-admonish.css">
        <link rel="stylesheet" href="./themes/pagetoc.css">

<!--        -->
    </head>
    <body class="sidebar-visible no-js">
    <div id="body-container">
        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "coal" : "coal";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('coal')
            html.classList.add(theme);
            var body = document.querySelector('body');
            body.classList.remove('no-js')
            body.classList.add('js');
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var body = document.querySelector('body');
            var sidebar = null;
            var sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            sidebar_toggle.checked = sidebar === 'visible';
            body.classList.remove('sidebar-visible');
            body.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item affix "><li class="part-title">Summary</li><li class="chapter-item "><a href="introduction.html"><strong aria-hidden="true">1.</strong> Introduction</a></li><li class="chapter-item expanded "><a href="changelog.html" class="active"><strong aria-hidden="true">2.</strong> Changelog</a></li><li class="chapter-item "><a href="release-cycle.html"><strong aria-hidden="true">3.</strong> Release Cycle</a></li><li class="chapter-item "><a href="sandbox.html"><strong aria-hidden="true">4.</strong> Sandbox Testnet</a></li><li class="chapter-item affix "><li class="part-title">Binaries</li><li class="chapter-item "><a href="binaries/pre-built-binaries.html"><strong aria-hidden="true">5.</strong> Pre-built Binaries</a></li><li class="chapter-item "><a href="binaries/building-nym.html"><strong aria-hidden="true">6.</strong> Building from Source</a></li><li class="chapter-item affix "><li class="part-title">Operators Guides</li><li class="chapter-item "><a href="nodes/preliminary-steps.html"><strong aria-hidden="true">7.</strong> Preliminary Steps</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="nodes/wallet-preparation.html"><strong aria-hidden="true">7.1.</strong> Nym Wallet Preparation</a></li><li class="chapter-item "><a href="nodes/vps-setup.html"><strong aria-hidden="true">7.2.</strong> VPS Setup</a></li></ol></li><li class="chapter-item "><a href="nodes/nym-node.html"><strong aria-hidden="true">8.</strong> Nym Node</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="nodes/setup.html"><strong aria-hidden="true">8.1.</strong> Setup & Run</a></li><li class="chapter-item "><a href="nodes/configuration.html"><strong aria-hidden="true">8.2.</strong> Configuration</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="nodes/proxy-configuration.html"><strong aria-hidden="true">8.2.1.</strong> WSS & Reversed Proxy</a></li></ol></li><li class="chapter-item "><a href="nodes/bonding.html"><strong aria-hidden="true">8.3.</strong> Bonding</a></li></ol></li><li class="chapter-item "><a href="nodes/validator-setup.html"><strong aria-hidden="true">9.</strong> Nyx Validator Setup</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="nodes/nym-api.html"><strong aria-hidden="true">9.1.</strong> Nym API Setup</a></li><li class="chapter-item "><a href="nodes/nyx-configuration.html"><strong aria-hidden="true">9.2.</strong> Validator & API Configuration</a></li></ol></li><li class="chapter-item "><a href="nodes/maintenance.html"><strong aria-hidden="true">10.</strong> Maintenance</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="nodes/manual-upgrade.html"><strong aria-hidden="true">10.1.</strong> Manual Node Upgrade</a></li><li class="chapter-item "><a href="nodes/nymvisor-upgrade.html"><strong aria-hidden="true">10.2.</strong> Automatic Node Upgrade: Nymvisor Setup and Usage</a></li></ol></li><li class="chapter-item "><a href="testing/performance.html"><strong aria-hidden="true">11.</strong> Performance Monitoring & Testing</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="testing/gateway-probe.html"><strong aria-hidden="true">11.1.</strong> Gateway Probe</a></li><li class="chapter-item "><a href="testing/node-api-check.html"><strong aria-hidden="true">11.2.</strong> Node API Check</a></li><li class="chapter-item "><a href="testing/prometheus-grafana.html"><strong aria-hidden="true">11.3.</strong> Prometheus & Grafana</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="testing/explorenym-scripts.html"><strong aria-hidden="true">11.3.1.</strong> ExploreNYM scripts</a></li></ol></li></ol></li><li class="chapter-item "><li class="part-title">Troubleshooting</li><li class="chapter-item "><a href="troubleshooting/vps-isp.html"><strong aria-hidden="true">12.</strong> VPS Setup</a></li><li class="chapter-item "><a href="troubleshooting/nodes.html"><strong aria-hidden="true">13.</strong> Nym Node</a></li><li class="chapter-item "><a href="troubleshooting/validators.html"><strong aria-hidden="true">14.</strong> Validators</a></li><li class="chapter-item affix "><li class="part-title">Token Economics</li><li class="chapter-item "><a href="tokenomics/validator-rewards.html"><strong aria-hidden="true">15.</strong> Nyx: Validator Rewards</a></li><li class="chapter-item affix "><li class="part-title">FAQ</li><li class="chapter-item "><a href="faq/general-faq.html"><strong aria-hidden="true">16.</strong> General Operators FAQ</a></li><li class="chapter-item "><a href="faq/nym-nodes-faq.html"><strong aria-hidden="true">17.</strong> Nym Nodes</a></li><li class="chapter-item "><a href="faq/nyx-faq.html"><strong aria-hidden="true">18.</strong> Nyx & Validators</a></li><li class="chapter-item affix "><li class="part-title">Community & Legal Forum</li><li class="chapter-item "><a href="legal/exit-gateway.html"><strong aria-hidden="true">19.</strong> Exit Gateway</a></li><li class="chapter-item "><a href="legal/community-counsel.html"><strong aria-hidden="true">20.</strong> Community Counsel</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="legal/isp-list.html"><strong aria-hidden="true">20.1.</strong> ISP List</a></li><li class="chapter-item "><a href="legal/jurisdictions.html"><strong aria-hidden="true">20.2.</strong> Jurisdictions</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="legal/swiss.html"><strong aria-hidden="true">20.2.1.</strong> Switzerland</a></li><li class="chapter-item "><a href="legal/united-states.html"><strong aria-hidden="true">20.2.2.</strong> United States</a></li></ol></li><li class="chapter-item "><a href="legal/landing-pages.html"><strong aria-hidden="true">20.3.</strong> Landing Pages</a></li></ol></li><li class="chapter-item "><a href="legal/add-content.html"><strong aria-hidden="true">21.</strong> How to Add Info</a></li><li class="chapter-item affix "><li class="spacer"></li><li class="chapter-item affix "><li class="part-title">Archive</li><li class="chapter-item "><a href="archive/archive.html"><strong aria-hidden="true">22.</strong> Why archive?</a></li><li class="chapter-item "><a href="archive/nodes/setup-guides.html"><strong aria-hidden="true">23.</strong> Mixnet Nodes Setup</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="archive/nodes/initial-steps.html"><strong aria-hidden="true">23.1.</strong> Preliminary Steps</a></li><li class="chapter-item "><a href="archive/nodes/mix-node-setup.html"><strong aria-hidden="true">23.2.</strong> Mix Node</a></li><li class="chapter-item "><a href="archive/nodes/gateway-setup.html"><strong aria-hidden="true">23.3.</strong> Gateway</a></li><li class="chapter-item "><a href="archive/nodes/network-requester-setup.html"><strong aria-hidden="true">23.4.</strong> Network Requester</a></li></ol></li><li class="chapter-item "><a href="archive/faq/mixnodes-faq.html"><strong aria-hidden="true">24.</strong> FAQ: Mix Nodes</a></li><li class="chapter-item "><a href="archive/faq/smoosh-faq.html"><strong aria-hidden="true">25.</strong> FAQ: Project Smoosh</a></li><li class="chapter-item affix "><li class="spacer"></li><li class="chapter-item affix "><li class="part-title">Misc.</li><li class="chapter-item "><a href="coc.html"><strong aria-hidden="true">26.</strong> Code of Conduct</a></li><li class="chapter-item "><a href="toc.html"><strong aria-hidden="true">27.</strong> Terms & Conditions</a></li><li class="chapter-item "><a href="licensing.html"><strong aria-hidden="true">28.</strong> Licensing</a></li><li class="chapter-item affix "><li class="spacer"></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <!-- Track and set sidebar scroll position -->
        <script>
            var sidebarScrollbox = document.querySelector('#sidebar .sidebar-scrollbox');
            sidebarScrollbox.addEventListener('click', function(e) {
                if (e.target.tagName === 'A') {
                    sessionStorage.setItem('sidebar-scroll', sidebarScrollbox.scrollTop);
                }
            }, { passive: true });
            var sidebarScrollTop = sessionStorage.getItem('sidebar-scroll');
            sessionStorage.removeItem('sidebar-scroll');
            if (sidebarScrollTop) {
                // preserve sidebar scroll position when navigating via links within sidebar
                sidebarScrollbox.scrollTop = sidebarScrollTop;
            } else {
                // scroll sidebar to current active section when navigating via "next/previous chapter" buttons
                var activeSection = document.querySelector('#sidebar .active');
                if (activeSection) {
                    activeSection.scrollIntoView({ block: 'center' });
                }
            }
        </script>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>

                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Dark</button></li>
                        </ul>

                        <!-- CUSTOM -->
                        <select id="dropdown-menu" class="icon-button">
                            <option value="https://nymtech.net/docs">Network Docs</option>
                            <option value="https://nymtech.net/learn/papers">Academic Papers</option>
                            <option value="">--------</option>
                            <option value="https://nymtech.net/developers">Dev Portal</option>
                            <option value="https://nymtech.net/developers/sdk/rust/rust.html">Rust SDK</option>
                            <option value="https://sdk.nymtech.net">Typescript SDK</option>
                            <option value="">--------</option>
                            <option value="https://nymtech.net/operators">Operators</option>
                            <option value="https://nymtech.net/developers/nymvpn/intro.html">NymVPN Testing</option>
                        </select>

                        <script>
                            document.getElementById('dropdown-menu').addEventListener('change', function() {
                                const selected = this.options[this.selectedIndex];
                                if (selected.value !== '') {
                                    window.location.href = selected.value;
                                }
                            });
                        </script>
                        
                        <!-- END CUSTOM -->
                    </div>

                    <h1 class="menu-title"> Nym Operators Guide</h1>

                    <div class="right-buttons">
                            <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                                <i class="fa fa-search"></i>
                            </button>
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        <a href="https://github.com/nymtech/nym" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <main>
                            <div class="sidetoc">
                                <nav class="pagetoc"></nav>
                            </div>
                            <div class="content-wrap">

                        <h1 id="changelog"><a class="header" href="#changelog">Changelog</a></h1>
<p>This page displays a full list of all the changes during our release cycle from <a href="https://github.com/nymtech/nym/blob/nym-binaries-v2024.3-eclipse/CHANGELOG.md"><code>v2024.3-eclipse</code></a> onwards. Operators can find here the newest updates together with links to relevant documentation. The list is sorted so that the newest changes appear first.</p>
<h2 id="nym-node-patch-from-release202410-caramello"><a class="header" href="#nym-node-patch-from-release202410-caramello"><code>nym-node</code> patch from <code>release/2024.10-caramello</code></a></h2>
<ul>
<li><a href="https://github.com/nymtech/nym/releases/tag/nym-binaries-v2024.10-caramello-patch">Patch release binaries</a></li>
</ul>
<pre><code class="language-sh">Binary Name:        nym-node
Build Timestamp:    2024-09-16T15:00:41.019107021Z
Build Version:      1.1.7
Commit SHA:         65c8982cab0ff3a1154966e7d61956cb42a065fc
Commit Date:        2024-09-16T15:59:34.000000000+02:00
Commit Branch:      HEAD
rustc Version:      1.81.0
rustc Channel:      stable
cargo Profile:      release
</code></pre>
<p>This patch fixes <a href="#v202410-caramello"><code>v202410-caramello</code></a> relase <a href="#known-bugs--undone-features">bug</a> where one of the used dependencies - <a href="https://github.com/DefGuard/defguard/issues/619"><code>DefGuard</code></a>, was failing.</p>
<p>Updating to this patched version and running <code>nym-node --mode exit-gateway</code> with <code>--wireguard-enabled true</code> should result in a smooth node start without the <code>defguard_wireguard</code> error, occuring to some operators before:</p>
<pre><code class="language-sh">/home/ubuntu/.cargo/registry/src/index.crates.io-6f17d22bba15001f/defguard_wireguard_rs-0.4.2/src/netlink.rs:155: Serialized netlink packet (23240 bytes) larger than maximum size 12288: NetlinkMessage.
</code></pre>
<h2 id="v202410-caramello"><a class="header" href="#v202410-caramello"><code>v2024.10-caramello</code></a></h2>
<ul>
<li><a href="https://github.com/nymtech/nym/releases/tag/nym-binaries-v2024.10-caramello">Release binaries</a></li>
<li><a href="https://github.com/nymtech/nym/blob/nym-binaries-v2024.10-caramello/CHANGELOG.md">Release CHANGELOG.md</a></li>
<li><a href="nodes/nym-node.html"><code>nym-node</code></a> version <code>1.1.7</code></li>
</ul>
<details id="admonition-changelogmd" class="admonition admonish-example" role="note" aria-labelledby="admonition-changelogmd-title">
<summary class="admonition-title">
<div id="admonition-changelogmd-title">
<p>CHANGELOG.md</p>
</div>
<a class="admonition-anchor-link" href="#admonition-changelogmd"></a>
</summary>
<div>
<ul>
<li>Backport 4844 and 4845 (<a href="https://github.com/nymtech/nym/pull/4857">#4857</a>)</li>
<li>Bugfix/client registration vol2 (<a href="https://github.com/nymtech/nym/pull/4856">#4856</a>)</li>
<li>Remove wireguard feature flag and pass runtime enabled flag (<a href="https://github.com/nymtech/nym/pull/4839">#4839</a>)</li>
<li>Eliminate cancel unsafe sig awaiting (<a href="https://github.com/nymtech/nym/pull/4834">#4834</a>)</li>
<li>added explicit updateable admin to the mixnet contract (<a href="https://github.com/nymtech/nym/pull/4822">#4822</a>)</li>
<li>using legacy signing payload in CLI and verifying both variants in contract (<a href="https://github.com/nymtech/nym/pull/4821">#4821</a>)</li>
<li>adding ecash contract address (<a href="https://github.com/nymtech/nym/pull/4819">#4819</a>)</li>
<li>Check profit margin of node before defaulting to hardcoded value  (<a href="https://github.com/nymtech/nym/pull/4802">#4802</a>)</li>
<li>Sync last_seen_bandwidth immediately (<a href="https://github.com/nymtech/nym/pull/4774">#4774</a>)</li>
<li>Feature/additional ecash nym cli utils (<a href="https://github.com/nymtech/nym/pull/4773">#4773</a>)</li>
<li>Better storage error logging (<a href="https://github.com/nymtech/nym/pull/4772">#4772</a>)</li>
<li>bugfix: make sure DKG parses data out of events if logs are empty (<a href="https://github.com/nymtech/nym/pull/4764">#4764</a>)</li>
<li>Fix clippy on rustc beta toolchain (<a href="https://github.com/nymtech/nym/pull/4746">#4746</a>)</li>
<li>Fix clippy for beta toolchain (<a href="https://github.com/nymtech/nym/pull/4742">#4742</a>)</li>
<li>Disable testnet-manager on non-unix (<a href="https://github.com/nymtech/nym/pull/4741">#4741</a>)</li>
<li>Don’t set NYM_VPN_API to default (<a href="https://github.com/nymtech/nym/pull/4740">#4740</a>)</li>
<li>Update publish-nym-binaries.yml (<a href="https://github.com/nymtech/nym/pull/4739">#4739</a>)</li>
<li>Update ci-build-upload-binaries.yml (<a href="https://github.com/nymtech/nym/pull/4738">#4738</a>)</li>
<li>Add NYM_VPN_API to network config (<a href="https://github.com/nymtech/nym/pull/4736">#4736</a>)</li>
<li>Re-export RecipientFormattingError in nym sdk (<a href="https://github.com/nymtech/nym/pull/4735">#4735</a>)</li>
<li>Persist wireguard peers (<a href="https://github.com/nymtech/nym/pull/4732">#4732</a>)</li>
<li>Fix tokio error in 1.39 (<a href="https://github.com/nymtech/nym/pull/4730">#4730</a>)</li>
<li>Feature/vesting purge plus ranged cost params (<a href="https://github.com/nymtech/nym/pull/4716">#4716</a>)</li>
<li>Fix (some) feature unification build failures (<a href="https://github.com/nymtech/nym/pull/4681">#4681</a>)</li>
<li>Feature Compact Ecash : The One PR (<a href="https://github.com/nymtech/nym/pull/4623">#4623</a>)</li>
</ul>
</div>
</details>
<h3 id="features"><a class="header" href="#features">Features</a></h3>
<ul>
<li><a href="https://github.com/nymtech/nym/pull/4717">Add 1GB/day/user bandwidth cap</a></li>
</ul>
<details id="admonition-testing-steps-performed" class="admonition admonish-example" role="note" aria-labelledby="admonition-testing-steps-performed-title">
<summary class="admonition-title">
<div id="admonition-testing-steps-performed-title">
<p>Testing steps performed</p>
</div>
<a class="admonition-anchor-link" href="#admonition-testing-steps-performed"></a>
</summary>
<div>
<p><strong>Scenario 1: Bandwidth Decreasing Continuously</strong></p>
<ol>
<li>Started the client and noted the initial bandwidth (e.g., 1GB).</li>
<li>Used the client and tracked bandwidth usage over time (e.g., decrease by 100MB every hour).</li>
<li>Restarted the client after some usage.</li>
<li>Verified the bandwidth continued from the last recorded value, not reset.</li>
</ol>
<p>The bandwidth continued decreasing without resetting upon restart. Logs and reports correctly reflected the decreasing bandwidth.</p>
<p><strong>Scenario 2: Bandwidth Reset Next Day</strong></p>
<ol>
<li>Used the client normally until the end of the day.</li>
<li>Suspended some clients and kept others active.</li>
<li>Checked bandwidth at midnight.</li>
<li>Verified that bandwidth reset to 1GB for both suspended and active clients.</li>
</ol>
<p>Bandwidth reset to 1GB for all clients at midnight. Logs and reports correctly showed the reset.</p>
<p><strong>Scenario 3: Bandwidth Reset at a Different Time (e.g., Midday)</strong></p>
<ol>
<li>Configured the system to reset bandwidth at midday.</li>
<li>Used the client and monitored bandwidth until midday.</li>
<li>Kept the client connected during the reset time.</li>
<li>Verified that bandwidth reset to 1GB live at midday.</li>
</ol>
<p>Bandwidth reset to 1GB at midday while the client was connected. Logs and reports correctly reflected the reset.</p>
<p><strong>Scenario 4: Stale Check for 3 Days</strong></p>
<ol>
<li>Kept a client inactive for 3 days.</li>
<li>Verified removal from the peer list after 3 days.</li>
<li>Reconnected the client after 3 days and checked for a new private IP.</li>
<li>Restarted a client within 3 days and verified it retained the same private IP.</li>
</ol>
<p>The client was removed from the peer list after 3 days of inactivity. Upon re-connection after 3 days, the client received a new private IP. The client retained the same private IP when restarted within 3 days.</p>
</div>
</details>
<ul>
<li>
<p><a href="https://github.com/nymtech/nym/pull/4710">Feature/merge back</a>: Merge back from the release branch the changes that fix the <code>nym-node</code> upgrades</p>
</li>
<li>
<p><a href="https://github.com/nymtech/nym/pull/4706">Removed mixnode/gateway config migration code and disabled cli without explicit flag</a>: Commands for archived / legacy binaries <code>nym-gateway</code> and <code>nym-mixnode</code> won’t do anything without explicit <code>--force-run</code> to bypass the deprecation. The next step, in say a month or so, is to completely remove all <code>cli</code> related things.</p>
</li>
</ul>
<details id="admonition-testing-steps-performed-1" class="admonition admonish-example" role="note" aria-labelledby="admonition-testing-steps-performed-1-title">
<summary class="admonition-title">
<div id="admonition-testing-steps-performed-1-title">
<p>Testing steps performed</p>
</div>
<a class="admonition-anchor-link" href="#admonition-testing-steps-performed-1"></a>
</summary>
<div>
<ul>
<li>Verify that the <code>nym-gateway</code> binary and <code>nym-mixnode</code> binary commands return the <em>error message</em> stating to update to nym-node</li>
<li>Check that when adding the <code>--force-run</code> flag, it still allows the command to be run (aside from <code>init</code> which has been removed) and the message stating to update to nym-node is a <em>warning</em> now</li>
<li>Check <code>nym-node</code> is not affected</li>
<li>Reviewed the changes in the PR</li>
</ul>
</div>
</details>
<ul>
<li><a href="https://github.com/nymtech/nym/pull/4723">Handle clients with different versions in IPR</a>: Allow the IPR to handle clients connecting both using <code>v6</code> and <code>v7</code>, independently. The motivation is that we want to be able to roll out a API version change gradually for VPN clients without breaking backwards compatibility. The main feature on the new <code>v7</code> format that is not yet used, is that it adds signatures for connect/disconnect.</li>
</ul>
<details id="admonition-testing-steps-performed-2" class="admonition admonish-example" role="note" aria-labelledby="admonition-testing-steps-performed-2-title">
<summary class="admonition-title">
<div id="admonition-testing-steps-performed-2-title">
<p>Testing steps performed</p>
</div>
<a class="admonition-anchor-link" href="#admonition-testing-steps-performed-2"></a>
</summary>
<div>
<p>Run the same command (using same gateways deployed from this PR) on different versions of the <code>nym-vpn-cli</code>.</p>
<p>Example:</p>
<pre><code class="language-sh">~/nym-vpn-core-v0.1.10_macos_universal ❯ sudo -E ./nym-vpn-cli -c ../qa.env run --entry-gateway-id $entry_gateway --exit-gateway-id $exit_gateway --enable-two-hop

~/nym-vpn-core-v0.1.11-dev_macos_universal ❯ sudo -E ./nym-vpn-cli -c ../qa.env run --entry-gateway-id $entry_gateway --exit-gateway-id $exit_gateway --enable-two-hop
</code></pre>
</div>
</details>
<ul>
<li>
<p><a href="https://github.com/nymtech/nym/pull/4857">Backport <code>#4844</code> and <code>#4845</code></a></p>
</li>
<li>
<p><a href="https://github.com/nymtech/nym/pull/4839">Remove wireguard feature flag and pass runtime enabled flag</a></p>
</li>
<li>
<p><a href="https://github.com/nymtech/nym/pull/4834">Eliminate cancel unsafe sig awaiting</a></p>
</li>
<li>
<p><a href="https://github.com/nymtech/nym/pull/4822">Added explicit updateable admin to the mixnet contract</a></p>
</li>
<li>
<p><a href="https://github.com/nymtech/nym/pull/4821">Using legacy signing payload in CLI and verifying both variants in contract</a></p>
</li>
<li>
<p><a href="https://github.com/nymtech/nym/pull/4819">Adding ecash contract address</a></p>
</li>
<li>
<p><a href="https://github.com/nymtech/nym/pull/4802">Check profit margin of node before defaulting to hardcoded value </a></p>
</li>
<li>
<p><a href="https://github.com/nymtech/nym/pull/4774">Sync <code>last_seen_bandwidth</code> immediately</a></p>
</li>
<li>
<p><a href="https://github.com/nymtech/nym/pull/4773">Feature/additional ecash <code>nym-cli</code> utils</a></p>
</li>
<li>
<p><a href="https://github.com/nymtech/nym/pull/4772">Better storage error logging</a></p>
</li>
<li>
<p><a href="https://github.com/nymtech/nym/pull/4741">Disable testnet-manager on non-unix</a></p>
</li>
<li>
<p><a href="https://github.com/nymtech/nym/pull/4740">Don’t set NYM_VPN_API to default</a></p>
</li>
<li>
<p><a href="https://github.com/nymtech/nym/pull/4739">Update publish-nym-binaries.yml</a>: Adds wireguard to builds</p>
</li>
<li>
<p><a href="https://github.com/nymtech/nym/pull/4738">Update ci-build-upload-binaries.yml</a>: Adds wireguard for ci-builds</p>
</li>
<li>
<p><a href="https://github.com/nymtech/nym/pull/4736">Add NYM_VPN_API to network config</a></p>
</li>
<li>
<p><a href="https://github.com/nymtech/nym/pull/4735">Re-export RecipientFormattingError in nym sdk</a></p>
</li>
<li>
<p><a href="https://github.com/nymtech/nym/pull/4732">Persist wireguard peers</a></p>
</li>
<li>
<p><a href="https://github.com/nymtech/nym/pull/4716">Feature/vesting purge plus ranged cost params</a>: Combines <a href="https://github.com/nymtech/nym/pull/4715">#4715</a> and <a href="https://github.com/nymtech/nym/pull/4711">#4711</a> into one.</p>
<ul>
<li>Disables all non-essential operations on the vesting contract =&gt; you can no longer bond mixnodes/make delegations/etc. (you can still, however, withdraw your vested tokens and so on)</li>
<li>Introduces admin-controlled minimum (and maximum) profit margin and interval operating costs.</li>
<li>both contracts have to be migrated <strong>at the same time</strong>. ideally within the same transaction</li>
<li>mixnet contract migration is not allowed (and will fail) if there are any pending actions involving vesting tokens, like delegating, increasing pledge, etc</li>
</ul>
</li>
<li>
<p><a href="https://github.com/nymtech/nym/pull/4709">Bump braces from <code>3.0.2</code> to <code>3.0.3</code> in <code>/nym-wallet/webdriver</code></a>: Bumps <a href="https://github.com/micromatch/braces">braces</a> from <code>3.0.2</code> to <code>3.0.3</code>.</p>
</li>
</ul>
<h3 id="bugfix"><a class="header" href="#bugfix">Bugfix</a></h3>
<ul>
<li><a href="https://github.com/nymtech/nym/pull/4731">chore: fix 1.80 lint issues</a></li>
</ul>
<details id="admonition-testing-steps-performed-3" class="admonition admonish-example" role="note" aria-labelledby="admonition-testing-steps-performed-3-title">
<summary class="admonition-title">
<div id="admonition-testing-steps-performed-3-title">
<p>Testing steps performed</p>
</div>
<a class="admonition-anchor-link" href="#admonition-testing-steps-performed-3"></a>
</summary>
<div>
<ul>
<li>Building all binaries is ok</li>
<li>Running <code>cargo fmt</code> returns no issues</li>
</ul>
</div>
</details>
<ul>
<li><a href="https://github.com/nymtech/nym/pull/4733">Fix version 1 not having template correspondent initially</a></li>
</ul>
<details id="admonition-testing-steps-performed-4" class="admonition admonish-example" role="note" aria-labelledby="admonition-testing-steps-performed-4-title">
<summary class="admonition-title">
<div id="admonition-testing-steps-performed-4-title">
<p>Testing steps performed</p>
</div>
<a class="admonition-anchor-link" href="#admonition-testing-steps-performed-4"></a>
</summary>
<div>
<p>Tested updating an old <code>nym-node</code> version and ensuring it did not throw any errors.</p>
</div>
</details>
<ul>
<li>
<p><a href="https://github.com/nymtech/nym/pull/4856">Bugfix/client registration vol2</a></p>
</li>
<li>
<p><a href="https://github.com/nymtech/nym/pull/4730">Fix tokio error in <code>1.39</code></a>:</p>
<ul>
<li>Bump tokio to <code>1.39.2</code>, skipping the issue with <code>1.39.1</code></li>
</ul>
</li>
<li>
<p><a href="https://github.com/nymtech/nym/pull/4681">Fix (some) feature unification build failures</a>: Running a script in the root workspace that builds each crate independently</p>
</li>
</ul>
<details id="admonition-the-script" class="admonition admonish-example" role="note" aria-labelledby="admonition-the-script-title">
<summary class="admonition-title">
<div id="admonition-the-script-title">
<p>The script</p>
</div>
<a class="admonition-anchor-link" href="#admonition-the-script"></a>
</summary>
<div>
<pre><code class="language-sh">#!/bin/bash

packages=$(cargo metadata --format-version 1 --no-deps | jq -r '.packages[].name')

# Loop through each package and build
for package in $packages; do
    echo "Building $package"
    cargo clean
    cargo check -p "$package"
    if [ $? -ne 0 ]; then
        echo "Build failed for $package. Stopping."
        exit 1
    fi
done
</code></pre>
</div>
</details>
<ul>
<li>
<p><a href="https://github.com/nymtech/nym/pull/4764">bugfix: make sure DKG parses data out of events if logs are empty</a>: This will be the case on post <code>0.50</code> chains</p>
</li>
<li>
<p><a href="https://github.com/nymtech/nym/pull/4746">Fix clippy on rustc beta toolchain</a>: Fix clippy warnings for rust beta toolchain</p>
</li>
<li>
<p><a href="https://github.com/nymtech/nym/pull/4742">Fix clippy for beta toolchain</a>: Fix beta toolchain clippy by removing unused module</p>
<ul>
<li>Add <code>nym-</code> prefix to <code>serde-common</code> crate</li>
<li>Remove ignored <code>default-features = false</code> attribute for workspace dependency</li>
</ul>
</li>
</ul>
<h3 id="crypto"><a class="header" href="#crypto">Crypto</a></h3>
<ul>
<li><a href="https://github.com/nymtech/nym/pull/4623">Feature Compact Ecash : The One PR</a></li>
</ul>
<h3 id="operators-guide-tooling--updates"><a class="header" href="#operators-guide-tooling--updates">Operators Guide, Tooling &amp; Updates</a></h3>
<ul>
<li>
<p>More explicit <a href="nodes/setup.html#initialise--run">setup for <code>nym-node</code></a> with a new <a href="nodes/setup.html#essential-parameters--variables">option explanation</a>, including syntax examples</p>
</li>
<li>
<p>New <a href="nodes/configuration.html#routing-configuration">VPS networking configuration steps for Wireguard</a></p>
</li>
<li>
<p>Wireguard <a href="binaries/building-nym.html">builds from source</a> together with <code>nym-node</code>, no need to specify with a feature flag anymore</p>
</li>
<li>
<p>Wireguard peers stay connected for longer time, re-connections are also faster</p>
</li>
<li>
<p>Profit margin and operating cost values are set to the values agreed by operators off-chain vote, the values can be changed in the future through <a href="https://forum.nymtech.net/t/poll-proposal-for-on-chain-minimum-profit-margin-for-all-nym-nodes/253">Nym Operators governance process</a></p>
</li>
</ul>
<div id="admonition-default" class="admonition admonish-success" role="note">
<div>
<ul>
<li>Minimum profit margin = 20%</li>
<li>Maximum profit margin = 50%</li>
<li>Minimum operating cost = 0 NYM</li>
<li>Maximum operating cost = 1000 NYM</li>
</ul>
</div>
</div>
<ul>
<li>
<p><a href="https://harbourmaster.nymtech.net">Nym Harbourmater</a> has several new functionalities:</p>
<ul>
<li>Version counting graph for Gateways and Mixnodes</li>
<li>Several new columns with larger nodes performance and settings overview.</li>
<li>Top routing score now includes:
<ul>
<li>Wireguard registration and complete handshake test, to configure see <a href="#operators-tasks">tasklist below</a></li>
<li>DNS resolution check, to configure see <a href="#operators-tasks">tasklist below</a></li>
<li>Wireguard perfomance &gt; 0.75, to configure see <a href="#operators-tasks">tasklist below</a></li>
</ul>
</li>
</ul>
</li>
<li>
<p>New <a href="https://github.com/nymtech/nym/releases/tag/nym-wallet-v1.2.14">Nym Wallet</a> is out!</p>
<ul>
<li>Vesting contract functionalities have been purged, users can only remove tokens from vesting</li>
<li>Migrating from <code>mixnode</code> or <code>gateway</code> smart contracts to a new unifying <code>nym-node</code> smart contract will be available soon using Nym desktop wallet, just like you are used to for bonding and node settings. After this migration all <code>nym-nodes</code> will be able to receive delegation and rewards. We will share a step by step guide once this migration will be deployed. No action needed now.</li>
</ul>
</li>
<li>
<p><a href="testing/node-api-check.html">Nym API Check CLI</a> is upgraded according to the latest API endpoints, output is cleaner and more concise.</p>
</li>
</ul>
<h4 id="operators-tasks"><a class="header" href="#operators-tasks">Operators Tasks</a></h4>
<div id="admonition-default-1" class="admonition admonish-warning" role="note">
<div>
<p><strong>The steps below are highly recommended for all operators and mandatory for everyone who is a part of Nym Delegation or Grant program. Deadline is Friday, September 20th, 2024.</strong></p>
</div>
</div>
<p>Every <code>nym-node</code> should be upgraded to the latest version! Operators can test using <a href="sandbox.html">Sandbox env</a> during the pre-release period, then upgrade on mainnet. During the upgrade, please follow the points below before you restart the node:</p>
<p><strong><code>nym-node</code></strong></p>
<ul>
<li>Make sure to fill in basic description info, into the file located at <code>.nym/nym-nodes/&lt;ID&gt;/data/description.toml</code> (all nodes)</li>
<li>Configure wireguard routing with new <a href="https://gist.github.com/tommyv1987/ccf6ca00ffb3d7e13192edda61bb2a77"><code>network_tunnel_manager.sh</code></a> following <a href="nodes/configuration.html#routing-configuration">these steps</a> (Gateways only for the time being)</li>
<li>Enable Wireguard with <code>--wireguard-enabled true</code> flag included in your run command (Gateways only for the time being)
<ul>
<li>Note: On some VPS this setup may not be enough to get the correct results as some ISPs  have their own security groups setup below the individual VPS. In that case a ticket to ISP will have to be issued to open the needed settings. We are working on a template for such ticket.</li>
</ul>
</li>
<li>Setup <a href="nodes/proxy-configuration.html">reverse proxy and WSS</a> on <code>nym-node</code> (Gateways only for the time being)</li>
<li>Don’t forget to restart your node - or (preferably using <a href="nodes/configuration.html#systemd">systemd automation</a>) reload daemon and restart the service</li>
<li>Optional: Use <a href="testing/gateway-probe.html"><code>nym-gateway-probe</code></a> and <a href="https://nymtech.net/developers/nymvpn/cli.html">NymVPN CLI</a> to test your own Gateway</li>
<li>Optional: Run the script below to measure ping speed of your Gateway and share your results in <a href="https://matrix.to/#/#operators:nymtech.chat">Nym Operators channel</a></li>
</ul>
<details id="admonition-the-script-to-measure-gateway-ping-results" class="admonition admonish-example" role="note" aria-labelledby="admonition-the-script-to-measure-gateway-ping-results-title">
<summary class="admonition-title">
<div id="admonition-the-script-to-measure-gateway-ping-results-title">
<p>The script to measure Gateway ping results</p>
</div>
<a class="admonition-anchor-link" href="#admonition-the-script-to-measure-gateway-ping-results"></a>
</summary>
<div>
<p>We made a script for pinging nymtech.net from your GWs. Can you please install it and then share the result together with your Gateway ID:</p>
<ol>
<li>Get the script onto your machine (soon on github for curl or wget):</li>
</ol>
<pre><code class="language-sh"># paste all this block as one command
cat &lt;&lt;'EOL' &gt; ping_with_curl_average_for_wg_check.sh
#!/bin/bash

ping_with_curl_average_for_wg_check() {
    total_connect_time=0
    total_total_time=0
    iterations=5
    timeout=2

    for ((i=1; i&lt;=iterations; i++)); do
        echo "ping attempt $i..."

        echo "curling nymtech.net to check ping response times"
        times=$(curl -I https://nymtech.net --max-time $timeout \
        -w "time_connect=%{time_connect}\ntime_total=%{time_total}" -o /dev/null -s)

        time_connect=$(echo "$times" | grep "time_connect" | cut -d"=" -f2)
        time_total=$(echo "$times" | grep "time_total" | cut -d"=" -f2)

        total_connect_time=$(echo "$total_connect_time + $time_connect" | bc)
        total_total_time=$(echo "$total_total_time + $time_total" | bc)

        echo "time to connect: $time_connect s"
        echo "total time: $time_total s"
    done

    average_connect_time=$(echo "scale=3; $total_connect_time / $iterations" | bc)
    average_total_time=$(echo "scale=3; $total_total_time / $iterations" | bc)

    echo "-----------------------------------"
    echo "average time to connect: $average_connect_time s"
    echo "average total time: $average_total_time s"
}

ping_with_curl_average_for_wg_check
EOL
</code></pre>
<ol start="2">
<li>Make executable:</li>
</ol>
<pre><code class="language-sh">chmod +x ping_with_curl_average_for_wg_check.sh
</code></pre>
<ol start="3">
<li>In case you don’t have <code>bc</code>, install it:</li>
</ol>
<pre><code class="language-sh">sudo apt install bc
</code></pre>
<ol start="4">
<li>Run:</li>
</ol>
<pre><code class="language-sh">./ping_with_curl_average_for_wg_check.sh
</code></pre>
<ol start="5">
<li>Share results and ID key in <a href="https://matrix.to/#/#operators:nymtech.chat">Nym Operators channel</a></li>
</ol>
<p>THANK YOU!</p>
</div>
</details>
<p><strong>validators</strong></p>
<ul>
<li>Validators need to update and prepare for ecash implementation.</li>
</ul>
<h3 id="known-bugs--undone-features"><a class="header" href="#known-bugs--undone-features">Known Bugs &amp; Undone features</a></h3>
<ul>
<li>New <code>nym-nodes</code> without a performance 24h history above 50% don’t show routing properly on <code>nym-gateway-probe</code>, on Nym Harbourmaster the page may appear blank - we are working on a fix.</li>
<li>Wireguard works on IPv4 only for the time being, we are working on IPv6 implementation.</li>
<li>Harbourmaster <em>Role</em> column shows <code>nym-node --mode exit-gateway</code> as <code>EntryGateway</code>, we are working to fix it.</li>
<li>In rare occassions Harbourmaster shows only <em>“panda”</em> without the <em>“smiley”</em> badge even for nodes, which have T&amp;C’s accepted. We are working to fix it.</li>
<li>Sometimes <code>nym-node</code> running with <code>--wireguard-enabled true</code> gives this error on restart: <code>Serialized netlink packet .. larger than maximum size ..</code></li>
</ul>
<pre><code class="language-sh">/home/ubuntu/.cargo/registry/src/index.crates.io-6f17d22bba15001f/defguard_wireguard_rs-0.4.2/src/netlink.rs:155: Serialized netlink packet (23240 bytes) larger than maximum size 12288: NetlinkMessage.
</code></pre>
<p>From what we found out it seems that one of our <a href="https://github.com/DefGuard/defguard/issues/619">dependencies - <code>DefGuard</code> - is failing</a>. Based on the reading on their fix, it seems that when node operators try to re-create a wireguard interface with too many previous peers (like on Gateway restart, with restoring from storage), there’s an overflow. So their fix is to just add them one by one. To be sure that bumping the dependency version fixes the problem there’s still two things we’d need to check - and your feedback would help us a lot:</p>
<ol>
<li>Did operators only encounter this error after a <code>nym-node</code> (Gateway) restart?</li>
<li>Reprouce this error ourselves and see if it actually fixes our problem.</li>
</ol>
<p><strong>Please share your experience with us to help faster fix of this issue.</strong></p>
<hr />
<h2 id="v20249-topdeck"><a class="header" href="#v20249-topdeck"><code>v2024.9-topdeck</code></a></h2>
<ul>
<li><a href="https://github.com/nymtech/nym/releases/tag/nym-binaries-v2024.9-topdeck">Release binaries</a></li>
<li><a href="https://github.com/nymtech/nym/blob/nym-binaries-v2024.9-topdeck/CHANGELOG.md">Release CHANGELOG.md</a></li>
<li><a href="nodes/nym-node.html"><code>nym-node</code></a> version <code>1.1.6</code></li>
</ul>
<details id="admonition-changelogmd-1" class="admonition admonish-example" role="note" aria-labelledby="admonition-changelogmd-1-title">
<summary class="admonition-title">
<div id="admonition-changelogmd-1-title">
<p>CHANGELOG.md</p>
</div>
<a class="admonition-anchor-link" href="#admonition-changelogmd-1"></a>
</summary>
<div>
<ul>
<li>chore: fix 1.80 lint issues (<a href="https://github.com/nymtech/nym/pull/4731">#4731</a>)</li>
<li>Handle clients with different versions in IPR (<a href="https://github.com/nymtech/nym/pull/4723">#4723</a>)</li>
<li>Add 1GB/day/user bandwidth cap (<a href="https://github.com/nymtech/nym/pull/4717">#4717</a>)</li>
<li>Feature/merge back (<a href="https://github.com/nymtech/nym/pull/4710">#4710</a>)</li>
<li>removed mixnode/gateway config migration code and disabled cli without explicit flag (<a href="https://github.com/nymtech/nym/pull/4706">#4706</a>)</li>
</ul>
</div>
</details>
<h3 id="features-1"><a class="header" href="#features-1">Features</a></h3>
<ul>
<li><a href="https://github.com/nymtech/nym/pull/4706">Removed <code>nym-mixnode</code> and <code>nym-gateway</code> config migration code and disabled CLI without explicit flag</a>: Gateway and Mixnode commands now won’t do anything without explicit <code>--force-run</code> to bypass the deprecation, instead it will tell an operator to run a <code>nym-node</code>.  The next step, in say a month or so, is to completely remove all <code>cli</code> related things.</li>
</ul>
<details id="admonition-testing-steps-performed-5" class="admonition admonish-example" role="note" aria-labelledby="admonition-testing-steps-performed-5-title">
<summary class="admonition-title">
<div id="admonition-testing-steps-performed-5-title">
<p>Testing steps performed</p>
</div>
<a class="admonition-anchor-link" href="#admonition-testing-steps-performed-5"></a>
</summary>
<div>
<ul>
<li>Verify that the <code>nym-gateway</code> binary and <code>nym-mixnode</code> binary commands return the <code>_error message_</code> stating to <em>update to <code>nym-node</code></em></li>
<li>Check that when adding the <code>--force-run</code> flag, it still allows the command to be run (aside from <code>init</code> which has been removed) and the message stating to update to <code>nym-node</code> is a <code>_warning_</code> now</li>
<li>Check <code>nym-node</code> is not affected</li>
<li>Review the changes in the PR</li>
</ul>
</div>
</details>
<ul>
<li><a href="https://github.com/nymtech/nym/pull/4717">Add 1GB/day/user bandwidth cap</a></li>
</ul>
<details id="admonition-testing-steps-performed---scenario-1-bandwidth-decreasing-continuously" class="admonition admonish-example" role="note" aria-labelledby="admonition-testing-steps-performed---scenario-1-bandwidth-decreasing-continuously-title">
<summary class="admonition-title">
<div id="admonition-testing-steps-performed---scenario-1-bandwidth-decreasing-continuously-title">
<p>Testing steps performed - Scenario 1: Bandwidth Decreasing Continuously</p>
</div>
<a class="admonition-anchor-link" href="#admonition-testing-steps-performed---scenario-1-bandwidth-decreasing-continuously"></a>
</summary>
<div>
<ol>
<li>Start the client and noted the initial bandwidth (e.g., 1GB).</li>
<li>Us the client and track bandwidth usage over time (e.g., decrease by 100MB every hour).</li>
<li>Restart the client after some usage.</li>
<li>Verify the bandwidth continued from the last recorded value, not reset.</li>
</ol>
<p><strong>Notes:</strong>
The bandwidth continued decreasing without resetting upon restart. Logs and reports correctly reflected the decreasing bandwidth.</p>
</div>
</details>
<details id="admonition-testing-steps-performed---scenario-2-bandwidth-reset-next-day" class="admonition admonish-example" role="note" aria-labelledby="admonition-testing-steps-performed---scenario-2-bandwidth-reset-next-day-title">
<summary class="admonition-title">
<div id="admonition-testing-steps-performed---scenario-2-bandwidth-reset-next-day-title">
<p>Testing steps performed - Scenario 2: Bandwidth Reset Next Day</p>
</div>
<a class="admonition-anchor-link" href="#admonition-testing-steps-performed---scenario-2-bandwidth-reset-next-day"></a>
</summary>
<div>
<ol>
<li>Use the client normally until the end of the day.</li>
<li>Suspend some clients and kept others active.</li>
<li>Check bandwidth at midnight.</li>
<li>Verify that bandwidth reset to 1GB for both suspended and active clients.</li>
</ol>
<p><strong>Notes:</strong>
Bandwidth reset to 1GB for all clients at midnight. Logs and reports correctly showed the reset.</p>
</div>
</details>
<details id="admonition-testing-steps-performed---scenario-3-bandwidth-reset-at-a-different-time-eg-midday" class="admonition admonish-example" role="note" aria-labelledby="admonition-testing-steps-performed---scenario-3-bandwidth-reset-at-a-different-time-eg-midday-title">
<summary class="admonition-title">
<div id="admonition-testing-steps-performed---scenario-3-bandwidth-reset-at-a-different-time-eg-midday-title">
<p>Testing steps performed - Scenario 3: Bandwidth Reset at a Different Time (e.g., Midday)</p>
</div>
<a class="admonition-anchor-link" href="#admonition-testing-steps-performed---scenario-3-bandwidth-reset-at-a-different-time-eg-midday"></a>
</summary>
<div>
<ol>
<li>Configure the system to reset bandwidth at midday.</li>
<li>Use the client and monitored bandwidth until midday.</li>
<li>Keep the client connected during the reset time.</li>
<li>Verify that bandwidth reset to 1GB live at midday.</li>
</ol>
<p><strong>Notes:</strong>
Bandwidth reset to 1GB at midday while the client was connected. Logs and reports correctly reflected the reset.</p>
</div>
</details>
<ul>
<li><a href="https://github.com/nymtech/nym/pull/4723">Handle clients with different versions in IPR</a>: Allow the IPR to handle clients connecting both using <code>v6</code> and <code>v7</code>, independently. The motivation is that we want to be able to roll out an API version change gradually for NymVPN clients without breaking backwards compatibility. The main feature on the new <code>v7</code> format that is not yet used, is that it adds signatures for connect/disconnect.</li>
</ul>
<details id="admonition-testing-steps-performed-6" class="admonition admonish-example" role="note" aria-labelledby="admonition-testing-steps-performed-6-title">
<summary class="admonition-title">
<div id="admonition-testing-steps-performed-6-title">
<p>Testing steps performed</p>
</div>
<a class="admonition-anchor-link" href="#admonition-testing-steps-performed-6"></a>
</summary>
<div>
<p>Run the same command (using same gateways deployed from this PR) on different versions of the <code>nym-vpn-cli</code>.</p>
<p>Example:</p>
<pre><code class="language-sh">sudo -E ./nym-vpn-cli -c ../qa.env run --entry-gateway-id $entry_gateway --exit-gateway-id $exit_gateway --enable-two-hop

sudo -E ./nym-vpn-cli -c ../qa.env run --entry-gateway-id $entry_gateway --exit-gateway-id $exit_gateway --enable-two-hop
</code></pre>
</div>
</details>
<h3 id="bugfix-1"><a class="header" href="#bugfix-1">Bugfix</a></h3>
<ul>
<li>
<p><a href="https://github.com/nymtech/nym/pull/4710">Feature/merge back</a>: Merge back from the release branch the changes that fix the <code>nym-node</code> upgrades.</p>
</li>
<li>
<p><a href="https://github.com/nymtech/nym/pull/4733">Fix version <code>1.x.x</code> not having template correspondent initially</a>: This should fix the problem of config deserialisation when operators upgrade nodes and skip over multiple versions.</p>
</li>
</ul>
<details id="admonition-testing-steps-performed-7" class="admonition admonish-example" role="note" aria-labelledby="admonition-testing-steps-performed-7-title">
<summary class="admonition-title">
<div id="admonition-testing-steps-performed-7-title">
<p>Testing steps performed</p>
</div>
<a class="admonition-anchor-link" href="#admonition-testing-steps-performed-7"></a>
</summary>
<div>
<ul>
<li>Tested updating an old nym-node version and ensuring it did not throw any errors.</li>
</ul>
</div>
</details>
<ul>
<li><a href="https://github.com/nymtech/nym/pull/4731">chore: fix 1.80 lint issues</a>:</li>
</ul>
<details id="admonition-testing-steps-performed-8" class="admonition admonish-example" role="note" aria-labelledby="admonition-testing-steps-performed-8-title">
<summary class="admonition-title">
<div id="admonition-testing-steps-performed-8-title">
<p>Testing steps performed</p>
</div>
<a class="admonition-anchor-link" href="#admonition-testing-steps-performed-8"></a>
</summary>
<div>
<ul>
<li>Building all binaries is ok</li>
<li>Running <code>cargo fmt</code> returns no issues</li>
</ul>
</div>
</details>
<h3 id="operators-guide-updates"><a class="header" href="#operators-guide-updates">Operators Guide updates</a></h3>
<ul>
<li><a href="nodes/configuration.html#routing-configuration">WireGuard tunnel configuration guide</a> for <code>nym-node</code> (currently Gateways functionalities). For simplicity we made a detailed step by step guide to upgrade an existing <code>nym-node</code> to the latest version and configure your VPS routing for WireGuard. Open by clicking on the example block below.</li>
</ul>
<details id="admonition-upgrading--nym-node-with-wg" class="admonition admonish-example" role="note" aria-labelledby="admonition-upgrading--nym-node-with-wg-title">
<summary class="admonition-title">
<div id="admonition-upgrading--nym-node-with-wg-title">
<p>Upgrading  <code>nym-node</code> with WG</p>
</div>
<a class="admonition-anchor-link" href="#admonition-upgrading--nym-node-with-wg"></a>
</summary>
<div>
<p><strong>Prerequisites</strong></p>
<ul>
<li>
<p><strong>Nym Node Version:</strong> You must be running the <code>2024.9-topdeck</code> release branch, which operates as <code>nym-node</code> version <code>1.1.6</code>. You can find the release here: <a href="https://github.com/nymtech/nym/releases/tag/nym-binaries-v2024.9-topdeck">Nym 2024.9-topdeck Release</a>.</p>
</li>
<li>
<p><strong>Important:</strong> Before proceeding, make sure to <a href="nodes/maintenance.html#backup-a-node">back up</a> your current <code>nym-node</code> configuration to avoid any potential data loss or issues.</p>
</li>
<li>
<p><strong>Download Nym Node:</strong></p>
<ul>
<li>You can download the <code>nym-node</code> binary directly using the following command:</li>
</ul>
</li>
</ul>
<pre><code class="language-bash">curl -L https://github.com/nymtech/nym/releases/download/nym-binaries-v2024.9-topdeck/nym-node -o nym-node &amp;&amp; chmod u+x nym-node
</code></pre>
<p><strong>Step 1: Update UFW Firewall Rules</strong></p>
<ul>
<li><strong>Warning:</strong> Enabling the firewall with UFW without allowing SSH port 22 first will lead to losing access over SSH. Make sure port 22 is allowed before proceeding with any UFW configurations.</li>
</ul>
<p>Run the following as root or with <code>sudo</code> prefix:</p>
<ol>
<li>Check the current status of UFW (Uncomplicated Firewall):</li>
</ol>
<pre><code class="language-bash">ufw status
</code></pre>
<ol start="2">
<li>Ensure that the following ports are allowed on your machine before adding the WireGuard port:</li>
</ol>
<pre><code class="language-bash">ufw allow 22/tcp    # SSH - you're in control of these ports
ufw allow 80/tcp    # HTTP
ufw allow 443/tcp   # HTTPS
ufw allow 1789/tcp  # Nym specific
ufw allow 1790/tcp  # Nym specific
ufw allow 8080/tcp  # Nym specific - nym-node-api
ufw allow 9000/tcp  # Nym Specific - clients port
ufw allow 9001/tcp  # Nym specific - wss port
ufw allow 51822/udp # WireGuard
</code></pre>
<ol start="3">
<li>Confirm that the UFW rules have been updated:</li>
</ol>
<pre><code class="language-bash">ufw status
</code></pre>
<p><strong>Step 2: Download and Prepare the Network Tunnel Manager Script</strong></p>
<ol>
<li>Download the <a href="https://gist.github.com/tommyv1987/ccf6ca00ffb3d7e13192edda61bb2a77"><code>network_tunnel_manager.sh</code></a> script:</li>
</ol>
<pre><code class="language-bash">curl -L -o network_tunnel_manager.sh https://gist.githubusercontent.com/tommyv1987/ccf6ca00ffb3d7e13192edda61bb2a77/raw/3c0a38c1416f8fdf22906c013299dd08d1497183/network_tunnel_manager.sh
</code></pre>
<ol start="2">
<li>Make the script executable:</li>
</ol>
<pre><code class="language-bash">chmod u+x network_tunnel_manager.sh
</code></pre>
<ol start="3">
<li>Apply the WireGuard IPTables rules:</li>
</ol>
<pre><code class="language-bash">./network_tunnel_manager.sh apply_iptables_rules_wg
</code></pre>
<p><strong>Step 3: Update the Nym Node Service File</strong></p>
<ol>
<li>Modify your <a href="nodes/configuration.html#systemd"><code>nym-node</code> service file</a> to enable WireGuard. Open the file (usually located at <code>/etc/systemd/system/nym-node.service</code>) and update the <code>[Service]</code> section as follows:</li>
</ol>
<pre><code class="language-ini">[Service]
User=&lt;YOUR_USER_NAME&gt;
Type=simple
#Environment=RUST_LOG=debug
# CAHNGE PATH IF YOU DON'T RUN IT FROM ROOT HOME DIRECTORY
ExecStart=/root/nym-node run --mode exit-gateway --id &lt;YOUR_NODE_LOCAL_ID&gt; --accept-operator-terms-and-conditions --wireguard-enabled true
Restart=on-failure
RestartSec=30
StartLimitInterval=350
StartLimitBurst=10
LimitNOFILE=65536

[Install]
WantedBy=multi-user.target

# ADD OR TWEAK ANY CUSTOM SETTINGS
</code></pre>
<ol start="2">
<li>Reload the systemd daemon to apply the changes:</li>
</ol>
<pre><code class="language-bash">systemctl daemon-reload
</code></pre>
<ol start="3">
<li>Restart the <code>nym-node service</code>:</li>
</ol>
<pre><code class="language-bash">systemctl restart nym-node.service
</code></pre>
<ol start="4">
<li>Optionally, you can check if the node is running correctly by monitoring the service logs:</li>
</ol>
<pre><code class="language-bash">journalctl -u nym-node.service -f -n 100
</code></pre>
<p><strong>Step 4: Run the Network Tunnel Manager Script</strong></p>
<p>Finally, run the following command to initiate our favorite routing test - run the joke through the WireGuard tunnel:</p>
<pre><code class="language-bash">./network_tunnel_manager.sh joke_through_wg_tunnel
</code></pre>
<ul>
<li><strong>Note:</strong> Wireguard will return only IPv4 joke, not IPv6. WG IPv6 is under development. Running IPR joke through the mixnet with <code>./network_tunnel_manager.sh joke_through_the_mixnet</code> should work with both IPv4 and IPv6!</li>
</ul>
</div>
</details>
<ul>
<li><a href="nodes/setup.html#-initialise--run">Change <code>--wireguard-enabled</code> flag to <code>true</code></a>: With a proper <a href="nodes/configuration.html#routing-configuration">routing configuration</a> <code>nym-nodes</code> running as Gateways can now enable WG. See the example below:</li>
</ul>
<details id="admonition-syntax-to-run-nym-node-with-wg-enabled" class="admonition admonish-example" role="note" aria-labelledby="admonition-syntax-to-run-nym-node-with-wg-enabled-title">
<summary class="admonition-title">
<div id="admonition-syntax-to-run-nym-node-with-wg-enabled-title">
<p>Syntax to run <code>nym-node</code> with WG enabled</p>
</div>
<a class="admonition-anchor-link" href="#admonition-syntax-to-run-nym-node-with-wg-enabled"></a>
</summary>
<div>
<p>For Exit Gateway:</p>
<pre><code class="language-sh">./nym-node run --id &lt;ID&gt; --mode exit-gateway --public-ips "$(curl -4 https://ifconfig.me)" --hostname "&lt;YOUR_DOMAIN&gt;" --http-bind-address 0.0.0.0:8080 --mixnet-bind-address 0.0.0.0:1789 --location &lt;COUNTRY_FULL_NAME&gt; --accept-operator-terms-and-conditions --wireguard-enabled true

# &lt;YOUR_DOMAIN&gt; is in format without 'https://' prefix
# &lt;COUNTRY_FULL_NAME&gt; is format like 'Jamaica',  or two-letter alpha2 (e.g. 'JM'), three-letter alpha3 (e.g. 'JAM') or three-digit numeric-3 (e.g. '388') can be provided.
# wireguard can be enabled from version 1.1.6 onwards
</code></pre>
<p>For Entry Gateway:</p>
<pre><code class="language-sh">./nym-node run --id &lt;ID&gt; --mode entry-gateway --public-ips "$(curl -4 https://ifconfig.me)" --hostname "&lt;YOUR_DOMAIN&gt;" --http-bind-address 0.0.0.0:8080 --mixnet-bind-address 0.0.0.0:1789 --accept-operator-terms-and-conditions --wireguard-enabled true

# &lt;YOUR_DOMAIN&gt; is in format without 'https://' prefix
# &lt;COUNTRY_FULL_NAME&gt; is format like 'Jamaica',  or two-letter alpha2 (e.g. 'JM'), three-letter alpha3 (e.g. 'JAM') or three-digit numeric-3 (e.g. '388') can be provided.
# wireguard can be enabled from version 1.1.6 onwards
</code></pre>
</div>
</details>
<ul>
<li><a href="https://nymtech.net/.wellknown/network-requester/exit-policy.txt">Update Nym exit policy</a>: Based on the survey, AMA and following discussions we added several ports to Nym exit policy. The ports voted upon in the <a href="https://forum.nymtech.net/t/poll-a-new-nym-exit-policy-for-exit-gateways-and-the-nym-mixnet-is-inbound/464">forum governance</a> have not been added yet due to the concerns raised. These ports were unrestricted:</li>
</ul>
<details id="admonition-newly-opened-ports-in-nym-exit-policy" class="admonition admonish-example" role="note" aria-labelledby="admonition-newly-opened-ports-in-nym-exit-policy-title">
<summary class="admonition-title">
<div id="admonition-newly-opened-ports-in-nym-exit-policy-title">
<p>Newly opened ports in Nym exit policy</p>
</div>
<a class="admonition-anchor-link" href="#admonition-newly-opened-ports-in-nym-exit-policy"></a>
</summary>
<div>
<pre><code>22 # SSH
123 # NTP
445 # SMB file share Windows
465 # URD for SSM
587 # SMTP
853 # DNS over TLS
1433 # databases
1521 # databases
2049 # NFS
3074 # Xbox Live
3306 # databases
5000-5005 # RTP / VoIP
5432 # databases
6543 # databases
8080 # HTTP Proxies
8767 # TeamSpeak
8883 # Secure MQ Telemetry Transport - MQTT over SSL
9053 # Tari
9339 # gaming
9443 # alternative HTTPS
9735 # Lightning
25565 # Minecraft
27000-27050 # Steam and game servers
60000-61000 # MOSH
</code></pre>
</div>
</details>
<ul>
<li>
<p><a href="https://nymtech.net/developers/archive/nym-connect.html">Create a NymConnect archive page</a>, PR <a href="https://github.com/nymtech/nym/commit/5096c1e60e203dcf8be934823946e24fda16a9a3">#4750</a>: Archive deprecated NymConnect for backward compatibility, show PEApps examples for both NC and maintained <code>nym-socks5-client</code>.</p>
</li>
<li>
<p>Fix broken URLs and correct redirection. PRs: <a href="https://github.com/nymtech/nym/commit/7e36595d8fa7706876880b42df1c998a4b8c1478">#4745</a>, <a href="https://github.com/nymtech/nym/commit/1db61f800c6884e284c5ab21e7abce3bc6d91d99">#4752</a> <a href="https://github.com/nymtech/nym/commit/aaf3dca5b999ad7f19d2ff170078b43c9c4476c2">#4755</a>, <a href="https://github.com/nymtech/nym/commit/6f669866e92e637772726ad05caa5c5501a830f3">#4737</a></p>
</li>
</ul>
<details id="admonition-testing-steps-performed-9" class="admonition admonish-example" role="note" aria-labelledby="admonition-testing-steps-performed-9-title">
<summary class="admonition-title">
<div id="admonition-testing-steps-performed-9-title">
<p>Testing steps performed</p>
</div>
<a class="admonition-anchor-link" href="#admonition-testing-steps-performed-9"></a>
</summary>
<div>
<ul>
<li>Use <a href="https://www.deadlinkchecker.com/website-dead-link-checker.asp">deadlinkchecker.com</a> to go over <code>nymtech.net</code> and correct all docs URLs</li>
<li>Go over search engines and old medium articles and check that all dead URLs re-directing correctly</li>
</ul>
</div>
</details>
<ul>
<li><a href="https://nymtech.net/operators/nodes/vps-setup.html#configure-your-firewall">Clarify syntax on <code>nym-nodes</code> ports on VPS setup page</a>, PR <a href="https://github.com/nymtech/nym/commit/5e6417f83788f30b2a84e4dd73d6dd9619a2bb16">#4734</a>: Make crystal clear that the addresses and ports in operators <code>config.toml</code> must be opened using <a href="https://nymtech.net/operators/nodes/vps-setup.html#configure-your-firewall"><code>ufw</code></a> and set up as in the example below:</li>
</ul>
<details id="admonition-snap-of-binding-addresses-and-ports-in-configtoml" class="admonition admonish-example" role="note" aria-labelledby="admonition-snap-of-binding-addresses-and-ports-in-configtoml-title">
<summary class="admonition-title">
<div id="admonition-snap-of-binding-addresses-and-ports-in-configtoml-title">
<p>snap of binding addresses and ports in <code>config.toml</code></p>
</div>
<a class="admonition-anchor-link" href="#admonition-snap-of-binding-addresses-and-ports-in-configtoml"></a>
</summary>
<div>
<pre><code class="language-toml">[host]
public_ips = [
'&lt;YOUR_PUBLIC_IPv4&gt;'
]

[mixnet]
bind_address = '0.0.0.0:1789'

[http]
bind_address = '0.0.0.0:8080'

[mixnode]
[mixnode.verloc]
bind_address = '0.0.0.0:1790'

[entry_gateway]
bind_address = '0.0.0.0:9000'
</code></pre>
</div>
</details>
<h3 id="tooling"><a class="header" href="#tooling">Tooling</a></h3>
<ul>
<li>
<p><a href="https://https://harbourmaster.nymtech.net/">Nym Harbourmaster</a> has now several new functionalities:</p>
<ul>
<li>Tab for Mixnodes</li>
<li>Tab with Charts</li>
<li>New columns with: <em>Moniker (node description)</em>, <em>DP delegatee</em>, <em>Accepted T&amp;Cs</em> - also part of a new category 🐼😀</li>
</ul>
</li>
<li>
<p>Nym has a new <a href="https://nymtech.net/about/token">Token page</a></p>
</li>
</ul>
<hr />
<h2 id="v20248-wispa"><a class="header" href="#v20248-wispa"><code>v2024.8-wispa</code></a></h2>
<ul>
<li><a href="https://github.com/nymtech/nym/releases/tag/nym-binaries-v2024.8-wispa">Release binaries</a></li>
<li><a href="https://github.com/nymtech/nym/blob/nym-binaries-v2024.8-wispa/CHANGELOG.md">Release CHANGELOG.md</a></li>
<li><a href="nodes/nym-node.html"><code>nym-node</code></a> version <code>1.1.5</code></li>
</ul>
<details id="admonition-changelogmd-2" class="admonition admonish-example" role="note" aria-labelledby="admonition-changelogmd-2-title">
<summary class="admonition-title">
<div id="admonition-changelogmd-2-title">
<p>CHANGELOG.md</p>
</div>
<a class="admonition-anchor-link" href="#admonition-changelogmd-2"></a>
</summary>
<div>
<ul>
<li>add event parsing to support cosmos_sdk &gt; 0.50 (<a href="https://github.com/nymtech/nym/pull/4697">#4697</a>)</li>
<li>Fix NR config compatibility (<a href="https://github.com/nymtech/nym/pull/4690">#4690</a>)</li>
<li>Remove UserAgent constructor since it’s weakly typed (<a href="https://github.com/nymtech/nym/pull/4689">#4689</a>)</li>
<li>[bugfix]: Node_api_check CLI looked over roles on blacklisted nodes (<a href="https://github.com/nymtech/nym/pull/4687">#4687</a>)</li>
<li>Add mixnodes to self describing api cache (<a href="https://github.com/nymtech/nym/pull/4684">#4684</a>)</li>
<li>Move and whole bump of crates to workspace and upgrade some (<a href="https://github.com/nymtech/nym/pull/4680">#4680</a>)</li>
<li>Remove code that refers to removed nym-network-statistics (<a href="https://github.com/nymtech/nym/pull/4679">#4679</a>)</li>
<li>Remove nym-network-statistics (<a href="https://github.com/nymtech/nym/pull/4678">#4678</a>)</li>
<li>Create UserAgent that can be passed from the binary to the nym api client (<a href="https://github.com/nymtech/nym/pull/4677">#4677</a>)</li>
<li>Add authenticator (<a href="https://github.com/nymtech/nym/pull/4667">#4667</a>)</li>
</ul>
</div>
</details>
<h3 id="features-2"><a class="header" href="#features-2">Features</a></h3>
<ul>
<li><a href="https://github.com/nymtech/nym/pull/4721">Default construct NodeRole</a>: To preserve compatibility with newer clients interacting with older <code>nym-api</code></li>
</ul>
<details id="admonition-testing-steps-performed-10" class="admonition admonish-example" role="note" aria-labelledby="admonition-testing-steps-performed-10-title">
<summary class="admonition-title">
<div id="admonition-testing-steps-performed-10-title">
<p>Testing steps performed</p>
</div>
<a class="admonition-anchor-link" href="#admonition-testing-steps-performed-10"></a>
</summary>
<div>
<ol>
<li>Reviewed the changes in the <code>nym-api-requests/src/models.rs</code> file.</li>
<li>Verified that the <code>NymNodeDescription</code> struct includes the new <code>role</code> field with a default value set by <code>default_node_role</code>.</li>
<li>Checked the implementation of the <code>default_node_role</code> function to ensure it returns <code>NodeRole::Inactive</code>.</li>
<li>Ran the updated code in the sandbox environment.</li>
<li>Monitored the sandbox environment for any issues or errors related to the changes.</li>
</ol>
<p><strong>Notes (if any):</strong>
The test was successful. No issues were flagged during the testing in the sandbox environment. The new default value for <code>NodeRole</code> ensures backward compatibility without causing disruptions.</p>
</div>
</details>
<ul>
<li>[Default construct NodeRole for backwards compatibility (apply <a href="https://github.com/nymtech/nym/pull/4721">#4721</a> on develop)](https://github.com/nymtech/nym/pull/4722)</li>
<li><a href="https://github.com/nymtech/nym/pull/4703">Add upgrades to <code>nym-node</code> for <code>authenticator</code> changes</a></li>
</ul>
<details id="admonition-testing-steps-performed-11" class="admonition admonish-example" role="note" aria-labelledby="admonition-testing-steps-performed-11-title">
<summary class="admonition-title">
<div id="admonition-testing-steps-performed-11-title">
<p>Testing steps performed</p>
</div>
<a class="admonition-anchor-link" href="#admonition-testing-steps-performed-11"></a>
</summary>
<div>
<ol>
<li>Reviewed the changes in the <code>gateway/src/error.rs</code> and <code>gateway/src/node/mod.rs</code> files.</li>
<li>Verified the new error enum <code>AuthenticatorStartupFailure</code> was added to <code>GatewayError</code>.</li>
<li>Confirmed the implementation of the <code>StartedAuthenticator</code> struct and its usage in the <code>start_authenticator</code> function.</li>
<li>Ran the updated code in the canary environment.</li>
<li>Monitored the canary environment for any issues or errors related to the changes.</li>
</ol>
</div>
</details>
<ul>
<li><a href="https://github.com/nymtech/nym/pull/4697">Add event parsing to support <code>cosmos_sdk</code> &gt; <code>0.50</code></a></li>
</ul>
<details id="admonition-testing-steps-performed-12" class="admonition admonish-example" role="note" aria-labelledby="admonition-testing-steps-performed-12-title">
<summary class="admonition-title">
<div id="admonition-testing-steps-performed-12-title">
<p>Testing steps performed</p>
</div>
<a class="admonition-anchor-link" href="#admonition-testing-steps-performed-12"></a>
</summary>
<div>
<ol>
<li>Reviewed the changes in <code>common/client-libs/validator-client/src/nyxd/cosmwasm_client/client_traits/signing_client.rs</code>, <code>logs.rs</code>, <code>types.rs</code>, and <code>nym-api/src/coconut/tests/mod.rs</code> files.</li>
<li>Verified the addition of event parsing in the relevant functions and structs.</li>
<li>Ensured that the <code>find_attribute</code> function correctly parses event attributes.</li>
<li>Ran the updated code in the sandbox environment.</li>
<li>Broadcasted transactions on the sandbox network to test the changes.</li>
<li>Monitored the sandbox network for any malformed responses or errors after the test chain upgrade.</li>
</ol>
</div>
</details>
<ul>
<li><a href="https://github.com/nymtech/nym/pull/4691">Send bandwidth status messages when connecting</a>: When connecting to the gateway we get received the available bandwidth left. Emit a status messages for this, for consumption by the application layer.</li>
</ul>
<details id="admonition-testing-steps-performed-13" class="admonition admonish-example" role="note" aria-labelledby="admonition-testing-steps-performed-13-title">
<summary class="admonition-title">
<div id="admonition-testing-steps-performed-13-title">
<p>Testing steps performed</p>
</div>
<a class="admonition-anchor-link" href="#admonition-testing-steps-performed-13"></a>
</summary>
<div>
<ol>
<li>Reviewed the changes in <code>common/bandwidth-controller/src/event.rs</code>, <code>common/bandwidth-controller/src/lib.rs</code>, and <code>common/client-libs/gateway-client/src/client.rs</code> files.</li>
<li>Verified the implementation of <code>BandwidthStatusMessage</code> enum for emitting status messages.</li>
<li>Ensured <code>GatewayClient</code> is updated to send bandwidth status messages when connecting.</li>
<li>Deployed the updated code on the canary environment.</li>
<li>Connected to the gateway and checked for the emission of bandwidth status messages.</li>
<li>Verified that the messages were correctly parsed and consumed by the application layer.</li>
<li>Ran the VPN client to observe the parsed events.</li>
</ol>
</div>
</details>
<ul>
<li><a href="https://github.com/nymtech/nym/pull/4690">Fix NR config compatibility</a>: Recently we deleted the old statistics service provider. This fixes some issues where old configs didn’t work with the latest changes.
<ul>
<li>Make NR able to read config with old keys in</li>
<li>Remove deleted config keys from NR template</li>
</ul>
</li>
</ul>
<details id="admonition-testing-steps-performed-14" class="admonition admonish-example" role="note" aria-labelledby="admonition-testing-steps-performed-14-title">
<summary class="admonition-title">
<div id="admonition-testing-steps-performed-14-title">
<p>Testing steps performed</p>
</div>
<a class="admonition-anchor-link" href="#admonition-testing-steps-performed-14"></a>
</summary>
<div>
<ol>
<li>Reviewed the changes in the <code>service-providers/network-requester/src/config/mod.rs</code> and <code>service-providers/network-requester/src/config/template.rs</code> files.</li>
<li>Ensured <code>NetworkRequester</code> config is able to read old keys for compatibility.</li>
<li>Removed old and deleted config keys from the <code>NetworkRequester</code> template.</li>
<li>Compiled the project to verify no issues or warnings appeared.</li>
<li>Ran all tests to ensure that the changes did not affect the functionality.</li>
<li>Validated that no leftover code from the old statistics service provider caused any issues.</li>
</ol>
</div>
</details>
<ul>
<li><a href="https://github.com/nymtech/nym/pull/4689">Remove <code>UserAgent</code> constructor since it’s weakly typed</a>:</li>
</ul>
<details id="admonition-testing-steps-performed-15" class="admonition admonish-example" role="note" aria-labelledby="admonition-testing-steps-performed-15-title">
<summary class="admonition-title">
<div id="admonition-testing-steps-performed-15-title">
<p>Testing steps performed</p>
</div>
<a class="admonition-anchor-link" href="#admonition-testing-steps-performed-15"></a>
</summary>
<div>
<ol>
<li>Reviewed the changes in <code>common/http-api-client/src/user_agent.rs</code> file.</li>
<li>Verified the removal of the <code>UserAgent</code> constructor and ensured that all instances of <code>UserAgent::new</code> are updated accordingly.</li>
<li>Checked the implementation of <code>UserAgent</code> struct using <code>BinaryBuildInformation</code> and <code>BinaryBuildInformationOwned</code>.</li>
<li>Deployed the updated code across different environments (QA, sandbox, and canary).</li>
<li>Ran tests to ensure that the <code>UserAgent</code> struct functions correctly without the constructor.</li>
</ol>
</div>
</details>
<ul>
<li><a href="https://github.com/nymtech/nym/pull/4684">Add mixnodes to self describing api cache</a>:
<ul>
<li>Abstracts getting the self describing info a bit</li>
<li>Adds mixnodes to the cache refresher as well</li>
<li>Adds <code>role</code> field to the <code>NodeDescription</code> struct, to be able to distinguish between mixnodes and gateways</li>
<li>Switched to using <code>NodeStatusCache</code> instead of <code>ContractCache</code></li>
</ul>
</li>
</ul>
<details id="admonition-testing-steps-performed-16" class="admonition admonish-example" role="note" aria-labelledby="admonition-testing-steps-performed-16-title">
<summary class="admonition-title">
<div id="admonition-testing-steps-performed-16-title">
<p>Testing steps performed</p>
</div>
<a class="admonition-anchor-link" href="#admonition-testing-steps-performed-16"></a>
</summary>
<div>
<p>Called the new <code>/mixnodes/described</code> endpoint as well as the existing <code>/gateways/described</code> endpoint and verified that the data returned for each was correct based on the settings that different nodes have when they are setup.</p>
<p>For gateway endpoint, the “role” for now does not differentiate between entry and exit gateways, this will be implemented in the future.</p>
</div>
</details>
<ul>
<li><a href="https://github.com/nymtech/nym/pull/4680">Move and whole bump of crates to workspace and upgrade some</a>:
<ul>
<li>Fix cargo warning for <code>default_features</code></li>
<li>Move dirs 4.0 to workspace</li>
<li>Use workspace <code>base64</code> dep</li>
<li>Move <code>rand_chacha</code> and <code>x25519-dalek</code> to workspace</li>
<li>Use workspace <code>ed25519-dalek</code> dep</li>
<li>Move <code>itertools</code> to workspace deps and upgrade</li>
<li>Move a few partial deps to workspace  while preserving versions</li>
</ul>
</li>
</ul>
<details id="admonition-testing-steps-performed-17" class="admonition admonish-example" role="note" aria-labelledby="admonition-testing-steps-performed-17-title">
<summary class="admonition-title">
<div id="admonition-testing-steps-performed-17-title">
<p>Testing steps performed</p>
</div>
<a class="admonition-anchor-link" href="#admonition-testing-steps-performed-17"></a>
</summary>
<div>
<ol>
<li>Reviewed the changes to move and upgrade crates to the workspace.</li>
<li>Verified the updated dependencies:
<ul>
<li>Moved <code>dirs</code> to version 4.0 in the workspace.</li>
<li>Updated the <code>base64</code> dependency to use the workspace version.</li>
<li>Moved <code>rand_chacha</code> and <code>x25519-dalek</code> to the workspace.</li>
<li>Updated <code>ed25519-dalek</code> to use the workspace version.</li>
<li>Moved and upgraded <code>itertools</code> in the workspace.</li>
<li>Moved other partial dependencies to the workspace while preserving their versions.</li>
</ul>
</li>
<li>Ensured the <code>Cargo.toml</code> files across the project reflect these changes correctly.</li>
<li>Compiled the entire project to check for any issues or warnings.</li>
<li>Verified that all tests pass successfully after the changes.</li>
</ol>
</div>
</details>
<ul>
<li><a href="https://github.com/nymtech/nym/pull/4678">Remove <code>nym-network-statistics</code></a>: Remove <code>nym-network-statistics</code> service provider that is no longer used.</li>
</ul>
<details id="admonition-testing-steps-performed-18" class="admonition admonish-example" role="note" aria-labelledby="admonition-testing-steps-performed-18-title">
<summary class="admonition-title">
<div id="admonition-testing-steps-performed-18-title">
<p>Testing steps performed</p>
</div>
<a class="admonition-anchor-link" href="#admonition-testing-steps-performed-18"></a>
</summary>
<div>
<ol>
<li>Reviewed the project to identify all references to <code>nym-network-statistics</code>.</li>
<li>Removed all code and dependencies associated with <code>nym-network-statistics</code>.</li>
<li>Ensured that no references to <code>nym-network-statistics</code> remain in the codebase, including comments, imports, and configuration files.</li>
<li>Compiled the project to check for any issues or warnings.</li>
<li>Ran all tests to ensure the removal did not affect the functionality of the project.</li>
</ol>
</div>
</details>
<ul>
<li><a href="https://github.com/nymtech/nym/pull/4679">Remove code that refers to removed <code>nym-network-statistics</code></a>: Follow up to <a href="https://github.com/nymtech/nym/pull/4678">#4678</a> where all code interacting with it is removed.</li>
</ul>
<details id="admonition-testing-steps-performed-19" class="admonition admonish-example" role="note" aria-labelledby="admonition-testing-steps-performed-19-title">
<summary class="admonition-title">
<div id="admonition-testing-steps-performed-19-title">
<p>Testing steps performed</p>
</div>
<a class="admonition-anchor-link" href="#admonition-testing-steps-performed-19"></a>
</summary>
<div>
<ol>
<li>Reviewed the project to identify all references to <code>nym-network-statistics</code>.</li>
<li>Removed all code and dependencies associated with <code>nym-network-statistics</code>.</li>
<li>Ensured that no references to <code>nym-network-statistics</code> remain in the codebase, including comments, imports, and configuration files.</li>
<li>Compiled the project to check for any issues or warnings.</li>
<li>Ran all tests to ensure the removal did not affect the functionality of the project.</li>
</ol>
</div>
</details>
<ul>
<li><a href="https://github.com/nymtech/nym/pull/4677">Create <code>UserAgent</code> that can be passed from the binary to the <code>nym-api</code> client</a>:
<ul>
<li>Support setting <code>UserAgent</code> for the validator client</li>
<li>Support setting <code>UserAgent</code> in the SDK <code>MixnetClient</code></li>
<li>Set <code>UserAgent</code> when getting the list of gateways and topology in
<ul>
<li><code>nym-client</code></li>
<li><code>nym-socks5-client</code></li>
<li>Standalone <code>ip-packet-router</code></li>
</ul>
</li>
</ul>
</li>
</ul>
<details id="admonition-testing-steps-performed-20" class="admonition admonish-example" role="note" aria-labelledby="admonition-testing-steps-performed-20-title">
<summary class="admonition-title">
<div id="admonition-testing-steps-performed-20-title">
<p>Testing steps performed</p>
</div>
<a class="admonition-anchor-link" href="#admonition-testing-steps-performed-20"></a>
</summary>
<div>
<p>Used the nym-vpn-cli to test this, and we can visibly see the <code>UserAgent</code>, no issues with the comments mentioned above.</p>
<p>Example of the user agent sent:
<code>nym-client/1.1.36/x86_64-unknown-linux-gnu/e18bb70</code></p>
<img width="1435" alt="image" src="https://github.com/nymtech/nym/assets/60836166/5d4cc76f-84e6-45cb-9102-adc2b58a25d9">
<p>Connected with no problems</p>
</div>
</details>
<ul>
<li><a href="https://github.com/nymtech/nym/pull/4667">Add <code>authenticator</code></a></li>
</ul>
<h3 id="bugfix-2"><a class="header" href="#bugfix-2">Bugfix</a></h3>
<ul>
<li><a href="https://github.com/nymtech/nym/pull/4687"><code>Node_api_check.py</code> CLI looked over roles on blacklisted nodes</a>: Removing/correcting this redundant function which results in unwanted error print, will resolve in the program not looking up the <code>roles</code> endpoint for blacklisted GWs, instead just ignores the role description and still return all other endpoints.</li>
</ul>
<h3 id="operators-guide-updates-1"><a class="header" href="#operators-guide-updates-1">Operators Guide updates</a></h3>
<ul>
<li><a href="https://nymtech.net/operators/nodes/maintenance.html#backup-a-node">Create a guide to backup and restore <code>nym-node</code></a>, PR <a href="https://github.com/nymtech/nym/pull/4720">#4720</a></li>
<li><a href="https://nymtech.net/operators/troubleshooting/vps-isp.html#network-configuration">Add manual IPv6 ifup/down network configuration</a>, PR <a href="https://github.com/nymtech/nym/pull/4651">#4651</a></li>
<li><a href="https://nymtech.net/operators/legal/isp-list.html">Extend ISP list</a></li>
<li><a href="https://nymtech.net/operators/nodes/proxy-configuration.html#web-secure-socket-setup">Add SSL cert bot block to WSS setup</a>, <a href="https://github.com/nymtech/nym/commits/develop/">PR here</a>: WSS setup fully works!</li>
<li><a href="https://nymtech.net/operators/nodes/bonding.html#bond-via-the-desktop-wallet-recommended">Correct <code>HTTP API port</code> in bonding page</a> , <a href="https://github.com/nymtech/nym/pull/4707">PR #4707</a>: Change <code>HTTP API port</code> to <code>8080</code> on every <code>nym-node</code> by opening <code>config.toml</code> and making sure that your binding addresses and ports are as in the block below. Then go to desktop wallet and open the box called <code>Show advanced options</code> and make sure all your ports are set correctly (usually this means to change <code>HTTP api port</code> to <code>8080</code> for <code>mixnode</code> mode).</li>
</ul>
<details id="admonition-snap-of-binding-addresses-and-ports-in-configtoml-1" class="admonition admonish-example" role="note" aria-labelledby="admonition-snap-of-binding-addresses-and-ports-in-configtoml-1-title">
<summary class="admonition-title">
<div id="admonition-snap-of-binding-addresses-and-ports-in-configtoml-1-title">
<p>snap of binding addresses and ports in <code>config.toml</code></p>
</div>
<a class="admonition-anchor-link" href="#admonition-snap-of-binding-addresses-and-ports-in-configtoml-1"></a>
</summary>
<div>
<pre><code class="language-toml">[host]
public_ips = [
'&lt;YOUR_PUBLIC_IPv4&gt;'
]

[mixnet]
bind_address = '0.0.0.0:1789'

[http]
bind_address = '0.0.0.0:8080'

[mixnode]
[mixnode.verloc]
bind_address = '0.0.0.0:1790'

[entry_gateway]
bind_address = '0.0.0.0:9000'
</code></pre>
</div>
</details>
<ul>
<li><a href="https://github.com/nymtech/nym/pull/4727">Comment our deprecated node pages in <code>/docs</code></a>
<ul>
<li>Fixes <a href="https://github.com/nymtech/nym/issues/4632">issue #4632</a></li>
</ul>
</li>
<li><a href="https://github.com/nymtech/nym/pull/4682">Remove redundant syntax from the setup guide</a></li>
</ul>
<hr />
<h2 id="v20247-doubledecker"><a class="header" href="#v20247-doubledecker"><code>v2024.7-doubledecker</code></a></h2>
<ul>
<li><a href="https://github.com/nymtech/nym/releases/tag/nym-binaries-v2024.7-doubledecker">Release binaries</a></li>
<li><a href="https://github.com/nymtech/nym/blob/nym-binaries-v2024.7-doubledecker/CHANGELOG.md">Release CHANGELOG.md</a></li>
<li><a href="nodes/nym-node.html"><code>nym-node</code></a> version <code>1.1.4</code></li>
</ul>
<details id="admonition-changelogmd-3" class="admonition admonish-example" role="note" aria-labelledby="admonition-changelogmd-3-title">
<summary class="admonition-title">
<div id="admonition-changelogmd-3-title">
<p>CHANGELOG.md</p>
</div>
<a class="admonition-anchor-link" href="#admonition-changelogmd-3"></a>
</summary>
<div>
<ul>
<li>Add an early return in <code>parse_raw_str_logs</code> for empty raw log strings. (<a href="https://github.com/nymtech/nym/pull/4686">#4686</a>)</li>
<li>Bump braces from 3.0.2 to 3.0.3 in /wasm/mix-fetch/internal-dev (<a href="https://github.com/nymtech/nym/pull/4672">#4672</a>)</li>
<li>add expiry returned on import (<a href="https://github.com/nymtech/nym/pull/4670">#4670</a>)</li>
<li>[bugfix] missing rustls feature (<a href="https://github.com/nymtech/nym/pull/4666">#4666</a>)</li>
<li>Bump ws from 8.13.0 to 8.17.1 in /wasm/client/internal-dev-node (<a href="https://github.com/nymtech/nym/pull/4665">#4665</a>)</li>
<li>Bump braces from 3.0.2 to 3.0.3 in /clients/native/examples/js-examples/websocket (<a href="https://github.com/nymtech/nym/pull/4663">#4663</a>)</li>
<li>Bump ws from 8.14.2 to 8.17.1 in /sdk/typescript/packages/nodejs-client (<a href="https://github.com/nymtech/nym/pull/4662">#4662</a>)</li>
<li>Update setup.md (<a href="https://github.com/nymtech/nym/pull/4661">#4661</a>)</li>
<li>New clippy lints (<a href="https://github.com/nymtech/nym/pull/4660">#4660</a>)</li>
<li>Bump braces from 3.0.2 to 3.0.3 in /nym-api/tests (<a href="https://github.com/nymtech/nym/pull/4659">#4659</a>)</li>
<li>Bump braces from 3.0.2 to 3.0.3 in /docker/typescript_client/upload_contract (<a href="https://github.com/nymtech/nym/pull/4658">#4658</a>)</li>
<li>Update vps-setup.md (<a href="https://github.com/nymtech/nym/pull/4656">#4656</a>)</li>
<li>Update configuration.md (<a href="https://github.com/nymtech/nym/pull/4655">#4655</a>)</li>
<li>Remove old PR template (<a href="https://github.com/nymtech/nym/pull/4639">#4639</a>)</li>
</ul>
</div>
</details>
<h3 id="features-3"><a class="header" href="#features-3">Features</a></h3>
<ul>
<li><a href="https://github.com/nymtech/nym/pull/4693">Remove the <code>nym-mixnode</code> and <code>nym-gateway</code> binaries from the CI upload builds action</a></li>
<li><a href="https://github.com/nymtech/nym/pull/4686">Add an early return in <code>parse_raw_str_logs</code> for empty raw log strings.</a>: This accommodates for the v50 + chain upgrade.</li>
<li><a href="https://github.com/nymtech/nym/pull/4672">Bump braces from <code>3.0.2</code> to <code>3.0.3</code> in <code>/wasm/mix-fetch/internal-dev</code></a>: Version update of <a href="https://github.com/micromatch/braces">braces</a></li>
<li><a href="https://github.com/nymtech/nym/pull/4663">Bump braces from <code>3.0.2</code> to <code>3.0.3</code> in <code>/clients/native/examples/js-examples/websocket</code></a>: Version update of <a href="https://github.com/micromatch/braces">braces</a>.</li>
<li><a href="https://github.com/nymtech/nym/pull/4659">Bump braces from <code>3.0.2</code> to <code>3.0.3</code> in <code>/nym-api/tests</code></a>: Version update of <a href="https://github.com/micromatch/braces">braces</a>.</li>
<li><a href="https://github.com/nymtech/nym/pull/4658">Bump braces from <code>3.0.2</code> to <code>3.0.3</code> in <code>/docker/typescript_client/upload_contract</code></a>: Version update of  <a href="https://github.com/micromatch/braces">braces</a>.</li>
<li><a href="https://github.com/nymtech/nym/pull/4665">Bump <code>ws</code> from <code>8.13.0</code> to <code>8.17.1</code> in <code>/wasm/client/internal-dev-node</code></a>: Version update of <a href="https://github.com/websockets/ws"><code>ws</code></a>.</li>
<li><a href="https://github.com/nymtech/nym/pull/4662">Bump <code>ws</code> from <code>8.14.2</code> to <code>8.17.1</code> in <code>/sdk/typescript/packages/nodejs-client</code></a>: Version update of <a href="https://github.com/websockets/ws"><code>ws</code></a>.</li>
<li><a href="https://github.com/nymtech/nym/pull/4670">Add expiry returned on import</a>: We need to return the expiry on import for desktop daemon <code>nym-vpnd</code>.</li>
<li><a href="https://github.com/nymtech/nym/pull/4660">New clippy lints</a></li>
<li><a href="https://github.com/nymtech/nym/pull/4643">Remove <code>nym-connect</code> directory</a>: Since the <code>nym-vpn</code> has superseded <code>nym-connect</code>, remove <code>nym-connect</code> from the repo.</li>
<li><a href="https://github.com/nymtech/nym/pull/4639">Remove old PR template</a></li>
</ul>
<h3 id="bugfix-3"><a class="header" href="#bugfix-3">Bugfix</a></h3>
<ul>
<li><a href="https://github.com/nymtech/nym/pull/4666">missing rustls feature</a>: It just happens to work due to <code>feature-unification</code>. It should probably have this feature inbuild.</li>
</ul>
<h3 id="operators-guide-updates-2"><a class="header" href="#operators-guide-updates-2">Operators Guide updates</a></h3>
<ul>
<li><a href="nodes/configuration.html#node-description">Node description guide</a>: Steps to add self-description to <code>nym-node</code> and query this information from any node.</li>
<li><a href="nodes/proxy-configuration.html">Web Secure Socket (WSS) guide and reverse proxy update</a>, PR <a href="https://github.com/nymtech/nym/pull/4694">here</a>: A guide to setup <code>nym-node</code> in a secure fashion, using WSS via Nginx and Certbot. Landing page (reversed proxy) is updated and simplified.</li>
</ul>
<hr />
<h2 id="v20246-chomp"><a class="header" href="#v20246-chomp"><code>v2024.6-chomp</code></a></h2>
<ul>
<li><a href="https://github.com/nymtech/nym/releases/tag/nym-binaries-v2024.6-chomp">Release binaries</a></li>
<li><a href="https://github.com/nymtech/nym/blob/nym-binaries-v2024.6-chomp/CHANGELOG.md">Release CHANGELOG.md</a></li>
<li><a href="nodes/nym-node.html"><code>nym-node</code></a> version <code>1.1.3</code></li>
<li>Standalone <code>nym-gateway</code> and <code>nym-mixnode</code> binaries are no longer released</li>
</ul>
<details id="admonition-changelogmd-4" class="admonition admonish-example" role="note" aria-labelledby="admonition-changelogmd-4-title">
<summary class="admonition-title">
<div id="admonition-changelogmd-4-title">
<p>CHANGELOG.md</p>
</div>
<a class="admonition-anchor-link" href="#admonition-changelogmd-4"></a>
</summary>
<div>
<ul>
<li>Remove additional code as part of Ephemera Purge and SP and contracts (<a href="https://github.com/nymtech/nym/pull/4650">#4650</a>)</li>
<li>bugfix: make sure nym-api can handle non-cw2 (or without detailed build info) compliant contracts (<a href="https://github.com/nymtech/nym/pull/4648">#4648</a>)</li>
<li>introduced a flag to accept toc and exposed it via self-described API (<a href="https://github.com/nymtech/nym/pull/4647">#4647</a>)</li>
<li>bugfix: make sure to return an error on invalid public ip (<a href="https://github.com/nymtech/nym/pull/4646">#4646</a>)</li>
<li>Add ci check for PR having an assigned milestone (<a href="https://github.com/nymtech/nym/pull/4644">#4644</a>)</li>
<li>Removed ephemera code (<a href="https://github.com/nymtech/nym/pull/4642">#4642</a>)</li>
<li>Remove stale peers (<a href="https://github.com/nymtech/nym/pull/4640">#4640</a>)</li>
<li>Add generic wg private network routing (<a href="https://github.com/nymtech/nym/pull/4636">#4636</a>)</li>
<li>Feature/new node endpoints (<a href="https://github.com/nymtech/nym/pull/4635">#4635</a>)</li>
<li>standarised ContractBuildInformation and added it to all contracts (<a href="https://github.com/nymtech/nym/pull/4631">#4631</a>)</li>
<li>validate nym-node public ips on startup (<a href="https://github.com/nymtech/nym/pull/4630">#4630</a>)</li>
<li>Bump defguard wg (<a href="https://github.com/nymtech/nym/pull/4625">#4625</a>)</li>
<li>Fix cargo warnings (<a href="https://github.com/nymtech/nym/pull/4624">#4624</a>)</li>
<li>Update kernel peers on peer modification (<a href="https://github.com/nymtech/nym/pull/4622">#4622</a>)</li>
<li>Handle v6 and v7 requests in the IPR, but reply with v6 (<a href="https://github.com/nymtech/nym/pull/4620">#4620</a>)</li>
<li>fix typo (<a href="https://github.com/nymtech/nym/pull/4619">#4619</a>)</li>
<li>Update crypto and rand crates (<a href="https://github.com/nymtech/nym/pull/4607">#4607</a>)</li>
<li>Purge name service and service provider directory contracts (<a href="https://github.com/nymtech/nym/pull/4603">#4603</a>)</li>
</ul>
</div>
</details>
<h3 id="features-4"><a class="header" href="#features-4">Features</a></h3>
<ul>
<li><a href="https://github.com/nymtech/nym/pull/4671">Make embedded NR/IPR ignore performance of the Gateway</a>: fixes bug in relation to scoring issue on nym-nodes operating as exit gateways failing to come online.</li>
<li><a href="https://github.com/nymtech/nym/pull/4647">Introduce a flag to accept Operators Terms and Conditions and exposed it via self-described API</a></li>
</ul>
<details id="admonition-testing-steps-performed-21" class="admonition admonish-example" role="note" aria-labelledby="admonition-testing-steps-performed-21-title">
<summary class="admonition-title">
<div id="admonition-testing-steps-performed-21-title">
<p>Testing steps performed</p>
</div>
<a class="admonition-anchor-link" href="#admonition-testing-steps-performed-21"></a>
</summary>
<div>
<ul>
<li>Verify that the <code>execute</code> function correctly checks if the <code>accept_operator_terms</code> flag is set.</li>
<li>Test that a warning is displayed when the <code>accept_operator_terms</code> flag is not set.</li>
<li>Confirm that the <code>NymNode</code> instance is initialized with <code>with_accepted_toc(accepted_toc)</code> when the flag is set.</li>
<li>Apply the <code>--accept-toc</code> flag in the service and confirmed the change by running:</li>
</ul>
<pre><code>curl -s -X 'GET' 'http://18.171.251.41:8080/api/v1/auxiliary-details?output=json' -H 'accept: application/json' | jq .accepted_toc
</code></pre>
<ul>
<li>Verify that the output is <code>true</code>.</li>
</ul>
</div>
</details>
<ul>
<li><a href="https://github.com/nymtech/nym/pull/4654">Rename ‘accept-toc’ flag and fields into explicit ‘accept-operator-terms-and-conditions’</a>: makes the <code>accept-toc</code> flag more explicit.</li>
<li><a href="https://github.com/nymtech/nym/pull/4630">Validate nym-node public ips on startup</a>: makes sure <code>nym-node</code> is not run with an empty <code>public_ips</code> and that they do not correspond to common misconfigurations like <code>127.0.0.1</code> or <code>0.0.0.0</code> unless run with <code>--local</code> flag.</li>
</ul>
<details id="admonition-testing-steps-performed-22" class="admonition admonish-example" role="note" aria-labelledby="admonition-testing-steps-performed-22-title">
<summary class="admonition-title">
<div id="admonition-testing-steps-performed-22-title">
<p>Testing steps performed</p>
</div>
<a class="admonition-anchor-link" href="#admonition-testing-steps-performed-22"></a>
</summary>
<div>
<ul>
<li>
<p>Use the latest release/chomp binary with nym-node and input a dodgy ip
<img width="361" alt="image" src="https://github.com/nymtech/nym/assets/60836166/6f2210f9-90ec-48fb-932f-f325c701de09"></p>
</li>
<li>
<p>Validation:
<img width="1104" alt="image" src="https://github.com/nymtech/nym/assets/60836166/3bac221f-82f2-44cd-b8c0-6c599b0eb325">
When restarting the node it complains within the service launch file</p>
</li>
</ul>
</div>
</details>
<ul>
<li><a href="https://github.com/nymtech/nym/pull/4635">New node endpoints</a>: introduces new endpoints on nym-api (and creates scaffolding for additional ones) for providing <strong>unfiltered</strong> network topology alongside performance score of all nodes.
<ul>
<li><code>NymApiTopologyProvider</code> got modified to use those endpoints alongside (configurable) filtering of nodes with score &lt; 50% (like our current blacklist)</li>
<li>Old clients should work as before as no existing endpoint got removed</li>
</ul>
</li>
</ul>
<details id="admonition-testing-steps-performed-23" class="admonition admonish-example" role="note" aria-labelledby="admonition-testing-steps-performed-23-title">
<summary class="admonition-title">
<div id="admonition-testing-steps-performed-23-title">
<p>Testing steps performed</p>
</div>
<a class="admonition-anchor-link" href="#admonition-testing-steps-performed-23"></a>
</summary>
<div>
<ul>
<li>Validate that the <code>skimmed</code> endpoints are working, keeping in mind that they are unstable. The <em>full-fat</em> and <em>semi-skimmed</em> have not yet been implemented.</li>
</ul>
</div>
</details>
<ul>
<li><a href="https://github.com/nymtech/nym/pull/4640">Remove stale peers</a></li>
<li><a href="https://github.com/nymtech/nym/pull/4642">Removed ephemera code</a></li>
</ul>
<details id="admonition-testing-steps-performed-24" class="admonition admonish-example" role="note" aria-labelledby="admonition-testing-steps-performed-24-title">
<summary class="admonition-title">
<div id="admonition-testing-steps-performed-24-title">
<p>Testing steps performed</p>
</div>
<a class="admonition-anchor-link" href="#admonition-testing-steps-performed-24"></a>
</summary>
<div>
<ul>
<li>Check references to everything named SP and Ephemera and removed any additional references</li>
</ul>
</div>
</details>
<ul>
<li><a href="https://github.com/nymtech/nym/pull/4650">Remove additional code as part of Ephemera Purge and SP and contracts</a>: in line with <a href="https://github.com/nymtech/nym/pull/4642">#4642</a> and <a href="https://github.com/nymtech/nym/pull/4603">#4603</a></li>
</ul>
<details id="admonition-testing-steps-performed-25" class="admonition admonish-example" role="note" aria-labelledby="admonition-testing-steps-performed-25-title">
<summary class="admonition-title">
<div id="admonition-testing-steps-performed-25-title">
<p>Testing steps performed</p>
</div>
<a class="admonition-anchor-link" href="#admonition-testing-steps-performed-25"></a>
</summary>
<div>
<ul>
<li>Check references to everything named SP and Ephemera and removed any additional references</li>
</ul>
</div>
</details>
<ul>
<li><a href="https://github.com/nymtech/nym/pull/4644">Add ci check for PR having an assigned milestone</a>: add a CI check for checking that a PR is assigned to a milestone. Can bypassed the check by adding a <code>no-milestone</code> label to a PR</li>
</ul>
<details id="admonition-testing-steps-performed-26" class="admonition admonish-example" role="note" aria-labelledby="admonition-testing-steps-performed-26-title">
<summary class="admonition-title">
<div id="admonition-testing-steps-performed-26-title">
<p>Testing steps performed</p>
</div>
<a class="admonition-anchor-link" href="#admonition-testing-steps-performed-26"></a>
</summary>
<div>
<ul>
<li>CI complains if no milestone is associated with the an issue.</li>
</ul>
</div>
</details>
<ul>
<li><a href="https://github.com/nymtech/nym/pull/4625">Bump defguard wireguard</a></li>
<li><a href="https://github.com/nymtech/nym/pull/4636">Add generic wireguard private network routing</a>: as defguard wireguard only allows for peer routing modifications, we will configure the entire wireguard private network to be routed to the wg device. Configuring per peer is also not desirable, as the interface doesn’t allow removing routes, so unused ip routing won’t be cleaned until gateway restart (and it would also pollute to routing table with a lot of rules when many peers are added).</li>
</ul>
<details id="admonition-testing-steps-performed-27" class="admonition admonish-example" role="note" aria-labelledby="admonition-testing-steps-performed-27-title">
<summary class="admonition-title">
<div id="admonition-testing-steps-performed-27-title">
<p>Testing steps performed</p>
</div>
<a class="admonition-anchor-link" href="#admonition-testing-steps-performed-27"></a>
</summary>
<div>
<ul>
<li>This is a part of a bigger ticket, but initial testing has proven to shown that launching nym-nodes (entry and exit gateways) in WG enable mode to be working</li>
</ul>
<p><em>QA will use this template for the other related WG tickets in this release milestone.</em></p>
</div>
</details>
- [Standarise `ContractBuildInformation` and add it to all contracts](https://github.com/nymtech/nym/pull/4631): Similarly to `cw2`, we're now saving `ContractBuildInformation` under a constant storage key, i.e. `b"contract_build_info"` that standarises the retrieval by nym-api.
    - Also each of our contracts now saves and updates that information upon init and migration.
<details id="admonition-testing-steps-performed-28" class="admonition admonish-example" role="note" aria-labelledby="admonition-testing-steps-performed-28-title">
<summary class="admonition-title">
<div id="admonition-testing-steps-performed-28-title">
<p>Testing steps performed</p>
</div>
<a class="admonition-anchor-link" href="#admonition-testing-steps-performed-28"></a>
</summary>
<div>
<ul>
<li>Use the latest release/chomp contracts and deploy these to QA</li>
<li>Use the <code>nym-api</code> to query for the results of these new contracts</li>
</ul>
<pre><code class="language-sh"> curl -X 'GET' \
   'https://qa-nym-api.qa.nymte.ch/api/v1/network/nym-contracts-detailed' \
   -H 'accept: application/json'
</code></pre>
<ul>
<li>It returns a detailed view of the contracts and which branch they were built from, alongside rust versions and so forth.
<img width="1257" alt="image" src="https://github.com/nymtech/nym/assets/60836166/b5711431-c2f6-44ee-bf02-b17e6c48c5ee"></li>
</ul>
</div>
</details>
<ul>
<li><a href="https://github.com/nymtech/nym/pull/4622">Update kernel peers on peer modification</a>:</li>
</ul>
<details id="admonition-testing-steps-performed-29" class="admonition admonish-example" role="note" aria-labelledby="admonition-testing-steps-performed-29-title">
<summary class="admonition-title">
<div id="admonition-testing-steps-performed-29-title">
<p>Testing steps performed</p>
</div>
<a class="admonition-anchor-link" href="#admonition-testing-steps-performed-29"></a>
</summary>
<div>
<ul>
<li>This is a part of a bigger ticket, but initial testing has proven to shown that launching nym-nodes (entry and exit gateways) in WG enable mode to be working.
<em>QA will use this template for the other related WG tickets in this release milestone.</em></li>
</ul>
</div>
</details>
<ul>
<li><a href="https://github.com/nymtech/nym/pull/4620">Handle v6 and v7 requests in the IPR, but reply with v6</a>: teach the IPR to read both v6 and v7 requests, but always reply with v6. This is to prepare for bumping to v7 and signed connect/disconnect messages. Follow up PRs will add
<ul>
<li>Verify signature</li>
<li>Send v7 in client with signatures included</li>
</ul>
</li>
<li><a href="https://github.com/nymtech/nym/pull/4603">Purge name service and service provider directory contracts</a>: this is a compiler assisted purge of the <code>nym-name-service</code> and <code>nym-service-provider-directory</code> contracts that were never deployed on mainnet, and will anyhow be superseded by the new mixnode directory that is being worked on.</li>
</ul>
<details id="admonition-testing-steps-performed-30" class="admonition admonish-example" role="note" aria-labelledby="admonition-testing-steps-performed-30-title">
<summary class="admonition-title">
<div id="admonition-testing-steps-performed-30-title">
<p>Testing steps performed</p>
</div>
<a class="admonition-anchor-link" href="#admonition-testing-steps-performed-30"></a>
</summary>
<div>
<p>It works insofar that it compiles, we need to deploy and test this on non-mainnet before merging in</p>
<ul>
<li>Purge <code>nym-name-service</code> contract</li>
<li>Purge <code>nym-name-service-common</code></li>
<li>Purge <code>nym-service-provider-directory</code> contract</li>
<li>Purge <code>nym-service-provider-directory-common</code></li>
<li>Remove everywhere name-service contract is used</li>
<li>Remove everywhere sp contract is used</li>
</ul>
<p>Performed:</p>
<ul>
<li>Check references to everything named SP and Ephemera and removed any additional references</li>
</ul>
</div>
</details>
<h3 id="crypto-1"><a class="header" href="#crypto-1">Crypto</a></h3>
<ul>
<li><a href="https://github.com/nymtech/nym/pull/4607">Update crypto and rand crates</a>: Update sphinx crate to <code>0.1.1</code> along with 25519 crates and <code>rand</code> crates</li>
</ul>
<details id="admonition-comments" class="admonition admonish-example" role="note" aria-labelledby="admonition-comments-title">
<summary class="admonition-title">
<div id="admonition-comments-title">
<p>Comments</p>
</div>
<a class="admonition-anchor-link" href="#admonition-comments"></a>
</summary>
<div>
<p>This PR contains a test failure due to the update <a href="https://github.com/nymtech/nym/blob/b4a0487a41375167b2f481c00917b957b9f89789/common/crypto/src/asymmetric/encryption/mod.rs#L353-L358">here</a></p>
<ul>
<li>This is due a change in <code>x25519-dalek</code> from <code>1.1.1</code> to <code>2</code>.</li>
<li>Crypto operations should be identical, but the byte representation has changed (sphinx clamps at creation, x25519 clamps at use). This cannot be changed in the sphinx crate without breaking changes.</li>
<li>There is a good chance that this failure doesn’t impact anything else, but it has to be tested to see.</li>
<li>A mix of old and new clients with a mix of old and new mixnodes should do</li>
</ul>
</div>
</details>
<h3 id="bugfix-4"><a class="header" href="#bugfix-4">Bugfix</a></h3>
<ul>
<li><a href="https://github.com/nymtech/nym/pull/4648">Make sure nym-api can handle non-cw2 (or without detailed build info) compliant contracts</a>: fixes the issue (even if some contracts aren’t uploaded on chain it doesn’t prohibit the api from working - caveat, the essential vesting and mixnet contract are required)</li>
</ul>
<details id="admonition-testing-steps-performed-31" class="admonition admonish-example" role="note" aria-labelledby="admonition-testing-steps-performed-31-title">
<summary class="admonition-title">
<div id="admonition-testing-steps-performed-31-title">
<p>Testing steps performed</p>
</div>
<a class="admonition-anchor-link" href="#admonition-testing-steps-performed-31"></a>
</summary>
<div>
<ul>
<li>Use the latest release/chomp contracts and deploy these to QA</li>
<li>If the contract was not found, the API would complain of invalid contracts, thus not starting the rest of the operations of the API (network monitor / rewarding etc)</li>
</ul>
<p><code>Jun 11 16:27:34 qa-v2-nym-api bash[1352642]:  2024-06-11T16:27:34.551Z ERROR nym_api::nym_contract_cache::cache::refresher &gt; Failed to refresh validator cache - Abci query failed with code 6 - address n14y2x8a60knc5jjfeztt84kw8x8l5pwdgnqg256v0p9v4p7t2q6eswxyusw: no such contract: unknown request</code></p>
</div>
</details>
<ul>
<li><a href="https://github.com/nymtech/nym/pull/4646">Make sure to return an error on <code>nym-node</code> invalid public ip</a>: bugfix for <a href="https://github.com/nymtech/nym/pull/4630">#4630</a> that interestingly hasn’t been detected by clippy.</li>
</ul>
<details id="admonition-testing-steps-performed-32" class="admonition admonish-example" role="note" aria-labelledby="admonition-testing-steps-performed-32-title">
<summary class="admonition-title">
<div id="admonition-testing-steps-performed-32-title">
<p>Testing steps performed</p>
</div>
<a class="admonition-anchor-link" href="#admonition-testing-steps-performed-32"></a>
</summary>
<div>
<ul>
<li>
<p>Use the latest release/chomp binary with nym-node and input a dodgy ip
<img width="361" alt="image" src="https://github.com/nymtech/nym/assets/60836166/6f2210f9-90ec-48fb-932f-f325c701de09"></p>
</li>
<li>
<p>Validation:
<img width="1104" alt="image" src="https://github.com/nymtech/nym/assets/60836166/3bac221f-82f2-44cd-b8c0-6c599b0eb325"></p>
</li>
</ul>
</div>
</details>
<ul>
<li><a href="https://github.com/nymtech/nym/pull/4626">Extend the return error when connecting to gateway fails</a></li>
</ul>
<details id="admonition-testing-steps-performed-33" class="admonition admonish-example" role="note" aria-labelledby="admonition-testing-steps-performed-33-title">
<summary class="admonition-title">
<div id="admonition-testing-steps-performed-33-title">
<p>Testing steps performed</p>
</div>
<a class="admonition-anchor-link" href="#admonition-testing-steps-performed-33"></a>
</summary>
<div>
<ul>
<li>Verify that the <code>establish_connection</code> function correctly attempts to establish a connection to the gateway.</li>
<li>Test error handling for <code>NetworkConnectionFailed</code> by simulating a failed connection.</li>
<li>Ensure that the <code>NetworkConnectionFailed</code> error includes the <code>address</code> and <code>source</code> details as expected.</li>
<li>Checked that <code>SocketState::Available</code> is set correctly when a connection is successfully established.</li>
</ul>
</div>
</details>
<ul>
<li><a href="https://github.com/nymtech/nym/pull/4624">Fix Cargo warnings</a>: On every cargo command we have the set warnings:</li>
</ul>
<details id="admonition-cargo-warnings" class="admonition admonish-example" role="note" aria-labelledby="admonition-cargo-warnings-title">
<summary class="admonition-title">
<div id="admonition-cargo-warnings-title">
<p>Cargo warnings</p>
</div>
<a class="admonition-anchor-link" href="#admonition-cargo-warnings"></a>
</summary>
<div>
<p>warning: /home/alice/src/nym/nym/common/dkg/Cargo.toml: <code>default-features</code> is ignored for bls12_381, since <code>default-features</code> was not specified for <code>workspace.dependencies.bls12_381</code>, this could become a hard error in the future warning: /home/alice/src/nym/nym/common/dkg/Cargo.toml: <code>default-features</code> is ignored for ff, since <code>default-features</code> was not specified for <code>workspace.dependencies.ff</code>, this could become a hard error in the future warning: /home/alice/src/nym/nym/common/dkg/Cargo.toml: <code>default-features</code> is ignored for group, since <code>default-features</code> was not specified for <code>workspace.dependencies.group</code>, this could become a hard error in the future warning: /home/alice/src/nym/nym/common/client-libs/validator-client/Cargo.toml: <code>default-features</code> is ignored for bip32, since <code>default-features</code> was not specified for <code>workspace.dependencies.bip32</code>, this could become a hard error in the future warning: /home/alice/src/nym/nym/common/client-libs/validator-client/Cargo.toml: <code>default-features</code> is ignored for prost, since <code>default-features</code> was not specified for <code>workspace.dependencies.prost</code>, this could become a hard error in the future warning: /home/alice/src/nym/nym/common/credentials-interface/Cargo.toml: <code>default-features</code> is ignored for bls12_381, since <code>default-features</code> was not specified for <code>workspace.dependencies.bls12_381</code>, this could become a hard error in the future warning: /home/alice/src/nym/nym/common/credentials/Cargo.toml: <code>default-features</code> is ignored for bls12_381, since <code>default-features</code> was not specified for <code>workspace.dependencies.bls12_381</code>, this could become a hard error in the future warning: /home/alice/src/nym/nym/common/nymcoconut/Cargo.toml: <code>default-features</code> is ignored for bls12_381, since <code>default-features</code> was not specified for <code>workspace.dependencies.bls12_381</code>, this could become a hard error in the future warning: /home/alice/src/nym/nym/common/nymcoconut/Cargo.toml: <code>default-features</code> is ignored for ff, since <code>default-features</code> was not specified for <code>workspace.dependencies.ff</code>, this could become a hard error in the future warning: /home/alice/src/nym/nym/common/nymcoconut/Cargo.toml: <code>default-features</code> is ignored for group, since <code>default-features</code> was not specified for <code>workspace.dependencies.group</code>, this could become a hard error in the future.</p>
</div>
</details>
    - This PR adds `default-features = false` to the workspace dependencies to fix these. An alternative way would be to remove `default-features = false` in the crates, but we assume these were put there for a good reason. Also we might have other crates outside of the main workspace that depends on these crates having default features disabled.
    - We also have the warning `warning: profile package spec nym-wasm-sdk in profile release did not match any packages`  which we fix by commenting out the profile settings, since the crate is currently commented out in the workspace crate list.
<details id="admonition-testing-steps-performed-34" class="admonition admonish-example" role="note" aria-labelledby="admonition-testing-steps-performed-34-title">
<summary class="admonition-title">
<div id="admonition-testing-steps-performed-34-title">
<p>Testing steps performed</p>
</div>
<a class="admonition-anchor-link" href="#admonition-testing-steps-performed-34"></a>
</summary>
<div>
<ul>
<li>All binaries have been built and deployed from this branch and no issues have surfaced.</li>
</ul>
</div>
</details>
<h3 id="operators-guide-updates-3"><a class="header" href="#operators-guide-updates-3">Operators Guide updates</a></h3>
<ul>
<li><a href="release-cycle.html">New Release Cycle</a> introduced: a transparent release flow, including:
<ul>
<li>New environments</li>
<li>Stable testnet</li>
<li><a href="https://nymtech.net/operators/sandbox.html#sandbox-token-faucet">Testnet token faucet</a></li>
<li>Flow <a href="release-cycle.html#release-flow">chart</a></li>
</ul>
</li>
<li><a href="sandbox.html">Sandbox testnet</a> guide: teaching Nym node operators how to run their nodes in Nym Sandbox testnet environment.</li>
<li><a href="nodes/setup.html#terms--conditions">Terms &amp; Conditions flag</a></li>
<li><a href="testing/node-api-check.html">Node API Check CLI</a></li>
<li><a href="troubleshooting/vps-isp.html#pruning-logs">Pruning VPS <code>syslog</code> scripts</a></li>
<li><a href="troubleshooting/nodes.html#my-gateway-is-blacklisted">Black-xit: Exiting the blacklist</a></li>
</ul>
<hr />
<h2 id="v20245-ragusa"><a class="header" href="#v20245-ragusa"><code>v2024.5-ragusa</code></a></h2>
<ul>
<li><a href="https://github.com/nymtech/nym/releases/tag/nym-binaries-v2024.5-ragusa">Release binaries</a></li>
<li><a href="https://github.com/nymtech/nym/blob/nym-binaries-v2024.5-ragusa/CHANGELOG.md">Release CHANGELOG.md</a></li>
<li><a href="nodes/nym-node.html"><code>nym-node</code></a> version <code>1.1.2</code></li>
</ul>
<details id="admonition-changelogmd-5" class="admonition admonish-example" role="note" aria-labelledby="admonition-changelogmd-5-title">
<summary class="admonition-title">
<div id="admonition-changelogmd-5-title">
<p>CHANGELOG.md</p>
</div>
<a class="admonition-anchor-link" href="#admonition-changelogmd-5"></a>
</summary>
<div>
<ul>
<li>Feature/nym node api location (<a href="https://github.com/nymtech/nym/pull/4605">#4605</a>)</li>
<li>Add optional signature to IPR request/response (<a href="https://github.com/nymtech/nym/pull/4604">#4604</a>)</li>
<li>Feature/unstable tested nodes endpoint (<a href="https://github.com/nymtech/nym/pull/4601">#4601</a>)</li>
<li>nym-api: make report/avg_uptime endpoints ignore blacklist (<a href="https://github.com/nymtech/nym/pull/4599">#4599</a>)</li>
<li>removed blocking for coconut in the final epoch state (<a href="https://github.com/nymtech/nym/pull/4598">#4598</a>)</li>
<li>allow using explicit admin address for issuing freepasses (<a href="https://github.com/nymtech/nym/pull/4595">#4595</a>)</li>
<li>Use rfc3339 for last_polled in described nym-api endpoint (<a href="https://github.com/nymtech/nym/pull/4591">#4591</a>)</li>
<li>Explicitly handle constraint unique violation when importing credential (<a href="https://github.com/nymtech/nym/pull/4588">#4588</a>)</li>
<li>[bugfix] noop flag for nym-api for nymvisor compatibility (<a href="https://github.com/nymtech/nym/pull/4586">#4586</a>)</li>
<li>Chore/additional helpers (<a href="https://github.com/nymtech/nym/pull/4585">#4585</a>)</li>
<li>Feature/wasm coconut (<a href="https://github.com/nymtech/nym/pull/4584">#4584</a>)</li>
<li>upgraded axum and related deps to the most recent version (<a href="https://github.com/nymtech/nym/pull/4573">#4573</a>)</li>
<li>Feature/nyxd scraper pruning (<a href="https://github.com/nymtech/nym/pull/4564">#4564</a>)</li>
<li>Run cargo autoinherit on the main workspace (<a href="https://github.com/nymtech/nym/pull/4553">#4553</a>)</li>
<li>Add rustls-tls to reqwest in validator-client (<a href="https://github.com/nymtech/nym/pull/4552">#4552</a>)</li>
<li>Feature/rewarder voucher issuance (<a href="https://github.com/nymtech/nym/pull/4548">#4548</a>)</li>
</ul>
</div>
</details>
<h3 id="features-5"><a class="header" href="#features-5">Features</a></h3>
<ul>
<li>New <code>nym-node</code> API endpoint <code>/api/v1/auxiliary-details</code>: to expose any additional information. Currently it’s just the location. <code>nym-api</code> will then query all nodes for that information and put it in the <code>self-described</code> endpoint.</li>
<li>New <code>nym-node</code> location available - use one of the three options to add this to your node config:
<ol>
<li>Update the <code>location</code> field under <code>[host]</code> section of <code>config.toml</code></li>
<li>For new nodes: Initialise the node with <code>--location</code> flag, where they have to provide the country info. Either full country name (e.g. ‘Jamaica’), two-letter alpha2 (e.g. ‘JM’), three-letter alpha3 (e.g. ‘JAM’) or three-digit numeric-3 (e.g. ‘388’) can be provided.</li>
<li>For existing nodes: It’s also possible to use exactly the same <code>--location</code> argument as above, but make sure to also provide <code>--write-changes</code> (or <code>-w</code>) flag to persist those changes!</li>
</ol>
</li>
<li><a href="https://github.com/nymtech/nym/pull/4601">Feature/unstable tested nodes endpoint</a>: Adds new data structures (<code>TestNode</code>, <code>TestRoute</code>, <code>PartialTestResult</code>) to handle test results for Mixnodes and Gateways. With the inclusion of pagination to handle large API responses efficiently. Lastly, introducing a new route with the tag <code>unstable</code> thus meaning not to be consumed without a user risk, prefixes in endpoints with unstable, are what it says on the tin.</li>
</ul>
<details id="admonition-testing-steps-performed-35" class="admonition admonish-example" role="note" aria-labelledby="admonition-testing-steps-performed-35-title">
<summary class="admonition-title">
<div id="admonition-testing-steps-performed-35-title">
<p>Testing steps performed</p>
</div>
<a class="admonition-anchor-link" href="#admonition-testing-steps-performed-35"></a>
</summary>
<div>
<ul>
<li>Deploy new api changes to sandbox environment</li>
<li>Ensure current operations are transactional and standed operations are working</li>
<li>Run a script to ensure that the new endpoints are working as expected with pagination
<img width="719" alt="image" src="https://github.com/nymtech/nym/assets/60836166/91285971-e82a-4e5a-8a58-880505ae1be9"></li>
</ul>
</div>
</details>
<ul>
<li><a href="https://github.com/nymtech/nym/pull/4599"><code>nym-api</code>: make report/avg_uptime endpoints ignore blacklist</a>: When querying for node specific data, it’s no longer going to go through the entire list of all cached (and filtered nodes) to find it; instead it will attempt to retrieve a single unfiltered entry.</li>
</ul>
<details id="admonition-testing-steps-performed-36" class="admonition admonish-example" role="note" aria-labelledby="admonition-testing-steps-performed-36-title">
<summary class="admonition-title">
<div id="admonition-testing-steps-performed-36-title">
<p>Testing steps performed</p>
</div>
<a class="admonition-anchor-link" href="#admonition-testing-steps-performed-36"></a>
</summary>
<div>
<ul>
<li>Build the project and deployed it in a test environment.</li>
<li>Manually test API endpoints for mixnode and gateway data.</li>
<li>Verify that the endpoints return the expected data and handle blacklists correctly.</li>
<li>API performance improved due to the efficient <code>HashMap</code> lookups</li>
<li>Data in mainnet will differ from test nets due to the increased amount of gateways and mixnodes in that environment</li>
<li>Test standard uptime routes:</li>
</ul>
<pre><code class="language-sh">curl -X 'GET' 'https://validator.nymtech.net/api/v1/status/gateway/Fo4f4SQLdoyoGkFae5TpVhRVoXCF8UiypLVGtGjujVPf/avg_uptime' -H 'accept: application/json'
</code></pre>
</div>
</details>
<ul>
<li><a href="https://github.com/nymtech/nym/pull/4591">Use rfc3339 for last_polled in described nym-api endpoint</a>: Fix issue where the validator-client can’t parse the nym-api response for the described endpoint, in particular the <code>latest_polled</code> field that was recently added, by making the field use <code>rfc3339</code>
<ul>
<li><strong>Note:</strong> This will require upgrading <code>nym-api</code> and everything that depends on the described endpoint.</li>
</ul>
</li>
</ul>
<details id="admonition-testing-steps-performed-37" class="admonition admonish-example" role="note" aria-labelledby="admonition-testing-steps-performed-37-title">
<summary class="admonition-title">
<div id="admonition-testing-steps-performed-37-title">
<p>Testing steps performed</p>
</div>
<a class="admonition-anchor-link" href="#admonition-testing-steps-performed-37"></a>
</summary>
<div>
<ul>
<li>Update a <code>nym-api</code> to the binary built from this branch, then restart the api</li>
<li>Check the <code>journalctl</code> for error messages</li>
<li>Connected via client and could not see the error messages, this is backwards compatible</li>
<li>Local testing using sdk examples:</li>
</ul>
<pre><code class="language-sh">cd &lt;PATH_TO&gt;/nym/sdk/rust/nym-sdk
cargo run --example simple

# outcome
thread 'main' panicked at sdk/rust/nym-sdk/examples/simple.rs:9:64:
called Result::unwrap() on an Err value: ClientCoreError(ValidatorClientError(NymAPIError { source: ReqwestClientError { source: reqwest::Error { kind: Request, url: Url { scheme: "https", cannot_be_a_base: false, username: "", password: None,
</code></pre>
</div>
</details>
<ul>
<li><a href="https://github.com/nymtech/nym/pull/4573">Upgrade <code>axum</code> and related dependencies to the most recent version</a></li>
<li><a href="https://github.com/nymtech/nym/pull/4553">Run cargo autoinherit on the main workspace</a>: Move several dependencies to the workspace level using cargo autoinherit, to make it easier to keep our dependencies up to date.
<ul>
<li>Run cargo autoinherit in the root</li>
<li>Merge in the new workspace deps in the main list</li>
<li>We made sure to not mix in other changes as well - all features flags for all crates should be the same as before</li>
</ul>
</li>
</ul>
<details id="admonition-testing-steps-performed-38" class="admonition admonish-example" role="note" aria-labelledby="admonition-testing-steps-performed-38-title">
<summary class="admonition-title">
<div id="admonition-testing-steps-performed-38-title">
<p>Testing steps performed</p>
</div>
<a class="admonition-anchor-link" href="#admonition-testing-steps-performed-38"></a>
</summary>
<div>
<ul>
<li>Run <code>cargo autoinherit</code> in the root directory to move dependencies to the workspace level</li>
<li>Merge the new workspace dependencies into the main list</li>
<li>Ensure no other changes were mixed in during the process</li>
<li>Verify that all feature flags for all crates remained the same as before</li>
<li>Build all the binaries from this branch to confirm successful compilation</li>
<li>Deploy the built binaries across different environments to ensure there were no issues</li>
</ul>
</div>
</details>
<ul>
<li><a href="https://github.com/nymtech/nym/pull/4552">Add rustls-tls to reqwest in validator-client</a>: An attempt to make possible to end up in a situation where use use the validator-client but without functioning TLS support. For the monorepo this is masked by cargo feature unification, but becomes a problem for outside consumers, as as been noticed in many of the vpn client implementations.
<ul>
<li>In <code>validator-client</code>: <code>reqwest</code>, enable <code>rustls-tls</code> for <code>non-wasm32</code></li>
<li>In <code>client-core</code>: Use default features enabled for <code>non-wasm32</code> and switch to <code>webpki</code> roots, since that’s what we’re using with <code>reqwest</code> anyway</li>
<li>In <code>gateway-client</code>: Switch to <code>webpki</code> roots, since that’s what we’re using with <code>reqwest</code> anyway</li>
</ul>
</li>
</ul>
<h4 id="crypto-2"><a class="header" href="#crypto-2">Crypto</a></h4>
<ul>
<li><a href="https://github.com/nymtech/nym/pull/4598">Remove blocking for coconut in the final epoch state</a></li>
</ul>
<details id="admonition-testing-steps-performed-39" class="admonition admonish-example" role="note" aria-labelledby="admonition-testing-steps-performed-39-title">
<summary class="admonition-title">
<div id="admonition-testing-steps-performed-39-title">
<p>Testing steps performed</p>
</div>
<a class="admonition-anchor-link" href="#admonition-testing-steps-performed-39"></a>
</summary>
<div>
<ul>
<li>Build the project to ensure no compilation errors</li>
<li>Run tests to verify the functionality of the <code>issue_credential</code> function</li>
<li>Execute integration tests to check the behaviour during an epoch transition.</li>
</ul>
</div>
</details>
<ul>
<li><a href="https://github.com/nymtech/nym/pull/4595">Allow using explicit admin address for issuing freepasses</a></li>
<li><a href="https://github.com/nymtech/nym/pull/4588">Explicitly handle constraint unique violation when importing credential</a>: Add a strong type for when a duplicate credential is imported so the vpn lib can handle this.</li>
<li><a href="https://github.com/nymtech/nym/pull/4584">Feature/wasm coconut</a>: This pull request requires <a href="https://github.com/nymtech/nym/pull/4585">#4585</a> to be merged first</li>
<li><a href="https://github.com/nymtech/nym/pull/4564">Feature/nyxd scraper pruning</a>: This PR introduces storage pruning to <code>nyxd</code> scraper which is then used by the validators rewarder.</li>
</ul>
<details id="admonition-testing-steps-performed-40" class="admonition admonish-example" role="note" aria-labelledby="admonition-testing-steps-performed-40-title">
<summary class="admonition-title">
<div id="admonition-testing-steps-performed-40-title">
<p>Testing steps performed</p>
</div>
<a class="admonition-anchor-link" href="#admonition-testing-steps-performed-40"></a>
</summary>
<div>
<ul>
<li>Add a <code>main.rs</code> file in the <code>nyxd</code> scraper dir, underneath <code>lib.rs</code>, amend <code>config.pruning_options.validate()?;</code> to be <code>let _ = config.pruning_options.validate();</code> in the mod.rs file</li>
<li>Test the different variations of <code>pruning_options</code>:
<ul>
<li>Check the <em>default</em> option: <code>pruning_options: PruningOptions::default()</code></li>
<li>Check the <em>nothing</em> option: <code>pruning_options: PruningOptions::nothing()</code></li>
<li>Check the <em>custom</em> option, example: <code>pruning_options: PruningOptions { keep_recent: (500), interval: (10), strategy: (PruningStrategy::Custom) }</code></li>
<li>Check the pruning <em>in real life</em> for the validator rewarder</li>
</ul>
</li>
<li>Validate that the database table <code>blocks</code> was being updated accordingly</li>
</ul>
</div>
</details>
<ul>
<li><a href="https://github.com/nymtech/nym/pull/4548">Feature/rewarder voucher issuance</a>
<ul>
<li>Introduces signature checks on issued credential data</li>
<li>Stores evidence of any failures/malicious behaviour in the internal db</li>
</ul>
</li>
</ul>
<h3 id="bugfix-5"><a class="header" href="#bugfix-5">Bugfix</a></h3>
<ul>
<li><a href="https://github.com/nymtech/nym/pull/4586"><code>noop</code> flag for <code>nym-api</code> for <code>nymvisor</code> compatibility</a>
<ul>
<li>The application starts correctly and logs the starting message</li>
<li>The <code>--no_banner</code> flag works as intended, providing compatibility with <code>nymvisor</code></li>
</ul>
</li>
</ul>
<details id="admonition-testing-steps-performed-41" class="admonition admonish-example" role="note" aria-labelledby="admonition-testing-steps-performed-41-title">
<summary class="admonition-title">
<div id="admonition-testing-steps-performed-41-title">
<p>Testing steps performed</p>
</div>
<a class="admonition-anchor-link" href="#admonition-testing-steps-performed-41"></a>
</summary>
<div>
<ul>
<li>Build the project to ensure no compilation errors</li>
<li>Run the binary with different command-line arguments to verify the CLI functionality</li>
<li>Test with and without the <code>--no_banner</code> flag to ensure compatibility and expected behavior</li>
<li>Verify logging setup and configuration file parsing</li>
</ul>
</div>
</details>
<h3 id="operators-guide-updates-4"><a class="header" href="#operators-guide-updates-4">Operators Guide updates</a></h3>
<ul>
<li><a href="testing/gateway-probe.html"><code>nym-gateway-probe</code></a>: A CLI tool to check in-real-time networking status of any Gateway locally.</li>
<li><a href="legal/isp-list.html">Where to host your <code>nym-node</code>?</a>: A list of Internet Service Providers (ISPs) by Nym Operators community. We invite all operators to add their experiences with different ISPs to strengthen the community knowledge and Nym mixnet performance.</li>
<li>Make sure you run <code>nym-node</code> with <code>--wireguard-enabled false</code> and add a location description to your <code>config.toml</code>, both documented in <a href="nodes/setup.html#mode-exit-gateway"><code>nym-node</code> setup manual</a>.</li>
</ul>
<hr />
<h2 id="v20244-nutella"><a class="header" href="#v20244-nutella"><code>v2024.4-nutella</code></a></h2>
<ul>
<li><a href="https://github.com/nymtech/nym/milestone/59?closed=1">Merged PRs</a></li>
<li><a href="nodes/nym-node.html"><code>nym-node</code></a> version <code>1.1.1</code></li>
<li>This release also contains: <code>nym-gateway</code> and <code>nym-network-requester</code> binaries</li>
<li>core improvements on nym-node configuration</li>
<li>Nym wallet changes:
<ul>
<li>Adding <code>nym-node</code> command to bonding screens</li>
<li>Fixed the delegation issues with fixing RPC</li>
</ul>
</li>
<li><a href="nodes/configuration.html#connectivity-test-and-configuration">Network configuration</a> section updates, in particular for <code>--mode mixnode</code> operators</li>
<li><a href="troubleshooting/vps-isp.html#ipv6-troubleshooting">VPS IPv6 troubleshooting</a> updates</li>
</ul>
<hr />
<h2 id="v20243-eclipse"><a class="header" href="#v20243-eclipse"><code>v2024.3-eclipse</code></a></h2>
<ul>
<li>Release <a href="https://github.com/nymtech/nym/blob/nym-binaries-v2024.3-eclipse/CHANGELOG.md">Changelog.md</a></li>
<li><a href="nodes/nym-node.html"><code>nym-node</code></a> initial release</li>
<li>New tool for monitoring Gateways performance <a href="https://harbourmaster.nymtech.net">harbourmaster.nymtech.net</a></li>
<li>New versioning <code>1.1.0+nymnode</code> mainly for internal migration testing, not essential for operational use. We aim to correct this in a future release to ensure mixnodes feature correctly in the main API</li>
<li>New <a href="nodes/vps-setup.html">VPS specs &amp; configuration</a> page</li>
<li>New <a href="nodes/configuration.html">configuration page</a> with <a href="nodes/configuration.html#connectivity-test-and-configuration">connectivity setup guide</a> - a new requirement for <code>exit-gateway</code></li>
<li>API endpoints redirection: Nym-mixnode and nym-gateway endpoints will eventually be deprecated; due to this, their endpoints will be redirected to new routes once the <code>nym-node</code> has been migrated and is running</li>
</ul>
<p><strong>API endpoints redirection</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Previous endpoint</th><th>New endpoint</th></tr></thead><tbody>
<tr><td><code>http://&lt;IP&gt;:8000/stats</code></td><td><code>http://&lt;IP&gt;:8000/api/v1/metrics/mixing</code></td></tr>
<tr><td><code>http://&lt;IP&gt;:8000/hardware</code></td><td><code>http://&lt;IP&gt;:8000/api/v1/system-info</code></td></tr>
<tr><td><code>http://&lt;IP&gt;:8000/description</code></td><td><code>http://&lt;IP&gt;:8000/api/v1/description</code></td></tr>
</tbody></table>
</div><footer id="last-change">Last change: 2024-09-13, commit: <a href="https://github.com/nymtech/nym/commit/05d665217">05d665217</a></footer>
                            </div>
                        </main>
                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="introduction.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next prefetch" href="release-cycle.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="introduction.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next prefetch" href="release-cycle.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>

        <!-- Livereload script (if served using the cli tool) -->
        <script>
            const wsProtocol = location.protocol === 'https:' ? 'wss:' : 'ws:';
            const wsAddress = wsProtocol + "//" + location.host + "/" + "__livereload";
            const socket = new WebSocket(wsAddress);
            socket.onmessage = function (event) {
                if (event.data === "reload") {
                    socket.close();
                    location.reload();
                }
            };

            window.onbeforeunload = function() {
                socket.close();
            }
        </script>


        <script>
            window.playground_copyable = true;
        </script>


        <script src="elasticlunr.min.js"></script>
        <script src="mark.min.js"></script>
        <script src="searcher.js"></script>

        <script src="clipboard.min.js"></script>
        <script src="highlight.js"></script>
        <script src="book.js"></script>

        <!-- Custom JS scripts -->
        <script src="./themes/pagetoc.js"></script>



    </div>
    </body>
</html>
