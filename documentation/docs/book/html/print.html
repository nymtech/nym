<!DOCTYPE HTML>
<html lang="en" class="coal" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Nym Docs</title>
        <meta name="robots" content="noindex">


        <!-- Custom HTML head -->
        
        <meta name="description" content="Nym technical documentation">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        <link rel="stylesheet" href="./themes/custom.css">
        <link rel="stylesheet" href="./themes/mdbook-admonish.css">
        <link rel="stylesheet" href="./themes/pagetoc.css">

<!--        -->
    </head>
    <body class="sidebar-visible no-js">
    <div id="body-container">
        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "coal" : "coal";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('coal')
            html.classList.add(theme);
            var body = document.querySelector('body');
            body.classList.remove('no-js')
            body.classList.add('js');
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var body = document.querySelector('body');
            var sidebar = null;
            var sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            sidebar_toggle.checked = sidebar === 'visible';
            body.classList.remove('sidebar-visible');
            body.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item affix "><li class="part-title">Summary</li><li class="chapter-item affix "><li class="part-title">Architecture</li><li class="chapter-item "><a href="architecture/network-overview.html"><strong aria-hidden="true">1.</strong> Network Overview</a></li><li class="chapter-item "><a href="architecture/nym-vs-others.html"><strong aria-hidden="true">2.</strong> Nym vs Other Systems</a></li><li class="chapter-item "><a href="architecture/traffic-flow.html"><strong aria-hidden="true">3.</strong> Mixnet Traffic Flow</a></li><li class="chapter-item "><a href="architecture/addressing-system.html"><strong aria-hidden="true">4.</strong> Addressing System</a></li><li class="chapter-item affix "><li class="part-title">Binaries</li><li class="chapter-item "><a href="binaries/pre-built-binaries.html"><strong aria-hidden="true">5.</strong> Pre-built Binaries</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="binaries/init-and-config.html"><strong aria-hidden="true">5.1.</strong> Binary Initialisation and Configuration</a></li></ol></li><li class="chapter-item "><a href="binaries/building-nym.html"><strong aria-hidden="true">6.</strong> Building from Source</a></li><li class="chapter-item affix "><li class="part-title">Nodes</li><li class="chapter-item "><a href="nodes/overview.html"><strong aria-hidden="true">7.</strong> Node Types (Previously Setup Guides)</a></li><li class="chapter-item affix "><li class="part-title">Wallet</li><li class="chapter-item "><a href="wallet/desktop-wallet.html"><strong aria-hidden="true">8.</strong> Desktop Wallet</a></li><li class="chapter-item "><a href="wallet/cli-wallet.html"><strong aria-hidden="true">9.</strong> CLI Wallet</a></li><li class="chapter-item affix "><li class="part-title">Explorers</li><li class="chapter-item "><a href="explorers/mixnet-explorer.html"><strong aria-hidden="true">10.</strong> Mixnet Explorer</a></li><li class="chapter-item affix "><li class="part-title">Nyx Blockchain</li><li class="chapter-item "><a href="nyx/interacting-with-chain.html"><strong aria-hidden="true">11.</strong> Interacting with Nyx Chain and Smart Contracts</a></li><li class="chapter-item "><a href="nyx/smart-contracts.html"><strong aria-hidden="true">12.</strong> Smart Contracts</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="nyx/mixnet-contract.html"><strong aria-hidden="true">12.1.</strong> Mixnet Contract</a></li><li class="chapter-item "><a href="nyx/vesting-contract.html"><strong aria-hidden="true">12.2.</strong> Vesting Contract</a></li></ol></li><li class="chapter-item "><a href="nyx/rpc-node.html"><strong aria-hidden="true">13.</strong> RPC Nodes</a></li><li class="chapter-item "><a href="nyx/ledger-live.html"><strong aria-hidden="true">14.</strong> Ledger Live Support</a></li><li class="chapter-item affix "><li class="part-title">Coconut</li><li class="chapter-item "><a href="coconut.html"><strong aria-hidden="true">15.</strong> Coconut</a></li><li class="chapter-item "><a href="bandwidth-credentials.html"><strong aria-hidden="true">16.</strong> Bandwidth Credentials</a></li><li class="chapter-item affix "><li class="part-title">Tools</li><li class="chapter-item "><a href="tools/nym-cli.html"><strong aria-hidden="true">17.</strong> NymCLI</a></li><li class="chapter-item affix "><li class="spacer"></li><li class="chapter-item affix "><li class="part-title">Misc.</li><li class="chapter-item "><a href="coc.html"><strong aria-hidden="true">18.</strong> Code of Conduct</a></li><li class="chapter-item "><a href="licensing.html"><strong aria-hidden="true">19.</strong> Licensing</a></li><li class="chapter-item affix "><li class="spacer"></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <!-- Track and set sidebar scroll position -->
        <script>
            var sidebarScrollbox = document.querySelector('#sidebar .sidebar-scrollbox');
            sidebarScrollbox.addEventListener('click', function(e) {
                if (e.target.tagName === 'A') {
                    sessionStorage.setItem('sidebar-scroll', sidebarScrollbox.scrollTop);
                }
            }, { passive: true });
            var sidebarScrollTop = sessionStorage.getItem('sidebar-scroll');
            sessionStorage.removeItem('sidebar-scroll');
            if (sidebarScrollTop) {
                // preserve sidebar scroll position when navigating via links within sidebar
                sidebarScrollbox.scrollTop = sidebarScrollTop;
            } else {
                // scroll sidebar to current active section when navigating via "next/previous chapter" buttons
                var activeSection = document.querySelector('#sidebar .active');
                if (activeSection) {
                    activeSection.scrollIntoView({ block: 'center' });
                }
            }
        </script>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>

                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Dark</button></li>
                        </ul>

                        <!-- CUSTOM -->
                        <select id="dropdown-menu" class="icon-button">
                            <option value="https://nymtech.net/docs">Network Docs</option>
                            <option value="https://nymtech.net/learn/papers">Academic Papers</option>
                            <option value="">--------</option>
                            <option value="https://nymtech.net/developers">Dev Portal</option>
                            <option value="https://nymtech.net/docs/sdk/rust/rust.html">Rust SDK</option>
                            <option value="https://sdk.nymtech.net">Typescript SDK</option>
                            <option value="">--------</option>
                            <option value="">Setup Guides</option>
                            <option value="https://nymtech.net/operators">Operators</option>
                            <option value="https://nymtech.net/developers/nymvpn/intro.html">NymVPN Testing</option>
                        </select>

                        <script>
                            document.getElementById('dropdown-menu').addEventListener('change', function() {
                                const selected = this.options[this.selectedIndex];
                                if (selected.value !== '') {
                                    window.location.href = selected.value;
                                }
                            });
                        </script>
                        
                        <!-- END CUSTOM -->
                    </div>

                    <h1 class="menu-title"> Nym Docs</h1>

                    <div class="right-buttons">
                            <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                                <i class="fa fa-search"></i>
                            </button>
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        <a href="https://github.com/nymtech/nym/documentation/" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <main>
                            <div class="sidetoc">
                                <nav class="pagetoc"></nav>
                            </div>
                            <div class="content-wrap">

                        <h1 id="network-overview"><a class="header" href="#network-overview">Network Overview</a></h1>
<p>Nym is a privacy platform. It provides strong network-level privacy against sophisticated end-to-end attackers, and anonymous access control using blinded, re-randomizable, decentralized credentials. Our goal is to allow developers to build new applications, or upgrade existing apps, with privacy features unavailable in other systems.</p>
<p>The Nym platform knits together several privacy technologies, integrating them into a system of cooperating networked nodes.</p>
<p>At a high level, our technologies include:</p>
<ul>
<li>a <strong>mixnet</strong>, which encrypts and mixes Sphinx packet traffic so that it cannot be determined who is communicating with whom. Our mixnet is based on a modified version of the <strong>Loopix</strong> design.</li>
<li>a privacy enhancing signature scheme called <strong>Coconut</strong>. Coconut allows a shift in thinking about resource access control, from an identity-based paradigm based on <em>who you are</em> to a privacy-preserving paradigm based on <em>right to use</em>.</li>
<li><strong>Sphinx</strong>, a way of transmitting armoured, layer-encrypted information packets which are indistinguishable from each other at a binary level.</li>
<li>the <strong>Nyx</strong> blockchain, a general-purpose CosmWasm-enabled smart contract platform, and the home of the smart contracts which keep track of the mixnet.</li>
</ul>
<p>The most important thing to note is that these technologies ensure privacy at two different levels of the stack: <strong>network data transmission</strong>, and <strong>transactions</strong>.</p>
<p>Here’s an overview diagram of the different types of nodes making up the network:</p>
<p><img src="architecture/../images/nym-platform-dark.png" alt="Nym Platform" /></p>
<p>Developers can think of the network as being comprised of <strong>infrastructure nodes</strong> and <strong>clients</strong> for interacting with this infrastructure via <strong>P</strong>rivacy-<strong>e</strong>nhanced <strong>app</strong>lications (PEApps).</p>
<h2 id="mixnet-infrastructure"><a class="header" href="#mixnet-infrastructure">Mixnet Infrastructure</a></h2>
<p>The mixnet - the different pieces of software that your traffic will pass through when using an privacy-enhanced app (PEApp) - is made up of several different types of nodes:</p>
<ul>
<li>
<p><strong>Mix Nodes</strong> provide network security for network content <em>and</em> metadata, making it impossible to see who is communicating with who, by performing packet-mixing on traffic travelling through the network.</p>
</li>
<li>
<p><strong>Gateways</strong> act as message storage for clients which may go offline and come back online again, and defend against denial of service attacks. The default gateway implementation included in the Nym platform code holds packets for later retrieval. For many applications (such as simple chat), this is usable out of the box, as it provides a place that potentially offline clients can retrieve packets from. The access token allows clients to pull messages from the gateway node.</p>
</li>
<li>
<p><strong>Services</strong> are applications that communicate with nym clients, listening and sending traffic to the mixnet. This is an umbrella term for a variety of different pieces of code, such as the network requester binary.</p>
</li>
<li>
<p><strong>Nyx Blockchain Validators</strong> secure the network with proof-of-stake Sybil defenses, determine which nodes are included within the network, and work together to create Coconut threshold credentials which provide anonymous access to data and resources. They also produce blocks and secure the Nyx Blockchain. Initially, this chain was used only to house the CosmWasm smart contracts keeping track of Nym’s network topology, token vesting contracts, and the <code>NYM</code> token itself. In recent months, we’ve decided to expand the role of Nyx and instead expand its role by making it an open smart contract platform for anyone to upload CosmWasm smart contracts to. Validators also provide privacy-enhanced credentials based on the testimony of a set of decentralized, blockchain-based issuing authorities. Nym validators use the <a href="https://arxiv.org/abs/1802.07344">Coconut</a> <a href="https://en.wikipedia.org/wiki/Digital_signature">signature scheme</a> to issue credentials. This allows privacy apps to generate anonymous resource claims through decentralised authorities, then use them with Service Providers.</p>
</li>
</ul>
<h2 id="privacy-enhanced-applications-peapps"><a class="header" href="#privacy-enhanced-applications-peapps">Privacy-enhanced applications (PEApps)</a></h2>
<p>PEApps use a Nym client to connect to the network in order to get the available Network Topology for traffic routing, and send/receive packets to other users and services. Clients, in order to send traffic through the mixnet, connect to gateways. Since applications may go online and offline, a client’s gateway provides a sort of mailbox where apps can receive their messages.</p>
<p>Nym clients connect to gateways. Messages are automatically piped to connected clients and deleted from the gateway’s disk storage. If a client is offline when a message arrives, it will be stored for later retrieval. When the client connects, all messages will be delivered, and deleted from the gateway’s disk.</p>
<p>When it starts up, a client registers itself with a gateway, and the gateway returns an access token. The access token plus the gateway’s IP can then be used as a form of addressing for delivering packets.</p>
<p>There are two basic kinds of privacy enhanced applications:</p>
<ul>
<li><strong>Client apps</strong> running on mobile or desktop devices. These will typically expose a user interface (UI) to a human user. These might be existing apps such as crypto wallets that communicate with Nym via our SOCKS5 proxy, or entirely new apps.</li>
<li><strong>Service Providers</strong>, which will usually run on a server, and take actions on behalf of users without knowing who they are.</li>
</ul>
<p>Service Providers (SPs) may interact with external systems on behalf of a user. For example, an SP might submit a Bitcoin, Ethereum or Cosmos transaction, proxy a network request, talk to a chat server, or provide anonymous access to a medical system such as a <a href="https://constructiveproof.com/posts/2020-04-24-coronavirus-tracking-app-privacy/">privacy-friendly coronavirus tracker</a>.</p>
<p>There is also a special category of Service Provider, namely SPs that do not visibly interact with any external systems. You might think of these as crypto-utopiapps: they’re doing something, but it’s not possible from outside to say with any certainty what their function is, or who is interacting with them.</p>
<p>All apps talk with gateways using Sphinx packets and a small set of simple control messages. These messages are sent to gateways over websockets. Each app client has a long-lived relationship with its gateway; Nym defines messages for clients registering and authenticating with gateways, as well as sending encrypted Sphinx packets.</p>
<footer id="last-change">Last change: 2023-08-18, commit: <a href="https://github.com/nymtech/nym/documentation//commit/96e271203">96e271203</a></footer><div style="break-before: page; page-break-before: always;"></div><h1 id="nym-vs-other-systems"><a class="header" href="#nym-vs-other-systems">Nym vs Other Systems</a></h1>
<h3 id="why-use-nym-understanding-the-significance-of-nym"><a class="header" href="#why-use-nym-understanding-the-significance-of-nym">Why use Nym: Understanding the Significance of Nym</a></h3>
<p>Nym is the first system we’re aware of which provides integrated protection on both the network and transaction level at once. This seamless approach gives the best possible privacy protections, ensuring that nothing falls through the cracks between systems.</p>
<p>The diagram and brief explainer texts below give a high level overview of the difference between Nym and other comparable systems.</p>
<blockquote>
<p>If you want to dig more deeply into the way traffic is packetised and moved through the mixnet, check out the <a href="https://nymtech.net/docs/architecture/traffic-flow.html">Mixnet Traffic Flow</a> page of the docs.</p>
</blockquote>
<img src="architecture/../images/nym-vs-animation.gif"/>
<h3 id="nym-vs-vpns"><a class="header" href="#nym-vs-vpns">Nym vs VPNs</a></h3>
<p>The most popular network-level privacy solution currently is the VPN (virtual private network), which provides network-level protection via an encrypted tunnel between a user’s computer and one run by a VPN provider. VPNs are often misconfigured, however, and even when configured correctly, don’t offer real privacy or adequate resistance to censorship.</p>
<p>VPN providers can also fully observe all network traffic between users and the public internet, knowing exactly what services its users are accessing at a given time. The user must trust that the VPN provider is not using their information in a malicious manner or keeping logs.</p>
<p>The Nym mixnet is an anonymous overlay network that provides strong network-level anonymity, even in the face of powerful systems capable of passively monitoring the entire network. The mixnet is decentralized, with no trusted third parties, and so does not require a trusted provider like a VPN. More importantly, Nym provides superior privacy to VPNs and can support high-quality of service and low latency through incentives.</p>
<h3 id="nym-vs-tor"><a class="header" href="#nym-vs-tor">Nym vs Tor</a></h3>
<p>Tor is the best-known anonymous overlay network today. Unlike VPNs, Tor provides a ‘circuit’ of three hops that provides better privacy than single-node VPNs, so any single node in Tor can’t deanonymize traffic. Tor’s onion-routing encrypts traffic between each hop so that only the final hop, the Tor ‘exit node’, can decrypt the package.</p>
<p>However, Tor’s anonymity properties can be defeated by an entity that is capable of monitoring the entire network’s ‘entry’ and ‘exit’ nodes, because while onion-routing encrypts traffic, Tor does not add timing obfuscation or use decoy traffic to obfuscate the traffic patterns which can be used to deanonymize users. Although these kinds of attacks were thought to be unrealistic when Tor was invented, in the era of powerful government agencies and private companies, these kinds of attacks are a real threat. Tor’s design is also based on a centralized directory authority for routing.</p>
<p>While Tor may be the best existing solution for general-purpose web-browsing that accesses the entire internet, it is inarguable that mixnets are better than Tor for message-passing systems such as cryptocurrency transactions and secure messaging, and we believe well designed incentives can also enable the use of Nym as a general purpose decentralized VPN. The Nym mixnet provides superior privacy by making packets indistinguishable from each other, adding cover traffic, and providing timing obfuscation. Unlike both previous mixnet designs and Tor, the Nym mixnet decentralizes its shared operations using blockchain technology and uses incentives to both scale and provide censorship-resistance.</p>
<h3 id="nym-vs-i2p"><a class="header" href="#nym-vs-i2p">Nym vs I2P</a></h3>
<p>I2P (‘Invisible Internet Project’) replaces Tor’s directory authority with a distributed hash table for routing. How to design a secure and private distributed hash table is still an open research question, and I2P is open to a number of attacks that isolate, misdirect, or deanonymize users. Like Tor, I2P is based on ‘security by obscurity’, where it is assumed that no adversary can watch the entire network. While security by obscurity may have been cutting-edge at the turn of the millennium, such an approach is rapidly showing its age.</p>
<p>Nym’s cutting-edge mixnet design guarantees network anonymity and resistance to surveillance even in the face of powerful deanonymizing attacks. Unlike I2P, Nym adds decoy traffic and timing obfuscation. Rather than a centralized directory authority or distributed hash table, Nym uses blockchain technology and economic incentives to decentralize its network.The Nym mixnet can anonymize metadata even against government agencies or private companies who can monitor network links and observe the incoming and outgoing traffic of all clients and servers.</p>
<h3 id="nym-vs-facebook-connect"><a class="header" href="#nym-vs-facebook-connect">Nym vs Facebook Connect</a></h3>
<p>The Nym credential system decentralizes the functions of systems like Facebook Connect while adding privacy. Personal data has become a toxic asset, even to companies who base their entire business around it, as evidenced by the hack of Facebook’s OAuth identity system in 2018 and the subsequent release of the data of 50 million users.</p>
<p>Unlike Facebook Connect and similar OAuth-based services like Sign in with Google, traditional usernames and passwords, or even public/private key pairs, Nym credentials allow users to authenticate and authorize data sharing without unwillingly revealing any information to a third party. There is no central third party in charge of the credentials, and users remain totally in control of their own data, disclosing it only to those who they want to. A user can store their data wherever they want (including on their own devices), and unlike alternatives like W3C’s DIDs, a user does not store anything on the blockchain, offering better privacy.</p>
<footer id="last-change">Last change: 2024-07-10, commit: <a href="https://github.com/nymtech/nym/documentation//commit/44cf9b054">44cf9b054</a></footer><div style="break-before: page; page-break-before: always;"></div><h1 id="mixnet-traffic-flow"><a class="header" href="#mixnet-traffic-flow">Mixnet Traffic Flow</a></h1>
<h2 id="technical-motivations"><a class="header" href="#technical-motivations">Technical Motivations</a></h2>
<p>When you send data across the internet, it can be recorded by a wide range of observers: your ISP, internet infrastructure providers, large tech companies, and governments.</p>
<p>Even if the content of a network request is encrypted, observers can still see that data was transmitted, its size, frequency of transmission, and gather metadata from unencrypted parts of the data (such as IP routing information). Adversaries may then combine all the leaked information to probabilistically de-anonymize users.</p>
<p>The Nym mixnet provides very strong security guarantees against this sort of surveillance. It <em>packetises</em> and <em>mixes</em> together IP traffic from many users inside the <em>mixnet</em>.</p>
<blockquote>
<p>If you’re into comparisons, the Nym mixnet is conceptually similar to other systems such as Tor, but provides improved protections against end-to-end timing attacks which can de-anonymize users. When Tor was first fielded, in 2002, those kinds of attacks were regarded as science fiction. But the future is now here.</p>
</blockquote>
<h2 id="mixnet-traffic-flow-1"><a class="header" href="#mixnet-traffic-flow-1">Mixnet Traffic Flow</a></h2>
<p>The Nym mixnet re-orders encrypted, indistinguishable <a href="https://cypherpunks.ca/~iang/pubs/Sphinx_Oakland09.pdf">Sphinx</a> packets as they travel through the gateways and mix nodes.</p>
<p>Traffic to send through the mixnet is broken up into uniformly-sized packets, encrypted in the Sphinx packet format according to the route the packet will take, and sent through the mixnet to be mixed among other real traffic and fake - but identical - ‘dummy traffic’.</p>
<p>At each ‘hop’ (i.e. as a packet is forwarded from one node in the sequence to another) a layer of decryption is removed from the Sphinx packet, revealing the address of the next hop, and another Sphinx packet. The packet is then held by the node for a variable amount of time, before being forwarded on to the next node in the route.</p>
<p>Traffic always travels through the nodes of the mixnet like such:</p>
<pre><code>                                                                               
       +----------+              +----------+             +----------+                 
       | Mix Node |&lt;-----------&gt; | Mix Node |&lt;-----------&gt;| Mix Node |                 
       | Layer 1  |              | Layer 2  |             | Layer 3  |                 
       +----------+              +----------+             +----------+                 
            ^                                                   ^                      
            |                                                   |                      
            |                                                   |                      
            v                                                   v                      
    +--------------+                                   +-----------------+        
    | Your gateway |                                   | Service gateway |        
    +--------------+                                   +-----------------+        
            ^                                                    ^                     
            |                                                    |                     
            |                                                    |                     
            v                                                    v                     
  +-------------------+                                +-------------------+           
  | +---------------+ |                                | +---------------+ |           
  | |  Nym client   | |                                | |  Nym Client   | |           
  | +---------------+ |                                | +---------------+ |           
  |         ^         |                                |         ^         |           
  |         |         |                                |         |         |           
  |         |         |                                |         |         |           
  |         v         |                                |         v         |           
  | +---------------+ |                                | +---------------+ |           
  | | Your app code | |                                | | Service Code  | |           
  | +---------------+ |                                | +---------------+ |           
  +-------------------+                                +-------------------+           
   Your Local Machine**                               Service Provider Machine**        


** note that depending on the technical setup, the Nym client running on these machines may
be either a seperate process or embedded in the same process as the app code via one of our SDKs. 

</code></pre>
<p>From your Nym client, your encrypted traffic is sent to:</p>
<ul>
<li>the gateway your client has registered with,</li>
<li>a mix node on layer 1 of the Mixnet,</li>
<li>a mix node on layer 2 of the Mixnet,</li>
<li>a mix node on layer 3 of the Mixnet,</li>
<li>the recipient’s gateway, which forwards it finally to…</li>
<li>the recipient’s Nym client, which communicates with an application.</li>
</ul>
<blockquote>
<p>If the recipient’s Nym client is offline at the time then the packets will be held by the Gateway their Nym client has registered with until they come online.</p>
</blockquote>
<p>Whatever is on the ‘other side’ of the mixnet from your client, all traffic will travel this way through the mixnet. If you are sending traffic to a service external to Nym (such as a chat application’s servers) then your traffic will be sent from the recieving Nym client to an application that will proxy it ‘out’ of the mixnet to these servers, shielding your metadata from them. P2P (peer-to-peer) applications, unlike the majority of apps, might want to keep all of their traffic entirely ‘within’ the mixnet, as they don’t have to necessarily make outbound network requests to application servers. They would simply have their local application code communicate with their Nym clients, and not forward traffic anywhere ‘outside’ of the mixnet.</p>
<h2 id="acks--package-retransmission"><a class="header" href="#acks--package-retransmission">Acks &amp; Package Retransmission</a></h2>
<p>Whenever a hop is completed, the receiving node will send back an acknowledgement (‘ack’) so that the sending node knows that the packet was received. If it does not receive an ack after sending, it will resend the packet, as it assumes that the packet was dropped for some reason. This is done under the hood by the binaries themselves, and is never something that developers and node operators have to worry about dealing with themselves.</p>
<p>Packet retransmission means that if a client sends 100 packets to a gateway, but only receives an acknowledgement (‘ack’) for 95 of them, it will resend those 5 packets to the gateway again, to make sure that all packets are received. All nodes in the mixnet support packet retransmission.</p>
<pre><code>                                                                                                               
  +-------------------+                  +-------------------+                                                
  | +---------------+ |                  |                   | Packet lost in transmission - no ack recieved! 
  | |  Nym client   | |                  |                   |-----------------?                              
  | +-------^-------+ |Send 100 packets  |                   |                                                     
  |         |         |-----------------&gt;|   Gateway your    |  Resend packet    +------------------+     etc...  
  |         |         |                  |   client is       |------------------&gt;|                  |------------------&gt; 
  |         |         |                  |   connected to    |                   | Mix node layer 1 |          
  |         v         | Send 100 acks    |                   |&lt;------------------|                  |         
  | +---------------+ |&lt;-----------------|                   |   Send ack        +------------------+        
  | | Your app code | |                  |                   |                                              
  | +---------------+ |                  |                   |                                             
  +-------------------+                  +-------------------+                                            
   Your Local Machine                                                                                    

</code></pre>
<h2 id="private-replies-using-surbs"><a class="header" href="#private-replies-using-surbs">Private Replies using SURBs</a></h2>
<p>SURBs (‘Single Use Reply Blocks’) allow apps to reply to other apps anonymously.</p>
<p>It will often be the case that a client app wants to interact with a service of some kind, or a P2P application on someone else’s machine. It sort of defeats the purpose of the whole system if your client app needs to reveal its own gateway public key and client public key in order to get a response from the service/app.</p>
<p>Luckily, SURBs allow for anonymous replies. A SURB is a layer encrypted set of Sphinx headers detailing a reply path ending in the original app’s address. SURBs are encrypted by the client, so the recieving service/app can attach its response and send back the resulting Sphinx packet, but it <strong>never has sight of who it is replying to</strong>.</p>
<p>MultiSURBs were implemented in <code>v1.1.4</code>. Clients, when sending a message to another client, attach a bundle of SURBs which can be used by the receiver to construct large anonymous replies, such as files. If a reply is too large still (i.e. it would use more SURBs than sent with the original message), the receiver will use a SURB to ask the sender for more SURBs.</p>
<p>What this means in practice is that files can now be sent via anonymous replies!</p>
<footer id="last-change">Last change: 2023-11-02, commit: <a href="https://github.com/nymtech/nym/documentation//commit/6122817ab">6122817ab</a></footer><div style="break-before: page; page-break-before: always;"></div><h1 id="addressing-system"><a class="header" href="#addressing-system">Addressing System</a></h1>
<p>When a Nym client is initalised, it generates and stores its own public/private keypair locally. When the client starts, it automatically connects to the Nym network and finds out what Nym infrastructure exists. It then chooses and connects to a specific Gateway node via websocket.</p>
<p>All apps in the Nym network therefore have an address, in the format:</p>
<pre><code>user-identity-key.user-encryption-key@gateway-identity-key
</code></pre>
<p>Which in practice, looks something like this:</p>
<pre><code>DguTcdkWWtDyUFLvQxRdcA8qZhardhE1ZXy1YCC7Zfmq.Dxreouj5RhQqMb3ZaAxgXFdGkmfbDKwk457FdeHGKmQQ@4kjgWmFU1tcGAZYRZR57yFuVAexjLbJ5M7jvo3X5Hkcf
</code></pre>
<p>This is obviously not very user-friendly and the moment, and will be developed on in the coming months.</p>
<footer id="last-change">Last change: 2024-07-10, commit: <a href="https://github.com/nymtech/nym/documentation//commit/44cf9b054">44cf9b054</a></footer><div style="break-before: page; page-break-before: always;"></div><h1 id="pre-built-binaries"><a class="header" href="#pre-built-binaries">Pre-built Binaries</a></h1>
<p>The <a href="https://github.com/nymtech/nym/releases">Github releases page</a> has pre-built binaries which should work on Ubuntu 20.04 and other Debian-based systems, but at this stage cannot be guaranteed to work everywhere.</p>
<p>If the pre-built binaries don’t work or are unavailable for your system, you will need to build the platform yourself.</p>
<footer id="last-change">Last change: 2023-04-17, commit: <a href="https://github.com/nymtech/nym/documentation//commit/3dafe02f0">3dafe02f0</a></footer><div style="break-before: page; page-break-before: always;"></div><h1 id="binary-initialisation-and-configuration"><a class="header" href="#binary-initialisation-and-configuration">Binary Initialisation and Configuration</a></h1>
<p>All Nym binaries must first be made executable and initialised with <code>init</code> before being <code>run</code>.</p>
<p>To make a binary executable, open terminal in the same directory and run:</p>
<pre><code class="language-sh">chmod +x &lt;BINARY_NAME&gt; 
# for example: chmod +x nym-mixnode
</code></pre>
<p>The <code>init</code> command is usually where you pass flags specifying configuration arguments such as the gateway you wish to communicate with, the ports you wish your binary to listen on, etc.</p>
<p>The <code>init</code> command will also create the necessary keypairs and configuration files at <code>~/.nym/&lt;BINARY_TYPE&gt;/&lt;BINARY_ID&gt;/</code> if these files do not already exist. <strong>It will not overwrite existing keypairs if they are present.</strong></p>
<p>You can reconfigure your binaries at any time by editing the config file located at <code>~/.nym/&lt;BINARY_TYPE&gt;/&lt;BINARY_ID&gt;/config/config.toml</code> and restarting the binary process.</p>
<p>Once you have run <code>init</code>, you can start your binary with the <code>run</code> command, usually only accompanied by the <code>id</code> of the binary that you specified.</p>
<p>This <code>id</code> is <strong>never</strong> transmitted over the network, and is used to select which local config and key files to use for startup.</p>
<footer id="last-change">Last change: 2023-09-05, commit: <a href="https://github.com/nymtech/nym/documentation//commit/22c59be82">22c59be82</a></footer><div style="break-before: page; page-break-before: always;"></div><h1 id="building-from-source"><a class="header" href="#building-from-source">Building from Source</a></h1>
<blockquote>
<p>Nym runs on Mac OS X, Linux, and Windows. All nodes <strong>except the Desktop Wallet and NymConnect</strong> on Windows should be considered experimental - it works fine if you’re an app developer but isn’t recommended for running nodes.</p>
</blockquote>
<h2 id="building-nym"><a class="header" href="#building-nym">Building Nym</a></h2>
<p>Nym has two main codebases:</p>
<ul>
<li>the <a href="https://github.com/nymtech/nym">Nym platform</a>, written in Rust. This contains all of our code <em>except</em> for the validators.</li>
<li>the <a href="https://github.com/nymtech/nyxd">Nym validators</a>, written in Go.</li>
</ul>
<blockquote>
<p>This page details how to build the main Nym platform code. <strong>If you want to build and run a validator, <a href="https://nymtech.net/operators/nodes/validator-setup.html">go here</a> instead.</strong></p>
</blockquote>
<h2 id="prerequisites"><a class="header" href="#prerequisites">Prerequisites</a></h2>
<ul>
<li>Debian/Ubuntu: <code>pkg-config</code>, <code>build-essential</code>, <code>libssl-dev</code>, <code>curl</code>, <code>jq</code>, <code>git</code></li>
</ul>
<pre><code>apt install pkg-config build-essential libssl-dev curl jq git
</code></pre>
<ul>
<li>Arch/Manjaro: <code>base-devel</code></li>
</ul>
<pre><code>pacman -S base-devel
</code></pre>
<ul>
<li>Mac OS X: <code>pkg-config</code> , <code>brew</code>, <code>openss1</code>, <code>protobuf</code>, <code>curl</code>, <code>git</code>
Running the following the script installs Homebrew and the above dependencies:</li>
</ul>
<pre><code>/bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)"
</code></pre>
<ul>
<li><code>Rust &amp; cargo &gt;= 1.66</code></li>
</ul>
<p>We recommend using the <a href="https://www.rust-lang.org/tools/install">Rust shell script installer</a>. Installing cargo from your package manager (e.g. <code>apt</code>) is not recommended as the packaged versions are usually too old.</p>
<p>If you really don’t want to use the shell script installer, the <a href="https://forge.rust-lang.org/infra/other-installation-methods.html">Rust installation docs</a> contain instructions for many platforms.</p>
<h2 id="download-and-build-nym-binaries"><a class="header" href="#download-and-build-nym-binaries">Download and build Nym binaries</a></h2>
<p>The following commands will compile binaries into the <code>nym/target/release</code> directory:</p>
<pre><code class="language-sh">rustup update
git clone https://github.com/nymtech/nym.git
cd nym

git reset --hard # in case you made any changes on your branch
git pull # in case you've checked it out before

git checkout master # master branch has the latest release version: `develop` will most likely be incompatible with deployed public networks

cargo build --release # build your binaries with **mainnet** configuration
</code></pre>
<p>Quite a bit of stuff gets built. The key working parts are:</p>
<ul>
<li><a href="https://nymtech.net/operators/nodes/nym-node.html">Nym Node</a>: <code>nym-node</code></li>
<li><a href="https://nymtech.net/operators/nodes/validator-setup.html">Validator</a></li>
<li><a href="https://nymtech.net/docs/clients/websocket-client.html">websocket client</a>: <code>nym-client</code></li>
<li><a href="https://nymtech.net/docs/clients/socks5-client.html">socks5 client</a>: <code>nym-socks5-client</code></li>
<li><a href="https://nymtech.net/docs/clients/webassembly-client.html">webassembly client</a>: <code>webassembly-client</code></li>
<li><a href="https://nymtech.net/docs/tools/nym-cli.html">nym-cli tool</a>: <code>nym-cli</code></li>
<li><a href="https://nymtech.net/operators/nodes/nym-api.html">nym-api</a>: <code>nym-api</code></li>
<li><a href="https://nymtech.net/operators/nodes/nymvisor-upgrade.html">nymvisor</a>: <code>nymvisor</code></li>
</ul>
<p>The repository also contains Typescript applications which aren’t built in this process. These can be built by following the instructions on their respective docs pages.</p>
<ul>
<li><a href="https://nymtech.net/docs/wallet/desktop-wallet.html">Nym Wallet</a></li>
<li><a href="https://nymtech.net/docs/explorers/mixnet-explorer.html">Network Explorer UI</a></li>
</ul>
<blockquote>
<p>You cannot build from GitHub’s .zip or .tar.gz archive files on the releases page - the Nym build scripts automatically include the current git commit hash in the built binary during compilation, so the build will fail if you use the archive code (which isn’t a Git repository). Check the code out from github using <code>git clone</code> instead.</p>
</blockquote>
<footer id="last-change">Last change: 2024-07-10, commit: <a href="https://github.com/nymtech/nym/documentation//commit/44cf9b054">44cf9b054</a></footer><div style="break-before: page; page-break-before: always;"></div><h1 id="node-types"><a class="header" href="#node-types">Node Types</a></h1>
<div id="admonition-info" class="admonition admonish-info" role="note" aria-labelledby="admonition-info-title">
<div class="admonition-title">
<div id="admonition-info-title">
<p>Info</p>
</div>
<a class="admonition-anchor-link" href="nodes/overview.html#admonition-info"></a>
</div>
<div>
<p>We are working on a detailed description of how each component of Nym Mixnet and Nyx blockchain functions, as well as references to any literature and technical specs.</p>
<p>Meanwhile please refer to our <a href="https://nymtech.net/operators"><strong>Operators Guide</strong></a> book.</p>
</div>
</div>
<footer id="last-change">Last change: 2024-07-24, commit: <a href="https://github.com/nymtech/nym/documentation//commit/f85d864f1">f85d864f1</a></footer><div style="break-before: page; page-break-before: always;"></div><h1 id="desktop-wallet"><a class="header" href="#desktop-wallet">Desktop Wallet</a></h1>
<p>The Nym Desktop Wallet lets you interact with your Nym node and to delegate stake to others, see the vesting schedule of tokens, and transfer tokens. In future releases, it will also let you access the Nym mixnet.</p>
<p>You can download it for Mac, Windows, or Linux.</p>
<p><a href="https://nymtech.net/download/wallet"><img src="wallet/../images/download-wallet.png" alt="download nym wallet" /></a></p>
<h3 id="bypassing-security-warnings"><a class="header" href="#bypassing-security-warnings">Bypassing security warnings</a></h3>
<p>On Windows you will see a security warning pop up when you attempt to run the wallet. We are in the process of getting app store keys from Microsoft so that this doesn’t happen. See the section below for details on steps to bypass these.</p>
<h4 id="linux"><a class="header" href="#linux">Linux</a></h4>
<p>You will need to <code>chmod +x</code> the AppImage in the terminal (or give it execute permission in your file browser) before it will run.</p>
<h4 id="windows"><a class="header" href="#windows">Windows</a></h4>
<p><em>You will still encounter warnings when opening the wallet on Windows. This is because - although the wallet is approved by Microsoft - it has less than 10 thousand downloads at the current time. Once the wallet has passed this threshold, this warning will disappear.</em></p>
<p>Follow the steps below to bypass the warnings.</p>
<ul>
<li>Select more-info after clicking the msi installer app:</li>
</ul>
<p><img src="wallet/../images/wallet-warnings/windows_warningv1-0-2.png" alt="Windows Warning" /></p>
<ul>
<li>Proceed to ‘run-anyway’:</li>
</ul>
<p><img src="wallet/../images/wallet-warnings/windows_warning2.png" alt="Windows Warning" /></p>
<ul>
<li>Follow the installer instructions:</li>
</ul>
<p><img src="wallet/../images/wallet-warnings/windows_warning3.png" alt="Windows Warning" /></p>
<p><img src="wallet/../images/wallet-warnings/windows_warning4.png" alt="Windows Warning" /></p>
<p><img src="wallet/../images/wallet-warnings/windows_warning5.png" alt="Windows Warning" /></p>
<h3 id="for-developers"><a class="header" href="#for-developers">For developers</a></h3>
<p>If you would like to the compile the wallet yourself, follow the instructions below.</p>
<blockquote>
<p>Please note that the wallet has currently only been built on the operating systems for which there are binaries as listed above. If you find an issue or any additional prerequisties, please create an issue or PR against <code>develop</code> on <a href="https://github.com/nymtech/docs">Github</a>.</p>
</blockquote>
<h4 id="software-prerequisites-for-building-the-wallet"><a class="header" href="#software-prerequisites-for-building-the-wallet">Software prerequisites for building the wallet</a></h4>
<ul>
<li><code>git</code></li>
</ul>
<pre><code>sudo apt update
sudo apt install git
</code></pre>
<p>Verify <code>git</code> is installed with:</p>
<pre><code>git version
# Should return: git version X.Y.Z
</code></pre>
<ul>
<li>
<p><a href="https://yarnpkg.com/">Yarn</a></p>
</li>
<li>
<p><code>NodeJS &gt;= v16.8.0</code></p>
</li>
<li>
<p><code>Rust &amp; cargo &gt;= v1.56</code></p>
</li>
</ul>
<p>We recommend using the <a href="https://www.rust-lang.org/tools/install">Rust shell script installer</a>. Installing cargo from your package manager (e.g. <code>apt</code>) is not recommended as the packaged versions are usually too old.</p>
<p>If you really don’t want to use the shell script installer, the <a href="https://forge.rust-lang.org/infra/other-installation-methods.html">Rust installation docs</a> contain instructions for many platforms.</p>
<h4 id="additional-prerequisites-for-ubuntudebian-systems"><a class="header" href="#additional-prerequisites-for-ubuntudebian-systems">Additional prerequisites for Ubuntu/Debian systems</a></h4>
<pre><code>sudo apt update
sudo apt install pkg-config build-essential libssl-dev curl jq
</code></pre>
<h4 id="additional-prerequisites-for-windows"><a class="header" href="#additional-prerequisites-for-windows">Additional prerequisites for Windows</a></h4>
<ul>
<li>When running on Windows you will need to install the <code>c++</code> build tools.</li>
<li>An easy guide to get Rust up and running can be found <a href="http://kennykerr.ca/2019/11/18/rust-getting-started/">here</a>.</li>
<li>When installing <code>NodeJS</code> please use the <code>current features</code> version.</li>
<li>Using a package manager like <a href="https://chocolatey.org/">Chocolatey</a> is recommended.</li>
</ul>
<h3 id="removing-signing-errors-when-building-in-development-mode"><a class="header" href="#removing-signing-errors-when-building-in-development-mode">Removing signing errors when building in development mode</a></h3>
<p>If you’re wanting to build the wallet yourself, you will need to make a few modifications to the file located at <code>nym-wallet/src-tauri/tauri.conf.json</code> before doing so. These relate to the wallet being accepted by Mac and Windows app stores, and so aren’t relevant to you when building and running the wallet yourself.</p>
<p>On <strong>all</strong> operating systems:</p>
<ul>
<li>set the value of line 49 to <code>false</code></li>
<li>remove lines 50 to 54</li>
</ul>
<p>As well as these modifications for MacOS and Windows users:</p>
<ul>
<li>MacOS users must also remove line 39</li>
<li>Windows users must remove lines 42 to 46</li>
</ul>
<h3 id="installation"><a class="header" href="#installation">Installation</a></h3>
<p>Once you have made these modifications to <code>tauri.conf.json</code>, inside of the <code>nym-wallet</code> folder, run:</p>
<pre><code>yarn install
</code></pre>
<h3 id="running-in-development-mode"><a class="header" href="#running-in-development-mode">Running in Development Mode</a></h3>
<blockquote>
<p>Make sure you copy over the contents of the provided <code>.env.sample</code> to a new <code>.env</code> file before proceeding</p>
</blockquote>
<p>You can run the wallet without having to install it in development mode by running the following terminal command from the <code>nym-wallet</code> folder</p>
<pre><code>yarn dev
</code></pre>
<p>This will then start the Wallet GUI and produce a binary in <code>nym-wallet/target/debug/</code> named <code>nym-wallet</code>.</p>
<h3 id="running-in-production-mode"><a class="header" href="#running-in-production-mode">Running in Production Mode</a></h3>
<blockquote>
<p>Make sure you copy over the contents of the provided <code>.env.sample</code> to a new <code>.env</code> file before proceeding</p>
</blockquote>
<p>To build and install the wallet, run the following terminal command from the <code>nym-wallet</code> folder.</p>
<pre><code>yarn build
</code></pre>
<p>This will build an executable file that you can use to install the wallet on your machine. The output will compile different types of binaries dependent on your hardware / OS system. Once the binaries are built, they can be located as follows:</p>
<pre><code>Binary output directory structure
**macos**
|
└─── target/release
|   |─ nym-wallet
└───target/release/bundle/dmg
│   │─ bundle_dmg.sh
│   │─ nym-wallet.*.dmg
└───target/release/bundle/macos/MacOs
│   │─ nym-wallet
|
**Linux**
└─── target/release
|   │─  nym-wallet
└───target/release/bundle/appimage
│   │─  nym-wallet_*_.AppImage
│   │─  build_appimage.sh
└───target/release/bundle/deb
│   │─  nym-wallet_*_.deb
|
**Windows**
└─── target/release
|   │─  nym-wallet.exe
└───target/release/bundle/msi
│   │─  nym-wallet_*_.msi
</code></pre>
<h3 id="importing-or-creating-accounts-when-you-have-signed-in-with-mnemonic"><a class="header" href="#importing-or-creating-accounts-when-you-have-signed-in-with-mnemonic">Importing or creating account(s) when you have signed in with mnemonic</a></h3>
<p>To import or create a new account, first you need to create a password for your wallet:</p>
<ol>
<li>Log out from the wallet</li>
<li>Sign in using “Sign in with mnemonic” button</li>
<li>On the next screen select “Create a password“</li>
<li>Type in the mnemonic you want to create a password for and follow the next steps</li>
<li>Sign back in the wallet using your new password</li>
<li>Come back to this page to import or create new accounts</li>
</ol>
<h3 id="importing-or-creating-accounts-when-you-have-signed-in-with-mnemonic-but-a-password-already-exists-on-your-machine"><a class="header" href="#importing-or-creating-accounts-when-you-have-signed-in-with-mnemonic-but-a-password-already-exists-on-your-machine">Importing or creating account(s) when you have signed in with mnemonic but a password already exists on your machine</a></h3>
<p>To import or create a new account, you need to log in with your existing password or create a new password.</p>
<blockquote>
<p>Creating a new password will overwrite any old one stored on your machine. Make sure you have saved any mnemonics associated with the password before creating a new one.</p>
</blockquote>
<ol>
<li>Log out</li>
<li>Click on “Forgot password”</li>
<li>On the next screen select “Create new password”</li>
<li>Follow the instructions and create a new password</li>
<li>Sign in using your new password</li>
</ol>
<h3 id="cli-tool-for-wallet-encrypted-file-password-recovery"><a class="header" href="#cli-tool-for-wallet-encrypted-file-password-recovery">CLI tool for wallet encrypted file (password) recovery:</a></h3>
<p>The mnemonics that are stored in the local password protected file can also be decrypted and recovered through a simple CLI tool, <code>nym-wallet-recovery-cli</code>.</p>
<pre><code>nym-wallet-recovery –file saved-wallet.json –password foo
</code></pre>
<p>The saved wallet file can be found in <code>$XDG_DATA_HOME</code> or <code>$HOME/.local/share</code> on Linux, <code>$HOME/Library/Application Support</code> on Mac, and <code>C:\Users\username\AppData\Local</code> on Windows.</p>
<footer id="last-change">Last change: 2024-06-12, commit: <a href="https://github.com/nymtech/nym/documentation//commit/405d4653d">405d4653d</a></footer><div style="break-before: page; page-break-before: always;"></div><h1 id="cli-wallet"><a class="header" href="#cli-wallet">CLI Wallet</a></h1>
<p>If you have already read our validator setup and maintenance <a href="https://nymtech.net/operators/nodes/validator-setup.html">documentation</a> you will have seen that we compile and use the <code>nyxd</code> binary primarily for our validators. This binary can however be used for many other tasks, such as creating and using keypairs for wallets, or automated setups that require the signing and broadcasting of transactions.</p>
<h3 id="using-nyxd-binary-as-a-cli-wallet"><a class="header" href="#using-nyxd-binary-as-a-cli-wallet">Using <code>nyxd</code> binary as a CLI wallet</a></h3>
<p>You can use the <code>nyxd</code> as a minimal CLI wallet if you want to set up an account (or multiple accounts). Just compile the binary as per the documentation, <strong>stopping after</strong> the <a href="https://nymtech.net/operators/nodes/validator-setup.html#building-your-validator">building your validator</a> step is complete. You can then run <code>nyxd keys --help</code> to see how you can set up and store different keypairs with which to interact with the Nyx blockchain.</p>
<p>For more on interacting with the chain, see the <a href="wallet/../nyx/interacting-with-chain.html">Interacting with Nyx Chain and Smart Contracts</a> page.</p>
<footer id="last-change">Last change: 2023-11-30, commit: <a href="https://github.com/nymtech/nym/documentation//commit/a6b0a522a">a6b0a522a</a></footer><div style="break-before: page; page-break-before: always;"></div><h1 id="mixnet-explorer"><a class="header" href="#mixnet-explorer">Mixnet Explorer</a></h1>
<p>The Nym Network Explorer lets you explore the Nym network. We have open-sourced the explorer so that anyone can run an instance of it, further decentralising the network!</p>
<h3 id="prerequisites-1"><a class="header" href="#prerequisites-1">Prerequisites</a></h3>
<ul>
<li><code>git</code></li>
</ul>
<pre><code>sudo apt update
sudo apt install git
</code></pre>
<p>Verify <code>git</code> is installed with:</p>
<pre><code>git version
# Should return: git version X.Y.Z
</code></pre>
<ul>
<li>(Debian/Ubuntu) <code>pkg-config</code>, <code>build-essential</code>, <code>libssl-dev</code>, <code>curl</code>, <code>jq</code></li>
</ul>
<pre><code>sudo apt update
sudo apt install pkg-config build-essential libssl-dev curl jq
</code></pre>
<ul>
<li>
<p><code>NodeJS</code> (use <code>nvm install</code> to automatically install the correct version) and <code>npm</code></p>
</li>
<li>
<p><code>Rust &amp; cargo &gt;= 1.66</code></p>
</li>
</ul>
<p>We recommend using the <a href="https://www.rust-lang.org/tools/install">Rust shell script installer</a>. Installing cargo from your package manager (e.g. <code>apt</code>) is not recommended as the packaged versions are usually too old.</p>
<p>If you really don’t want to use the shell script installer, the <a href="https://forge.rust-lang.org/infra/other-installation-methods.html">Rust installation docs</a> contain instructions for many platforms.</p>
<h3 id="local-development"><a class="header" href="#local-development">Local Development</a></h3>
<p>Complete the steps in the <a href="explorers/../binaries/building-nym.html">building nym</a> section, before <code>cd</code>-ing into <code>nym/explorer</code>.</p>
<p>Start a development server with hot reloading running on <code>http://localhost:3000</code> with the following commands from inside the <code>explorer</code> directory:</p>
<pre><code>nvm install # install relevant nodejs and npm versions 
npm install
npm run start
</code></pre>
<p><code>eslint</code> and <code>prettier</code> are already configured.</p>
<p>You can lint the code by running:</p>
<pre><code>npm run lint
</code></pre>
<blockquote>
<p>This command will only <strong>show</strong> linting errors and will not fix them!</p>
</blockquote>
<p>To fix all linting errors automatically run:</p>
<pre><code>npm run lint:fix
</code></pre>
<p>Please see the development docs in <code>explorer/docs</code> for more information on the structure and design of this app.</p>
<h3 id="deployment"><a class="header" href="#deployment">Deployment</a></h3>
<p>Complete the steps in the <a href="explorers/../binaries/building-nym.html">building nym</a> section, before <code>cd</code>-ing into <code>nym/explorer</code>.</p>
<blockquote>
<p>The Network Explorer should be run on a machine with at least 4GB of RAM - the build process might fail if run on a less powerful machine.</p>
</blockquote>
<h4 id="building-the-explorer-ui"><a class="header" href="#building-the-explorer-ui">Building the Explorer UI</a></h4>
<p>Build the UI with these commands from within the <code>explorer</code> directory:</p>
<pre><code>nvm install # install relevant nodejs and npm versions 
npm install
npm run build
</code></pre>
<p>The output will be in the <code>dist</code> directory.</p>
<p>This can then be either served directly from the <code>nym</code> directory, or from its own directory if you wish. See the template nginx config below for more on how to host this.</p>
<h4 id="building-the-explorer-api"><a class="header" href="#building-the-explorer-api">Building the Explorer API</a></h4>
<p>The Explorer API was built in the previous step with <code>cargo build</code>.</p>
<h3 id="automating-the-explorer-with-systemd"><a class="header" href="#automating-the-explorer-with-systemd">Automating the explorer with systemd</a></h3>
<p>You will most likely want to automate the Explorer-API restarting if your server reboots. Below is a systemd unit file to place at <code>/etc/systemd/system/nym-explorer-api.service</code>:</p>
<pre><code class="language-ini">[Unit]
Description=Nym Explorer API (1.1.0)
StartLimitIntervalSec=350
StartLimitBurst=10

[Service]
User=nym
Type=simple
Environment="API_STATE_FILE=/home/nym/network-explorer/explorer-api-state.json"
Environment="GEO_IP_SERVICE_API_KEY=c69155d0-25f6-11ec-80bc-75e5dbd322c3"
ExecStart=explorer/api/location
Restart=on-failure
RestartSec=30

[Install]
WantedBy=multi-user.target
</code></pre>
<p>Proceed to start it with:</p>
<pre><code>systemctl daemon-reload # to pickup the new unit file
systemctl enable nymd   # to enable the service
systemctl start nymd    # to actually start the service
journalctl -f           # to monitor system logs showing the service start
</code></pre>
<h3 id="installing-and-configuring-nginx-for-https"><a class="header" href="#installing-and-configuring-nginx-for-https">Installing and configuring nginx for HTTPS</a></h3>
<h4 id="setup"><a class="header" href="#setup">Setup</a></h4>
<p><a href="https://www.nginx.com/resources/glossary/nginx/#:~:text=NGINX%20is%20open%20source%20software,%2C%20media%20streaming%2C%20and%20more.&amp;text=In%20addition%20to%20its%20HTTP,%2C%20TCP%2C%20and%20UDP%20servers.">Nginx</a> is an open source software used for operating high-performance web servers. It allows us to set up reverse proxying on our validator server to improve performance and security.</p>
<p>Install <code>nginx</code> and allow the ‘Nginx Full’ rule in your firewall:</p>
<pre><code>sudo ufw allow 'Nginx Full'
</code></pre>
<p>Check nginx is running via systemctl:</p>
<pre><code>systemctl status nginx
</code></pre>
<p>Which should return:</p>
<pre><code>● nginx.service - A high performance web server and a reverse proxy server
   Loaded: loaded (/lib/systemd/system/nginx.service; enabled; vendor preset: enabled)
   Active: active (running) since Fri 2018-04-20 16:08:19 UTC; 3 days ago
     Docs: man:nginx(8)
 Main PID: 2369 (nginx)
    Tasks: 2 (limit: 1153)
   CGroup: /system.slice/nginx.service
           ├─2369 nginx: master process /usr/sbin/nginx -g daemon on; master_process on;
           └─2380 nginx: worker process
</code></pre>
<h4 id="configuration"><a class="header" href="#configuration">Configuration</a></h4>
<p>Replace the default nginx configuration at <code>/etc/nginx/sites-available/</code> with:</p>
<pre><code>server {
  listen 80;
  listen [::]:80;
  server_name domain;
  root html_location;
  location / {
    try_files /$uri /$uri/index.html /index.html =404;
  }

  location /api {
      proxy_pass http://127.0.0.1:8000;
		  rewrite /api/(.*) /$1  break;
                  proxy_set_header  X-Real-IP $remote_addr;
                  proxy_set_header  Host $host;
                  proxy_set_header  X-Real-IP $remote_addr;
  }
}
</code></pre>
<p>Followed by:</p>
<pre><code>sudo apt install certbot nginx python3
certbot --nginx -d nym-validator.yourdomain.com -m you@yourdomain.com --agree-tos --noninteractive --redirect
</code></pre>
<div id="admonition-caution" class="admonition admonish-warning" role="note" aria-labelledby="admonition-caution-title">
<div class="admonition-title">
<div id="admonition-caution-title">
<p>Caution</p>
</div>
<a class="admonition-anchor-link" href="explorers/mixnet-explorer.html#admonition-caution"></a>
</div>
<div>
<p>If using a VPS running Ubuntu 20: replace <code>certbot nginx python3</code> with <code>python3-certbot-nginx</code></p>
</div>
</div>
<h3 id="configure-your-firewall"><a class="header" href="#configure-your-firewall">Configure your firewall</a></h3>
<p>The following commands will allow you to set up a firewall using <code>ufw</code>.</p>
<pre><code># check if you have ufw installed
ufw version
# if it is not installed, install with
sudo apt install ufw -y
# enable ufw
sudo ufw enable
# check the status of the firewall
sudo ufw status
</code></pre>
<p>Now open the ports:</p>
<pre><code>sudo ufw allow 22,80,443/tcp
# check the status of the firewall
sudo ufw status
</code></pre>
<footer id="last-change">Last change: 2023-04-17, commit: <a href="https://github.com/nymtech/nym/documentation//commit/3dafe02f0">3dafe02f0</a></footer><div style="break-before: page; page-break-before: always;"></div><h1 id="interacting-with-nyx-chain-and-smart-contracts"><a class="header" href="#interacting-with-nyx-chain-and-smart-contracts">Interacting with Nyx Chain and Smart Contracts</a></h1>
<p>There are two options for interacting with the blockchain to send tokens or interact with deployed smart contracts:</p>
<ul>
<li><a href="nyx/../tools/nym-cli.html"><code>Nym-CLI</code></a> tool</li>
<li><code>nyxd</code> binary</li>
</ul>
<h2 id="nym-cli-tool-recommended-in-most-cases"><a class="header" href="#nym-cli-tool-recommended-in-most-cases">Nym-CLI tool (recommended in most cases)</a></h2>
<p>The <code>nym-cli</code> tool is a binary offering a simple interface for interacting with deployed smart contract (for instance, bonding and unbonding a mix node from the CLI), as well as creating and managing accounts and keypairs, sending tokens, and querying the blockchain.</p>
<p>Instructions on how to do so can be found on the <a href="nyx/../tools/nym-cli.html"><code>nym-cli</code> docs page</a>, and there are example commands in the <a href="https://nymtech.net/developers/faq/integrations-faq.html">integrations FAQ</a>.</p>
<h2 id="nyxd-binary"><a class="header" href="#nyxd-binary">Nyxd binary</a></h2>
<p>The <code>nyxd</code> binary, although more complex to compile and use, offers the full range of commands availiable to users of CosmosSDK chains. Use this if you are (e.g.) wanting to perform more granular queries about transactions from the CLI.</p>
<p>You can use the instructions on how to do this on from the <a href="https://hub.cosmos.network/main/delegators/delegator-guide-cli.html#querying-the-state"><code>gaiad</code> docs page</a>, and there are example commands in the <a href="https://nymtech.net/developers/faq/integrations-faq.html">integrations FAQ</a>.</p>
<footer id="last-change">Last change: 2023-11-30, commit: <a href="https://github.com/nymtech/nym/documentation//commit/a6b0a522a">a6b0a522a</a></footer><div style="break-before: page; page-break-before: always;"></div><h1 id="smart-contracts"><a class="header" href="#smart-contracts">Smart Contracts</a></h1>
<p>The Nyx blockchain is based on <a href="https://cosmwasm.com/">CosmWasm</a>. It allows users to code smart contracts in a safe subset of the Rust programming language, easily export them to WebAssembly, and upload them to the blockchain. Information about the chain can be found on the <a href="https://nym.explorers.guru/">Nyx blockchain explorer</a>.</p>
<p>There are currently two smart contracts on the Nyx chain:</p>
<ul>
<li>the <a href="nyx/./mixnet-contract.html">Mixnet contract</a> which manages the network topology of the mixnet, tracking delegations and rewarding.</li>
<li>the <a href="nyx/./vesting-contract.html">Vesting contract</a> which manages <code>NYM</code> token vesting functionality.</li>
</ul>
<blockquote>
<p>Users will soon be able to create and upload their own CosmWasm smart contracts to Nyx and take advantage of applications such as the Coconut Credential Scheme - more to be announced regarding this very soon.</p>
</blockquote>
<footer id="last-change">Last change: 2023-04-17, commit: <a href="https://github.com/nymtech/nym/documentation//commit/3dafe02f0">3dafe02f0</a></footer><div style="break-before: page; page-break-before: always;"></div><h1 id="mixnet-contract"><a class="header" href="#mixnet-contract">Mixnet Contract</a></h1>
<p>The Mixnet smart contract is a core piece of the Nym system, functioning as the mixnet directory and keeping track of delegations and rewards: the core functionality required by an incentivised mixnet. You can find the code and build instructions <a href="https://github.com/nymtech/nym/tree/master/contracts/mixnet">here</a>.</p>
<h3 id="functionality"><a class="header" href="#functionality">Functionality</a></h3>
<p>The Mixnet contract has multiple functions:</p>
<ul>
<li>storing bonded mix node and gateway information (and removing this on unbonding).</li>
<li>providing the network-topology to the (cached) validator API endpoint used by clients on startup for routing information.</li>
<li>storing delegation and bond amounts.</li>
<li>storing reward amounts.</li>
</ul>
<p>The addresses of deployed smart contracts can be found in the <a href="https://github.com/nymtech/nym/blob/master/common/network-defaults/src/mainnet.rs"><code>network-defaults</code></a> directory of the codebase alongside other network default values.</p>
<footer id="last-change">Last change: 2023-09-05, commit: <a href="https://github.com/nymtech/nym/documentation//commit/22c59be82">22c59be82</a></footer><div style="break-before: page; page-break-before: always;"></div><h1 id="vesting-contract"><a class="header" href="#vesting-contract">Vesting Contract</a></h1>
<p>The vesting contract allows for the creation of vesting accounts, allowing <code>NYM</code> tokens to vest over time, and for users to minimally interact with the Mixnet using their unvested tokens. You can find the code and build instructions <a href="https://github.com/nymtech/nym/tree/master/contracts/vesting">here</a>.</p>
<h3 id="functionality-1"><a class="header" href="#functionality-1">Functionality</a></h3>
<p>The Vesting contract has multiple functions:</p>
<ul>
<li>Creating and storing vesting <code>NYM</code> token vesting accounts.</li>
<li>Interacting with the Mixnet using vesting (i.e. non-transferable) tokens, allowing users to delegate their unvested tokens.</li>
</ul>
<p>The addresses of deployed smart contracts can be found in the <a href="https://github.com/nymtech/nym/blob/master/common/network-defaults/src/mainnet.rs"><code>network-defaults</code></a> directory of the codebase alongside other network default values.</p>
<footer id="last-change">Last change: 2023-09-05, commit: <a href="https://github.com/nymtech/nym/documentation//commit/22c59be82">22c59be82</a></footer><div style="break-before: page; page-break-before: always;"></div><h1 id="rpc-nodes"><a class="header" href="#rpc-nodes">RPC Nodes</a></h1>
<p>RPC Nodes (which might otherwise be referred to as ‘Lite Nodes’ or just ‘Full Nodes’) differ from Validators in that they hold a copy of the Nyx blockchain, but do <strong>not</strong> participate in consensus / block-production.</p>
<p>You may want to set up an RPC Node for querying the blockchain, or in order to have an endpoint that your app can use to send transactions.</p>
<p>In order to set up an RPC Node, simply follow the instructions to set up a <a href="https://nymtech.net/operators/nodes/validator-setup.html">Validator</a>, but <strong>exclude the <code>nyxd tx staking create-validator</code> command</strong>.</p>
<p>If you want to fast-sync your node, check out the Polkachu snapshot and their other <a href="https://polkachu.com/seeds/nym">resources</a>.</p>
<footer id="last-change">Last change: 2023-09-07, commit: <a href="https://github.com/nymtech/nym/documentation//commit/f7974c5db">f7974c5db</a></footer><div style="break-before: page; page-break-before: always;"></div><h1 id="ledger-live-support"><a class="header" href="#ledger-live-support">Ledger Live Support</a></h1>
<p>Use the following instructions to interact with the Nyx blockchain - either with deployed smart contracts, or just to send tokens - using your Ledger device to sign transactions.</p>
<h2 id="prerequisites-2"><a class="header" href="#prerequisites-2">Prerequisites</a></h2>
<ul>
<li>Download and install <a href="https://www.ledger.com/ledger-live">Ledger Live</a>.</li>
<li>Compile the <code>nyxd</code> binary as per the instructions <a href="https://nymtech.net/operators/nodes/validator-setup.html#building-the-nym-validator">here</a>. Stop after you can successfully run <code>nyxd</code> and get the helptext in your console output.</li>
</ul>
<h2 id="prepare-your-ledger-app"><a class="header" href="#prepare-your-ledger-app">Prepare your Ledger App</a></h2>
<ul>
<li>Plug in your Ledger device</li>
<li>Install the <code>Cosmos (ATOM)</code> app by following the instructions <a href="https://hub.cosmos.network/main/resources/ledger.html">here</a>. This app allows you to interact with <strong>any</strong> Cosmos SDK chain - you can manage your ATOM, OSMOSIS, NYM tokens, etc.</li>
<li>On the device, navigate to the Cosmos app and open it</li>
</ul>
<h2 id="create-a-keypair"><a class="header" href="#create-a-keypair">Create a keypair</a></h2>
<p>Add a reference to the ledger device on your local machine by running the following command in the same directory as your <code>nyxd</code> binary:</p>
<pre><code>nyxd keys add ledger_account --ledger 
</code></pre>
<h2 id="command-help-with-nyxd"><a class="header" href="#command-help-with-nyxd">Command help with <code>nyxd</code></a></h2>
<p>More information about each command is available by consulting the help section (<code>--help</code>) at each layer of <code>nyxd</code>’s commands:</p>
<pre><code># logging top level command help
nyxd --help

# logging top level command help for transaction commands 
nyxd tx --help

# logging top level command help for transaction commands utilising the 'bank' module
nyxd tx bank --help
</code></pre>
<h2 id="sending-tokens-between-addresses"><a class="header" href="#sending-tokens-between-addresses">Sending tokens between addresses</a></h2>
<p>Perform a transaction from the CLI with <code>nyxd</code>, appending the <code>--ledger</code> option to the command.</p>
<p>As an example, the below command will send 1 <code>NYM</code> from the ledger account to the <code>$DESTINATION_ACCOUNT</code>:</p>
<pre><code>nyxd tx bank send ledger_account $DESTINATION_ACCOOUNT 1000000unym --ledger --node https://rpc.dev.nymte.ch:443
</code></pre>
<blockquote>
<p>When a command is run, the transaction will appear on the Ledger device and will require physical confirmation from the device before being signed.</p>
</blockquote>
<h2 id="nym-specific-transactions"><a class="header" href="#nym-specific-transactions">Nym-specific transactions</a></h2>
<p>Nym-specific commands and queries, like bonding a mix node or delegating unvested tokens, are available in the <code>wasm</code> module, and follow the following pattern:</p>
<pre><code># Executing commands
nyxd tx wasm execute $CONTRACT_ADDRESS $JSON_MSG

# Querying the state of a smart contract 
nyxd query wasm contract-state smart $CONTRACT_ADDRESS $JSON_MSG
</code></pre>
<p>You can find the value of <code>$CONTRACT_ADDRESS</code> in the <a href="https://github.com/nymtech/nym/blob/release/v1.1.7/common/network-defaults/src/mainnet.rs"><code>network defaults</code></a> file.</p>
<p>The value of <code>$JSON_MSG</code> will be a blog of <code>json</code> formatted as defined for each command and query. You can find these definitions for the mixnet smart contract <a href="https://github.com/nymtech/nym/blob/develop/common/cosmwasm-smart-contracts/mixnet-contract/src/msg.rs">here</a> and for the vesting contract <a href="https://github.com/nymtech/nym/blob/develop/common/cosmwasm-smart-contracts/vesting-contract/src/messages.rs">here</a> under <code>ExecuteMsg</code> and <code>QueryMsg</code>.</p>
<h3 id="example-command-execution"><a class="header" href="#example-command-execution">Example command execution:</a></h3>
<h4 id="delegate-to-a-mix-node"><a class="header" href="#delegate-to-a-mix-node">Delegate to a mix node</a></h4>
<p>You can delegate to a mix node from the CLI using <code>nyxd</code> and signing the transaction with your ledger by filling in the values of this example:</p>
<pre><code>CONTRACT_ADDRESS=mixnet_contract_address

./nyxd tx wasm execute $CONTRACT_ADDRESS '{"delegate_to_mixnode":{"mix_identity":"MIX_NODE_IDENTITY","amount":{"amount":"100000000000","denom":"unym"}}}' --ledger --from admin --node https://rpc.dev.nymte.ch:443 --gas-prices 0.025unymt --gas auto -b block
</code></pre>
<blockquote>
<p>By replacing the value of <code>CONTRACT_ADDRESS</code> with the address of the vesting contract, you could use the above command to use tokens held in the vesting contract.</p>
</blockquote>
<h4 id="query-a-vesting-schedule"><a class="header" href="#query-a-vesting-schedule">Query a vesting schedule</a></h4>
<p>You can query for (e.g.) seeing the current vesting period of an address by filling in the values of the following:</p>
<pre><code>CONTRACT_ADDRESS=vesting_contract_address

nyxd query wasm contract-state smart $CONTRACT_ADDRESS '{"get_current_vesting_period"}:{"address": "address_to_query_for"}' --ledger --from admin --node https://rpc.dev.nymte.ch:443 --chain-id qa-net --gas-prices 0.025unymt --gas auto -b block  
</code></pre>
<footer id="last-change">Last change: 2023-09-07, commit: <a href="https://github.com/nymtech/nym/documentation//commit/b4ccd16d8">b4ccd16d8</a></footer><div style="break-before: page; page-break-before: always;"></div><h1 id="coconut"><a class="header" href="#coconut">Coconut</a></h1>
<blockquote>
<p>Coconut is in active development - stay tuned for code and integration examples</p>
</blockquote>
<p>Coconut is a cryptographic signature scheme that produces privacy-enhanced credentials. It lets application programmers who are concerned with resource access control to think and code in a new way.</p>
<p>Most of the time, when we build system security, we think of <em>who</em> questions:</p>
<ul>
<li>Has Alice identified herself (authentication)?</li>
<li>Is Alice allowed to take a specific action (authorisation)?</li>
</ul>
<p>Coconut fundamentally changes these questions. Rather than asking <em>who</em> a user is, it allows application designers to ask different questions, mostly centered around questions of <em>rights</em>:</p>
<ul>
<li>Does the entity taking this action have a right to do X?</li>
</ul>
<p>This allows a different kind of security. Many of the computer systems we talk to every day don’t need to know <em>who we are</em>, they only need to know if we have a <em>right to use</em> the system. Coconut allows signing authorities and validators to work together to determine whether a given private key holder has a right to take an action. The credentials are generated cooperatively by decentralised, trustless systems.</p>
<p>Once the credentials are generated, they can be <em>re-randomized:</em> entirely new credentials, which no one has ever seen before, can be presented to service providers, and magically validated without being linkable back to the credential originally given out by validators.</p>
<p>These properties allow Coconut credentials to act as something like a decentralized and fully private version of OAuth credentials, or like cryptographic bearer tokens generated by decentralised systems. The tokens can be mutated so that they are not traceable, but still verified with the original permissions intact.</p>
<p>Users present cryptographic claims encoded inside the credentials to get secure access to resources despite the systems verifying credential usage not being able to know who they are.</p>
<h3 id="re-randomisation-vs-pseudonymity"><a class="header" href="#re-randomisation-vs-pseudonymity">Re-randomisation vs pseudonymity</a></h3>
<p>We stand on the shoulders of giants. Ten years ago, Bitcoin showed the way forward by allowing people to control resource access without recourse to <em>who</em> questions. Rather, in Bitcoin and succeeding blockchains, a private key proves a <em>right to use</em>.</p>
<p>But as we can now see, private keys in blockchain systems act only as a minor barrier to finding out <em>who</em> is accessing resources. A Bitcoin or Ethereum private key is effectively a long-lived pseudonym which is easily traceable through successive transactions.</p>
<p>Coconut allows us to build truly private systems rather than pseudonymous ones.</p>
<h3 id="how-does-coconut-work"><a class="header" href="#how-does-coconut-work">How does Coconut work?</a></h3>
<p>Just like normal credentials, Nym’s Coconut credentials can be signed with a secret key and later verified by anybody with the correct public key. But Nym credentials have additional superpowers when compared to “normal” signature schemes like RSA or DSA.</p>
<p>Specifically, Coconut is a blinded, re-randomizable, selective disclosure threshold credential signature scheme. That’s quite a mouthful, so let’s break it down into its component parts.</p>
<p>Let’s say you have a <code>message</code> with the content <code>This credential controls X</code> in hand. In addition to the normal <code>sign(message, secretKey)</code> and <code>verify(message, publicKey)</code> functions present in other signature schemes, Coconut adds the following:</p>
<ol>
<li>
<p><em><a href="https://en.wikipedia.org/wiki/Blind_signature">Blind signatures</a></em> - disguises message content so that the signer can’t see what they’re signing. This defends users against signers: the entity that signed can’t identify the user who created a given credential, since they’ve never seen the message they’re signing before it’s been <em>blinded</em> (turned into gobbledygook). Coconut uses zero-knowledge proofs so that the signer can sign confidently without seeing the unblinded content of the message.</p>
</li>
<li>
<p><em>Re-randomizable signatures</em> - take a signature, and generate a brand new signature that is valid for the same underlying message <code>This credential controls X</code>. The new bitstring in the re-randomized signature is equivalent to the original signature but not linkable to it. So a user can “show” a credential multiple times, and each time it appears to be a new credential, which is unlinkable to any previous “show”. But the underlying content of the re-randomized credential is the same (including for things like double-spend protection). This once again protects the user against the signer, because the signer can’t trace the signed message that they gave back to the user when it is presented. It also protects the user against the relying party that accepts the signed credential. The user can show re-randomized credentials repeatedly, and although the underlying message is the same in all cases, there’s no way of tracking them by watching the user present the same credential multiple times.</p>
</li>
<li>
<p><em>Selective disclosure of attributes</em> - allows someone with the public key to verify some, but not all, parts of a message. So you could for instance selectively reveal parts of a signed message to some people, but not to others. This is a very powerful property of Coconut, potentially leading to diverse applications: voting systems, selective revelation of medical data, privacy-friendly KYC systems, etc.</p>
</li>
<li>
<p><em><a href="https://en.wikipedia.org/wiki/Threshold_cryptosystem">Threshold issuance</a></em> - allows signature generation to be split up across multiple nodes and decentralized, so that either all signers need to sign (<em>n of n</em> where <em>n</em> is the number of signers) or only a threshold number of signers need to sign a message (<em>t of n</em> where <em>t</em> is the threshold value).</p>
</li>
</ol>
<p>Taken together, these properties provide privacy for applications when it comes to generating and using signatures for cryptographic claims. If you compare it to existing tech, you might think of it as a sort of supercharged decentralized privacy-friendly <a href="https://jwt.io/">JWT</a>.</p>
<p>A slightly expanded view of Coconut is available <a href="https://medium.com/nymtech/nyms-coconut-credentials-an-overview-4aa4e922cd51">in this blog post</a>.</p>
<h3 id="using-coconut-for-blockchain-transaction-privacy"><a class="header" href="#using-coconut-for-blockchain-transaction-privacy">Using Coconut for blockchain transaction privacy</a></h3>
<p>In the context of a blockchain currency system, Coconut allows us to create a privacy-enhanced Coconut credential which provably represents an amount under control of a given entity. The credential can then be “spent” anonymously, as if it were the original value. Double-spending protections apply to the credential, so it can only be spent once. Nyx Validators can then unlock the value so it can be redeemed by the party holding the credential.</p>
<p>Although there’s still work to be done to integrate it against various blockchains, in principle Coconut can anonymise blockchain transactions in any system which provides multi-sig. We’re working on <a href="https://cosmos.network">Cosmos</a> integration at the moment. Bitcoin and Ethereum are also obvious targets here.</p>
<p>Coconut is simple and flexible, and can ensure privacy for more than coin transfers; it can provide privacy for more complex smart contracts as well.</p>
<p>Finally, it should be mentioned that Coconut can be applied to both blockchain and non-blockchain systems - it’s a general purpose technology.</p>
<footer id="last-change">Last change: 2023-04-17, commit: <a href="https://github.com/nymtech/nym/documentation//commit/3dafe02f0">3dafe02f0</a></footer><div style="break-before: page; page-break-before: always;"></div><h1 id="bandwidth-credentials"><a class="header" href="#bandwidth-credentials">Bandwidth Credentials</a></h1>
<p>You can now try using Nym Bandwidth Credentials in our <a href="https://sandbox-explorer.nymtech.net">Sandbox testnet environment</a>.</p>
<p>Create a <code>sandbox.env</code> file with the following details:</p>
<pre><code>CONFIGURED=true

NETWORK_NAME=sandbox

RUST_LOG=info
RUST_BACKTRACE=1

BECH32_PREFIX=nymt
MIX_DENOM=unymt
MIX_DENOM_DISPLAY=nymt
STAKE_DENOM=unyxt
STAKE_DENOM_DISPLAY=nyxt
DENOMS_EXPONENT=6

REWARDING_VALIDATOR_ADDRESS="nymt1mxuweurc066kprnngtm8zmvam7m2nw26yatpmv"
MIXNET_CONTRACT_ADDRESS="nymt1dlsvvgey26ernlj0sq2afjluh3qd4ap0k9eerekfkw5algqrwqksaf2qf7"
VESTING_CONTRACT_ADDRESS="nymt19g9xuqrvz2frv905v3fc7puryfypluhg383q9zwsmedrlqekfgys62ykm4"
MULTISIG_CONTRACT_ADDRESS="nymt142dkm8xe9f0ytyarp7ww4kvclva65705jphxsk9exn3nqdsm8jkqnp06ac"
COCONUT_BANDWIDTH_CONTRACT_ADDRESS="nymt1ty0frysegskh6ndm3v96z5xdq66qzcu0aw7xcxlgp54jg0mjwlgqplc6v0"
COCONUT_DKG_CONTRACT_ADDRESS="nymt1gwk6muhmzeuxje7df7rjvqwl2vex0kj4t2hwuzmyx5k62kfusu5qk4k5z4"
GROUP_CONTRACT_ADDRESS="nymt14ry36mwauycz08v8ndcujghxz4hmua5epxcn0mamlr3suqe0l2qsqx5ya2"

STATISTICS_SERVICE_DOMAIN_ADDRESS="http://0.0.0.0"
NYXD="https://rpc.sandbox.nymtech.net"
NYM_API="https://sandbox-validator1-api.nymtech.net/api"
</code></pre>
<p>Create an account on Sandbox using the nym-cli:</p>
<p><code>./nym-cli --config-env-file &lt;path-to&gt;sandbox.env account create</code></p>
<p>You will need <code>nymt</code> funds sent to this account. Get in touch via Nym <a href="https://t.me/nymchan">Telegram</a> or <a href="https://nymtech.net/go/discord">Discord</a> and we can send them to you.</p>
<p>Next, you init the nym-client with the enabled credentials mode set to true:</p>
<p><code>./nym-client --config-env-file &lt;path-to&gt;sandbox.env init --id &lt;ID&gt; --enabled-credentials-mode true</code></p>
<p>Using the new credentials binary, purchase some credentials for the client. The recovery directory is a directory where the credentials will be temporarily stored in case the request fails.</p>
<p><code>./credential --config-env-file &lt;path-to&gt;sandbox.env run --client-home-directory &lt;path-to-the-client-config&gt; --nyxd-url https://rpc.sandbox.nymtech.net --mnemonic "&lt;mnemonic of the account created above&gt;" --amount 50 --recovery-dir &lt;a-path&gt; </code></p>
<p>You can redeem this now by running the nym-client, in enabled credentials mode:</p>
<p><code>./nym-client --config-env-file &lt;path-to&gt;sandbox.env run --id &lt;ID&gt; --enabled-credentials-mode true</code></p>
<p>Run the network requester which can be downloaded <a href="https://github.com/nymtech/nym/releases/download/nym-binaries-v1.1.9/nym-network-requester">here</a></p>
<p><code>./nym-network-requester run</code></p>
<blockquote>
<p>You need to run this version for now, as the <code>nym-client</code> functionality was recently integrated into the <code>network-requester</code> binary but for the moment cannot support coconut credentials natively.</p>
</blockquote>
<p>Now time to init the socks5 client:</p>
<p><code>./nym-socks5-client --config-env-file &lt;path-to&gt;sandbox.env init --id &lt;ID&gt; --provider &lt;insert provider address which was returned when init-ing the nym-client&gt; --enabled-credentials-mode true</code></p>
<p>Purchase credentials for this now too:</p>
<p><code>./credential --config-env-file &lt;path-to&gt;sandbox.env run --client-home-directory &lt;path-to-socks5-config&gt; --nyxd-url https://rpc.sandbox.nymtech.net --mnemonic "&lt;any valid sandbox mnemonic&gt;" --amount 100 --recovery-dir &lt;a-path&gt;</code></p>
<p>Run the socks5 client:</p>
<p><code>./nym-socks5-client --config-env-file &lt;path-to&gt;sandbox.env run --id &lt;ID&gt; --enabled-credentials-mode true</code></p>
<p>NOTE</p>
<p>You can check to see if credentials have been correctly purchased by installing sqlite, and proceeding to do the following:</p>
<pre><code>sqlite3 ~/.nym/socks5-clients/&lt;ID&gt;/data/credentials_database.db  
select * from coconut_credentials;
</code></pre>
<p>Keep in mind 1GB = 1NYM</p>
<footer id="last-change">Last change: 2024-07-15, commit: <a href="https://github.com/nymtech/nym/documentation//commit/3a053b8dd">3a053b8dd</a></footer><div style="break-before: page; page-break-before: always;"></div><h1 id="nym-cli"><a class="header" href="#nym-cli">Nym-CLI</a></h1>
<h2 id="what-is-this-tool-for"><a class="header" href="#what-is-this-tool-for">What is this tool for?</a></h2>
<p>This is a CLI tool for interacting with:</p>
<ul>
<li>the Nyx blockchain (account management, querying the chain state, etc)</li>
<li>the smart contracts deployed on Nyx (bonding and un-bonding mixnodes, collecting rewards, etc)</li>
</ul>
<p>It provides a convenient wrapper around the <code>nymd</code> client, and has similar functionality to the <code>nyxd</code> binary for querying the chain or executing smart contract methods.</p>
<h2 id="building"><a class="header" href="#building">Building</a></h2>
<p>The <code>nym-cli</code> binary can be built by running <code>cargo build --release</code> in the <code>nym/tools/nym-cli</code> directory.</p>
<h3 id="usage"><a class="header" href="#usage">Usage</a></h3>
<p>You can see all available commands with:</p>
<pre><code>./nym-cli --help
</code></pre>
<details id="admonition-console-output" class="admonition admonish-example" role="note" aria-labelledby="admonition-console-output-title">
<summary class="admonition-title">
<div id="admonition-console-output-title">
<p>Console output</p>
</div>
<a class="admonition-anchor-link" href="tools/nym-cli.html#admonition-console-output"></a>
</summary>
<div>
<pre><code>
nym-cli
A client for interacting with Nym smart contracts and the Nyx blockchain

USAGE:
    nym-cli [OPTIONS] &lt;subcommand&gt;

OPTIONS:
        --config-env-file &lt;CONFIG_ENV_FILE&gt;
            Overrides configuration as a file of environment variables. Note: individual env vars
            take precedence over this file.

    -h, --help
            Print help information

        --mixnet-contract-address &lt;MIXNET_CONTRACT_ADDRESS&gt;
            Overrides the mixnet contract address provided either as an environment variable or in a
            config file

        --mnemonic &lt;MNEMONIC&gt;
            Provide the mnemonic for your account. You can also provide this is an env var called
            MNEMONIC.

        --nymd-url &lt;NYMD_URL&gt;
            Overrides the nymd URL provided either as an environment variable NYMD_VALIDATOR or in a
            config file

        --validator-api-url &lt;VALIDATOR_API_URL&gt;
            Overrides the validator API URL provided either as an environment variable API_VALIDATOR
            or in a config file

        --vesting-contract-address &lt;VESTING_CONTRACT_ADDRESS&gt;
            Overrides the vesting contract address provided either as an environment variable or in
            a config file

subcommands:
    account             Query and manage Nyx blockchain accounts
    block               Query chain blocks
    cosmwasm            Manage and execute WASM smart contracts
    generate-fig        Generates shell completion
    help                Print this message or the help of the given subcommand(s)
    mixnet              Manage your mixnet infrastructure, delegate stake or query the directory
    signature           Sign and verify messages
    tx                  Query for transactions
    vesting-schedule    Create and query for a vesting schedule
</code></pre>
</div>
</details>
<h2 id="example-usage"><a class="header" href="#example-usage">Example Usage</a></h2>
<p>Below we have listed some example commands for some of the features listed above.</p>
<p>If ever in doubt what you need to type, or if you want to see alternative parameters for a command, use the <code>nym-cli &lt;subcommand_name&gt; --help</code> to view all available options.</p>
<pre><code>./nym-cli account create --help
</code></pre>
<details id="admonition-console-output-1" class="admonition admonish-example" role="note" aria-labelledby="admonition-console-output-1-title">
<summary class="admonition-title">
<div id="admonition-console-output-1-title">
<p>Console output</p>
</div>
<a class="admonition-anchor-link" href="tools/nym-cli.html#admonition-console-output-1"></a>
</summary>
<div>
<pre><code>
Create a new mnemonic - note, this account does not appear on the chain until the account id is used in a transaction

USAGE:
    nym-cli account create [OPTIONS]

OPTIONS:
    --config-env-file &lt;CONFIG_ENV_FILE&gt;
        Overrides configuration as a file of environment variables. Note: individual env vars take precedence over this file.

-h, --help
        Print help information

    --mixnet-contract-address &lt;MIXNET_CONTRACT_ADDRESS&gt;
        Overrides the mixnet contract address provided either as an environment variable or in a
        config file

    --mnemonic &lt;MNEMONIC&gt;
        Provide the mnemonic for your account. You can also provide this is an env var called
        MNEMONIC.

    --nymd-url &lt;NYMD_URL&gt;
        Overrides the nymd URL provided either as an environment variable NYMD_VALIDATOR or in a
        config file

    --validator-api-url &lt;VALIDATOR_API_URL&gt;
        Overrides the validator API URL provided either as an environment variable API_VALIDATOR
        or in a config file

    --vesting-contract-address &lt;VESTING_CONTRACT_ADDRESS&gt;
        Overrides the vesting contract address provided either as an environment variable or in
        a config file

    --word-count &lt;WORD_COUNT&gt;
</code></pre>
</div>
</details>
<h3 id="create-account"><a class="header" href="#create-account">Create account</a></h3>
<p>Creates an account with a random Mnemonic and a new address.</p>
<pre><code>./nym-cli account create

# Result:
# 1. Mnemonic
assist jungle spoil domain saddle energy box carpet toy resist castle faith talent note outdoor inform cage lecture syrup trigger dress oppose slender museum
# 2. Address
n132tpw4kkfas7ah0vmq78dwurhxljf2f869tlf5
</code></pre>
<blockquote>
<p>NEVER share your mnemonic with anyone. Keep it stored in a safe and secure location.</p>
</blockquote>
<h3 id="check-the-current-balance-of-an-account"><a class="header" href="#check-the-current-balance-of-an-account">Check the current balance of an account</a></h3>
<p>Queries the existing balance of an account.</p>
<pre><code># Using adddress below for example purposes.
./nym-cli account balance n1hzn28p2c6pzr98r85jp3h53fy8mju5w7ndd5vh

# Result:
2022-11-10T10:28:54.009Z INFO  nym_cli_commands::validator::account::balance &gt; Getting balance for n1hzn28p2c6pzr98r85jp3h53fy8mju5w7ndd5vh...

# Balance for each token will be listed here
0.264 nym
1921.995 nyx
</code></pre>
<p>You can also query an accounts balance by using its mnemonic:</p>
<pre><code>./nym-cli account balance --mnemonic &lt;mnemonic&gt;
</code></pre>
<h3 id="send-tokens-to-an-account"><a class="header" href="#send-tokens-to-an-account">Send tokens to an account</a></h3>
<p>Sends tokens to an account using an address.</p>
<pre><code>./nym-cli account send &lt;ADDRESS&gt; &lt;AMOUNT&gt;
</code></pre>
<h3 id="get-the-current-block-height"><a class="header" href="#get-the-current-block-height">Get the current block height</a></h3>
<p>Queries the specified blockchain (Nyx chain by default) for the current block height.</p>
<pre><code>./nym-cli block current-height --mnemonic &lt;mnemonic&gt;

# Result:
Current block height:
&lt;BLOCK_HEIGHT&gt;
</code></pre>
<h3 id="query-for-a-mix-node"><a class="header" href="#query-for-a-mix-node">Query for a mix node</a></h3>
<p>Query a mix node on the mixnet.</p>
<pre><code>./nym-cli mixnet query mixnodes --mnemonic &lt;mnemonic&gt;
</code></pre>
<h3 id="bond-a-mix-node"><a class="header" href="#bond-a-mix-node">Bond a mix node</a></h3>
<p>Bonding a mix node is a process that takes a few steps due to the need to sign a transaction with your nym address for replay attack protection.</p>
<ul>
<li>generate a signature payload:</li>
</ul>
<pre><code>./nym-cli mixnet operators mixnode create-mixnode-bonding-sign-payload

# returns something like
97GEhgMrPTmQVZgHqJeqWmgQ154GLKqy8xNGtLkV8xy5xc1SuwsEnqjhtZVshBYK74n53fFkKbSrS6kxkBE3vUikbU76JZmLMFmfR7aaU2NdBnfTPPHP2nwb2hJiEueq4SvvtDtQckxv7ZJzdxyXHxUeDPhzbprxTff78U3NGNk4cg6Q2K4EFqishdaqToedsXAPvVCWNbC1iWVjEq8nJ95Eb3NJyi3KmXcNDy4i8ZXgZHu4v8F4htXq2vZUdBSbizdkNr1NRvEg6PGVQdTseyuN8JxD3yuvrqprPY2kvJaT2YiYLPgWxoQtbfwcpkX4PP1PvwuMg4W8EXhitMpM2WHqLDP5vgfDGxdDCmRS44pM8ya4hcQ4g3McHWxduGWdbCzNNEsX6oQw4LVFcWn4mhbXSgqHwNQMm2TQW6LatYZSwCczdhEwV2CXe36UGCUzozmm4nj9qfUtXqDzMrHAAS8kjbKaVNaVaRRKgauQrHnK7QGg1QpVnnaxCs14wvUb62sio8XZmMzP2SjVaRJFCyJB3UwZ6L4oXMGMXSRsiKe8ZNTaa6iX69tx54CAAHBHoiReiq7E5T2VuR5v
</code></pre>
<ul>
<li>sign this payload:</li>
</ul>
<pre><code>./nym-mixnode sign --id upgrade_test --contract-msg 97GEhgMrPTmQVZgHqJeqWmgQ154GLKqy8xNGtLkV8xy5xc1SuwsEnqjhtZVshBYK74n53fFkKbSrS6kxkBE3vUikbU76JZmLMFmfR7aaU2NdBnfTPPHP2nwb2hJiEueq4SvvtDtQckxv7ZJzdxyXHxUeDPhzbprxTff78U3NGNk4cg6Q2K4EFqishdaqToedsXAPvVCWNbC1iWVjEq8nJ95Eb3NJyi3KmXcNDy4i8ZXgZHu4v8F4htXq2vZUdBSbizdkNr1NRvEg6PGVQdTseyuN8JxD3yuvrqprPY2kvJaT2YiYLPgWxoQtbfwcpkX4PP1PvwuMg4W8EXhitMpM2WHqLDP5vgfDGxdDCmRS44pM8ya4hcQ4g3McHWxduGWdbCzNNEsX6oQw4LVFcWn4mhbXSgqHwNQMm2TQW6LatYZSwCczdhEwV2CXe36UGCUzozmm4nj9qfUtXqDzMrHAAS8kjbKaVNaVaRRKgauQrHnK7QGg1QpVnnaxCs14wvUb62sio8XZmMzP2SjVaRJFCyJB3UwZ6L4oXMGMXSRsiKe8ZNTaa6iX69tx54CAAHBHoiReiq7E5T2VuR5v
</code></pre>
<ul>
<li>bond the node using the signature:</li>
</ul>
<pre><code>./nym-cli --mnemonic &lt;mnemonic&gt; mixnet operators mixnode bond --amount 100000000 --mix-port 1789 --version "1.1.13" --host "85.163.111.99" --identity-key "B6pWscxYb8sPAdKTci8zPy5AgMzn5Zx8KpWwQNCyUSU7" --location "nym-town" --sphinx-key "o6MmKHzRewpNzVwaV37ZX9G3BfK4AmfYvsQfyoyAFRk" --signature "2TujBZfer8r5QM639Yb8coD9xH6f5eXzjAT5dD7wMom9fH8D1u36d7UpPdVaaZrWsCynmYpobwMWqiMKr5kM6CprD"
</code></pre>
<h3 id="bond-a-gateway"><a class="header" href="#bond-a-gateway">Bond a gateway</a></h3>
<p>Bonding a mix node is a process that takes a few steps due to the need to sign a transaction with your nym address for replay attack protection.</p>
<ul>
<li>generate a signature payload:</li>
</ul>
<pre><code>./nym-cli mixnet operators gateway create-gateway-bonding-sign-payload

# returns something like
97GEhgMrPTmQVZgHqJeqWmgQ154GLKqy8xNGtLkV8xy5xc1SuwsEnqjhtZVshBYK74n53fFkKbSrS6kxkBE3vUikbU76JZmLMFmfR7aaU2NdBnfTPPHP2nwb2hJiEueq4SvvtDtQckxv7ZJzdxyXHxUeDPhzbprxTff78U3NGNk4cg6Q2K4EFqishdaqToedsXAPvVCWNbC1iWVjEq8nJ95Eb3NJyi3KmXcNDy4i8ZXgZHu4v8F4htXq2vZUdBSbizdkNr1NRvEg6PGVQdTseyuN8JxD3yuvrqprPY2kvJaT2YiYLPgWxoQtbfwcpkX4PP1PvwuMg4W8EXhitMpM2WHqLDP5vgfDGxdDCmRS44pM8ya4hcQ4g3McHWxduGWdbCzNNEsX6oQw4LVFcWn4mhbXSgqHwNQMm2TQW6LatYZSwCczdhEwV2CXe36UGCUzozmm4nj9qfUtXqDzMrHAAS8kjbKaVNaVaRRKgauQrHnK7QGg1QpVnnaxCs14wvUb62sio8XZmMzP2SjVaRJFCyJB3UwZ6L4oXMGMXSRsiKe8ZNTaa6iX69tx54CAAHBHoiReiq7E5T2VuR5v
</code></pre>
<ul>
<li>sign this payload:</li>
</ul>
<pre><code>./nym-gateway sign --id upgrade_test --contract-msg 97GEhgMrPTmQVZgHqJeqWmgQ154GLKqy8xNGtLkV8xy5xc1SuwsEnqjhtZVshBYK74n53fFkKbSrS6kxkBE3vUikbU76JZmLMFmfR7aaU2NdBnfTPPHP2nwb2hJiEueq4SvvtDtQckxv7ZJzdxyXHxUeDPhzbprxTff78U3NGNk4cg6Q2K4EFqishdaqToedsXAPvVCWNbC1iWVjEq8nJ95Eb3NJyi3KmXcNDy4i8ZXgZHu4v8F4htXq2vZUdBSbizdkNr1NRvEg6PGVQdTseyuN8JxD3yuvrqprPY2kvJaT2YiYLPgWxoQtbfwcpkX4PP1PvwuMg4W8EXhitMpM2WHqLDP5vgfDGxdDCmRS44pM8ya4hcQ4g3McHWxduGWdbCzNNEsX6oQw4LVFcWn4mhbXSgqHwNQMm2TQW6LatYZSwCczdhEwV2CXe36UGCUzozmm4nj9qfUtXqDzMrHAAS8kjbKaVNaVaRRKgauQrHnK7QGg1QpVnnaxCs14wvUb62sio8XZmMzP2SjVaRJFCyJB3UwZ6L4oXMGMXSRsiKe8ZNTaa6iX69tx54CAAHBHoiReiq7E5T2VuR5v
</code></pre>
<ul>
<li>bond the node using this signature:</li>
</ul>
<pre><code>./nym-cli --mnemonic &lt;mnemonic&gt; mixnet operators gateway bond --amount 100000000 --mix-port 1789 --version "1.1.13" --host "85.163.111.99" --identity-key "B6pWscxYb8sPAdKTci8zPy5AgMzn5Zx8KpWwQNCyUSU7" --location "nym-town" --sphinx-key "o6MmKHzRewpNzVwaV37ZX9G3BfK4AmfYvsQfyoyAFRk" --signature "2TujBZfer8r5QM639Yb8coD9xH6f5eXzjAT5dD7wMom9fH8D1u36d7UpPdVaaZrWsCynmYpobwMWqiMKr5kM6CprD"
</code></pre>
<h3 id="un-bond-a-node"><a class="header" href="#un-bond-a-node">Un-bond a node</a></h3>
<p>Un-bond a mix node or gateway.</p>
<pre><code>./nym-cli mixnet operators gateway unbound --mnemonic &lt;mnemonic&gt;
</code></pre>
<blockquote>
<p>The same command can be applied with a mix node. Just replace <code>gateway</code> with <code>mixnode</code>.</p>
</blockquote>
<h3 id="upgrade-a-mix-node"><a class="header" href="#upgrade-a-mix-node">Upgrade a mix node</a></h3>
<p>Upgrade your node config.</p>
<pre><code>./nym-cli mixnet operators mixnode settings update-config --version &lt;new_version&gt;
</code></pre>
<h3 id="claim-a-vesting-reward-for-a-mixnode"><a class="header" href="#claim-a-vesting-reward-for-a-mixnode">Claim a vesting reward for a mixnode</a></h3>
<p>Claim rewards for a mix node bonded with locked tokens.</p>
<pre><code>./nym-cli mixnet operators mixnode rewards vesting-claim --mnemonic &lt;mnemonic&gt;
</code></pre>
<h3 id="claim-rewards"><a class="header" href="#claim-rewards">Claim rewards</a></h3>
<pre><code>./nym-cli mixnet operators mixnode rewards --mnemonic &lt;mnemonic&gt;
</code></pre>
<h3 id="manage-mix-node-settings"><a class="header" href="#manage-mix-node-settings">Manage Mix node Settings</a></h3>
<p>Manage your mix node settings stored in the directory.</p>
<pre><code>./nym-cli mixnet operators mixnode settings update-config --version &lt;VERSION_NUMBER&gt;
</code></pre>
<h3 id="delegate-stake"><a class="header" href="#delegate-stake">Delegate Stake</a></h3>
<p>Delegate to a mix node.</p>
<pre><code>./nym-cli mixnet delegators delegate --amount &lt;AMOUNT&gt; –mix-id &lt;MIX_ID&gt; --mnemonic &lt;mnemonic&gt;
</code></pre>
<h3 id="un-delegate-stake"><a class="header" href="#un-delegate-stake">Un-delegate Stake</a></h3>
<p>Remove stake from a mix node.</p>
<pre><code>./nym-cli mixnet delegators undelegate --mix-id &lt;MIX-ID&gt; --mnemonic &lt;mnemonic&gt;
</code></pre>
<h3 id="query-a-reward-for-a-delegator"><a class="header" href="#query-a-reward-for-a-delegator">Query a reward for a delegator</a></h3>
<p>Claim rewards accumulated during the delegation of unlocked tokens.</p>
<pre><code>./nym-cli mixnet delegators rewards claim --mix-id &lt;MIX-ID&gt; --mnemonic &lt;mnemonic&gt;
</code></pre>
<h3 id="signature-generation-sign-a-message"><a class="header" href="#signature-generation-sign-a-message">Signature Generation: Sign a message</a></h3>
<p>Sign a message.</p>
<pre><code>./nym-cli signature sign --mnemonic &lt;mnemonic&gt; &lt;MESSAGE&gt;

# Result:
{"account_id":&lt;ACCOUNT_ID&gt;,"public_key":{"@type":"/cosmos.crypto.secp256k1.PubKey","key":&lt;PUBLIC_KEY&gt;},"signature":"&lt;OUTPUT_SIGNATURE&gt;"}
</code></pre>
<h3 id="signature-generation-verify-a-signature"><a class="header" href="#signature-generation-verify-a-signature">Signature Generation: Verify a signature</a></h3>
<p>Verify a signature.</p>
<pre><code>./nym-cli signature verify  --mnemonic &lt;mnemonic&gt; &lt;PUBLIC_KEY_OR_ADDRESS&gt; &lt;SIGNATURE_AS_HEX&gt; &lt;MESSAGE&gt;
</code></pre>
<h3 id="create-a-vesting-schedule"><a class="header" href="#create-a-vesting-schedule">Create a Vesting Schedule</a></h3>
<p>Creates a vesting schedule for an account in the <a href="tools/../nyx/vesting-contract.html">vesting smart contract</a>.</p>
<pre><code>./nym-cli vesting-schedule create --mnemonic &lt;mnemonic&gt; --address &lt;ADDRESS&gt; --amount &lt;AMOUNT&gt;
</code></pre>
<h3 id="query-a-vesting-schedule-1"><a class="header" href="#query-a-vesting-schedule-1">Query a Vesting Schedule</a></h3>
<p>Query for vesting schedule in the <a href="tools/../nyx/vesting-contract.html">vesting smart contract</a>.</p>
<pre><code>./nym-cli vesting-schedule query --mnemonic &lt;mnemonic&gt;
</code></pre>
<h2 id="staking-on-someones-behalf-for-custodians"><a class="header" href="#staking-on-someones-behalf-for-custodians">Staking on someone’s behalf (for custodians)</a></h2>
<p>There is a limitation the staking address can only perform the following actions (and are visible via the Nym Wallet:</p>
<ul>
<li>Bond on the gateway’s or mix node’s behalf.</li>
<li>Delegate or Un-delegate (to a mix node in order to begin receiving rewards)</li>
<li>Claiming the rewards on the account</li>
</ul>
<div id="admonition-default" class="admonition admonish-note" role="note">
<div>
<p>The staking address has no ability to withdraw any coins from the parent’s account.</p>
</div>
</div>
<p>The staking address must maintain the same level of security as the parent mnemonic; while the parent mnemonic’s delegations and bonding events will be visible to the parent owner, the staking address will be the only account capable of undoing the bonding and delegating from the mix nodes or gateway.</p>
<p>Query for staking on behalf of someone else</p>
<pre><code>./nym-cli --mnemonic &lt;staking address mnemonic&gt;  mixnet delegators delegate --mix-id &lt;input&gt; --identity-key &lt;input&gt; --amount &lt;input&gt;
</code></pre>
<footer id="last-change">Last change: 2023-08-18, commit: <a href="https://github.com/nymtech/nym/documentation//commit/9652060c5">9652060c5</a></footer><div style="break-before: page; page-break-before: always;"></div><h1 id="code-of-conduct"><a class="header" href="#code-of-conduct">Code of Conduct</a></h1>
<p>We are committed to providing a friendly, safe and welcoming environment for all, regardless of level of experience, gender identity and expression, sexual orientation, disability, personal appearance, body size, race, ethnicity, age, religion, nationality, or other similar characteristic.</p>
<p>Please avoid using overtly sexual aliases or other nicknames that might detract from a friendly, safe and welcoming environment for all.</p>
<p>Please be kind and courteous. There’s no need to be mean or rude.</p>
<p>Respect that people have differences of opinion and that every design or implementation choice carries a trade-off and numerous costs. There is seldom a right answer.</p>
<p>Please keep unstructured critique to a minimum. If you have solid ideas you want to experiment with, make a fork and see how it works.</p>
<p>We will exclude you from interaction if you insult, demean or harass anyone. That is not welcome behaviour. We interpret the term “harassment” as including the definition in the Citizen Code of Conduct; if you have any lack of clarity about what might be included in that concept, please read their definition. In particular, we don’t tolerate behaviour that excludes people in socially marginalized groups.</p>
<p>Private harassment is also unacceptable. No matter who you are, if you feel you have been or are being harassed or made uncomfortable by a community member, please contact one of the channel ops or any of the Rust moderation team immediately. Whether you’re a regular contributor or a newcomer, we care about making this community a safe place for you and we’ve got your back.</p>
<p>Likewise any spamming, trolling, flaming, baiting or other attention-stealing behaviour is not welcome.</p>
<footer id="last-change">Last change: 2023-04-17, commit: <a href="https://github.com/nymtech/nym/documentation//commit/3dafe02f0">3dafe02f0</a></footer><div style="break-before: page; page-break-before: always;"></div><h1 id="licensing"><a class="header" href="#licensing">Licensing</a></h1>
<p>As a general approach, licensing is as follows this pattern:</p>
<ul>
<li><p xmlns:cc="http://creativecommons.org/ns#" xmlns:dct="http://purl.org/dc/terms/"><a property="dct:title" rel="cc:attributionURL" href="https://nymtech.net/docs">Nym Documentation</a> by <a rel="cc:attributionURL dct:creator" property="cc:attributionName" href="https://nymtech.net">Nym Technologies</a> is licensed under <a href="http://creativecommons.org/licenses/by-nc-sa/4.0/?ref=chooser-v1" target="_blank" rel="license noopener noreferrer" style="display:inline-block;">CC BY-NC-SA 4.0<img style="height:22px!important;margin-left:3px;vertical-align:text-bottom;" src="https://mirrors.creativecommons.org/presskit/icons/cc.svg?ref=chooser-v1"><img style="height:22px!important;margin-left:3px;vertical-align:text-bottom;" src="https://mirrors.creativecommons.org/presskit/icons/by.svg?ref=chooser-v1"><img style="height:22px!important;margin-left:3px;vertical-align:text-bottom;" src="https://mirrors.creativecommons.org/presskit/icons/nc.svg?ref=chooser-v1"><img style="height:22px!important;margin-left:3px;vertical-align:text-bottom;" src="https://mirrors.creativecommons.org/presskit/icons/sa.svg?ref=chooser-v1"></a></p>
</li>
<li>
<p>Nym applications and binaries are <a href="https://www.gnu.org/licenses/">GPL-3.0-only</a></p>
</li>
<li>
<p>Used libraries and different components are <a href="https://www.apache.org/licenses/LICENSE-2.0.html">Apache 2.0</a> or <a href="https://mit-license.org/">MIT</a></p>
</li>
</ul>
<p>For accurate information, please check individual files.</p>
<footer id="last-change">Last change: 2023-11-29, commit: <a href="https://github.com/nymtech/nym/documentation//commit/dafed3ad5">dafed3ad5</a></footer>
                            </div>
                        </main>
                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->


                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">

            </nav>

        </div>

        <!-- Livereload script (if served using the cli tool) -->
        <script>
            const wsProtocol = location.protocol === 'https:' ? 'wss:' : 'ws:';
            const wsAddress = wsProtocol + "//" + location.host + "/" + "__livereload";
            const socket = new WebSocket(wsAddress);
            socket.onmessage = function (event) {
                if (event.data === "reload") {
                    socket.close();
                    location.reload();
                }
            };

            window.onbeforeunload = function() {
                socket.close();
            }
        </script>


        <script>
            window.playground_copyable = true;
        </script>


        <script src="elasticlunr.min.js"></script>
        <script src="mark.min.js"></script>
        <script src="searcher.js"></script>

        <script src="clipboard.min.js"></script>
        <script src="highlight.js"></script>
        <script src="book.js"></script>

        <!-- Custom JS scripts -->
        <script src="./themes/pagetoc.js"></script>

        <script>
        window.addEventListener('load', function() {
            window.setTimeout(window.print, 100);
        });
        </script>


    </div>
    </body>
</html>
